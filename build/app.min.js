!function(i){"use strict";var t=["ui.bootstrap","leaflet-directive","ngAnimate"];i.module("civic-graph",t)}(angular);
!function(t){"use strict";function a(){return{templateUrl:"/js/analytic/analytics.html",restrict:"E",scope:{},controller:"analyticsCtrl"}}var c=[a];t.module("civic-graph").directive("analytics",c)}(angular);
!function(o){"use strict";function r(){return{templateUrl:"/js/control/controls.html",restrict:"E",scope:{toggleNetwork:"="},controller:"controlCtrl",controllerAs:"control",bindToController:{minConnections:"="}}}var t=[r];o.module("civic-graph").directive("control",t)}(angular);
!function(t){"use strict";function e(){return{templateUrl:"/js/edit-entity/edit.html",restrict:"E",scope:{entity:"=",entities:"=",isOpen:"="},controller:"editCtrl"}}var i=[e];t.module("civic-graph").directive("editEntity",i)}(angular);
!function(i,t){"use strict";function s(i){function s(){var i=t(this);i.css("height","55vh")}function c(){var i=t(this);window.innerHeight/3>parseInt(i.css("height"))?i.css("height","55vh"):i.css("height","30vh")}var e;i.mobile&&(e=t("#details-panel"),e.css("height","30vh"),e.scrollTop(0),e.scroll(s),e.click(c))}function c(){return{restrict:"A",link:s}}i.module("civic-graph").directive("addMobileEvents",[c])}(angular,$);
!function(o){"use strict";function c(o,c){o.closeWindow=function(){c.close()}}o.module("civic-graph").controller("modalCtrl",["$scope","$modalInstance",c])}(angular);
!function(t){"use strict";t.module("civic-graph").constant("_",window._).constant("config",{apiHost:"https://api.civicgraph.io/"}).config(["$locationProvider","$httpProvider","$compileProvider",function(t,o,i){t.html5Mode(!0),o.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",i.debugInfoEnabled(!0)}]).filter("thousandSuffix",function(){return function(t,o){var i,n=["k","M","G","T","P","E"];return window.isNaN(t)?null:t<1e3?t:(i=Math.floor(Math.log(t)/Math.log(1e3)),(t/Math.pow(1e3,i)).toFixed(o)+n[i-1])}})}(angular);
!function(t){"use strict";function i(t,i,e,n,o,a){t.random=(new Date).getTime(),t.entities=[],t.searchItems=null,t.categories=[],t.currentLocation=null,t.clickedLocation={},t.clickedLocation.location=null,t.clickedEntity={},t.clickedEntity.entity=null,t.editing=!1,t.actions={interacted:!1},t.showsearchMB=!1,t.showAnalytics=!1,t.entityTypes=n.getEntityTypes(),t.connectionTypes=o.getConnectionTypes(),t.status={isNetworkShown:!0,license:!0,networkLoading:!0},t.toggleAnalytics=function(){t.showAnalytics=!t.showAnalytics},this.minConnections=t.minConnections=2;var s=this;t.$watch("minConnections",function(){t.$broadcast("entitiesLoaded")}),t.connectionChange=function(){console.log(s.minConnections),t.minConnections=s.minConnections,t.$broadcast("entitiesLoaded")},t.hydePartials=function(i){"search"===i?(t.editing=!1,t.settingsEnabled=!1):"settings"===i?(t.editing=!1,t.showsearchMB=!1):"edit"===i?(t.settingsEnabled=!1,t.showsearchMB=!1):(t.editing=!1,t.settingsEnabled=!1,t.showsearchMB=!1)},t.showSearch=function(){t.hydePartials("search"),t.showsearchMB=!t.showsearchMB,t.status.license=!1},t.toggleSettings=function(){t.hydePartials("settings"),t.settingsEnabled=!t.settingsEnabled},t.startEdit=function(i){t.currentEntity=i,t.mobile&&t.hydePartials("edit"),t.editing=!0},t.switchView=function(){t.changeView(t.status.isNetworkShown?"Map":"Network")},window.mobilecheck=function(){var t=!1,i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,e=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;return function(n){(i.test(n)||e.test(n.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t},t.mobile=window.mobilecheck(),t.settingsEnabled=!t.mobile,setTimeout(function(){i.get(a.apiHost+"api/entities").success(function(i){t.entities=i.nodes;var n=e.uniq(e.pluck(e.flatten(e.pluck(t.entities,"locations")),"locality")),o=e.map(n,function(i){var n=e.filter(t.entities,e.flow(e.property("locations"),e.partialRight(e.any,{locality:i})));return{name:i,type:"location",entities:n,dict:e.zipObject(e.pluck(n,"name"),e.pluck(n,"index"))}});t.searchItems=o.concat(t.entities),t.overviewUrl="js/overview/overview.html?i="+t.random,t.$broadcast("entitiesLoaded")})},100),t.overviewUrl=null,t.setEntity=function(i){t.currentLocation=null,t.currentEntity=i,t.editing&&t.stopEdit(),t.$broadcast("entityChange")},t.setEntityID=function(i){t.setEntity(e.find(t.entities,{id:i}))},t.setLocation=function(i){t.currentLocation=i,t.editing&&t.stopEdit(),t.$broadcast("itemChange")},t.selectItem=function(i){"location"===i.type?t.setLocation(i):t[i%1===0?"setEntityID":"setEntity"](i),t.$broadcast("selectItem",i)},t.$on("setCurrentEntity",function(i,e){t.currentEntity=e.value}),t.$on("setCurrentLocation",function(i,e){t.currentLocation=e.value}),t.setEntities=function(i){t.entities=i},t.stopEdit=function(){t.editing=!1},t.$on("editEntitySuccess",function(i){t.setEntities(i.nodes),t.$broadcast("entitiesLoaded")}),t.animationsEnabled=!0}var e=["$scope","$http","_","entityService","connectionService","config",i];t.module("civic-graph").controller("homeCtrl",e)}(angular);
!function(i){"use strict";var a=[];i.module("civic-graph").directive("map",a)}(angular);
!function(r){"use strict";function t(){return{restrict:"E",templateUrl:"/js/network/network.html",controller:"networkCtrl"}}var e=[t];r.module("civic-graph").directive("network",e)}(angular);
!function(e){"use strict";e.module("civic-graph").directive("input",function(){return{restict:"E",require:"?ngModel",link:function(e,r,t,i){"type"in t&&"range"===t.type.toLowerCase()&&i.$parsers.push(parseFloat)}}})}(angular);
!function(e){"use strict";function t(e,t){e.categorizedEntities={},t.forEach(t.keys(e.entityTypes),function(i){e.categorizedEntities[i]=t.filter(e.entities,{type:i})})}e.module("civic-graph").controller("overviewCtrl",["$scope","_",t])}(angular);
!function(c){"use strict";function n(c){}c.module("civic-graph").controller("analyticsCtrl",["$scope",n])}(angular);
!function(e){"use strict";function o(e,o,n,t,i){var a=this;a.entityTypes=e.getEntityTypes(),a.connectionTypes=o.getConnectionTypes(),a.sizeByList=[{name:"Employees",value:"employees"},{name:"Twitter Followers",value:"followers"}],a.sizeBy="employees",a.showView={Network:!0,Map:!1},a.changeView=function(e){t.forEach(t.keys(a.showView),function(o){a.showView[o]=e===o}),n.$broadcast("viewChange")},a.showAbout=function(){i.open({animation:!1,templateUrl:"control/about.html",controller:"modalCtrl"})},a.toggleNode=function(e){n.$broadcast("toggleNode",{name:e,enabled:a.entityTypes[e]})},a.toggleLink=function(e){n.$broadcast("toggleLink",{name:e,enabled:a.connectionTypes[e]})},a.changeSizeBy=function(){n.$broadcast("changeSizeBy",a.sizeBy)}}var n=["entityService","connectionService","$rootScope","_","$modal",o];e.module("civic-graph").controller("controlCtrl",n)}(angular);
!function(t){"use strict";function e(t){return void 0!==t&&null!==t}function i(i,n,o,s,c,a,r){function d(){var t,e,n,o;for(e in i.categories)if(i.categories.hasOwnProperty(e)){t=i.categories[e];for(n in i.editEntity.categories)i.editEntity.categories.hasOwnProperty(n)&&(o=i.editEntity.categories[n],t.id===o.id&&(t.enabled=o.enabled))}}i.isEditing=!1,i.editEntity=c.getEntityModel(i.entity),i.entityTypes=c.getEntityTypes(),i.influenceTypes=c.getInfluenceTypes();var u;i.categories=[],i.addressSearch=function(t){return n.jsonp("https://dev.virtualearth.net/REST/v1/Locations",{params:{query:t,key:"Ai58581yC-Sr7mcFbYTtUkS3ixE7f6ZuJnbFJCVI4hAtW1XoDEeZyidQz2gLCCyD",jsonp:"JSON_CALLBACK",include:"ciso2"}}).then(function(t){if(e(t.data.resourceSets)&&t.data.resourceSets.length>0)return t.data.resourceSets[0].resources})},i.toggleCategory=function(t){if(0===i.editEntity.categories.length)i.editEntity.categories.push(t);else{var e=!1;for(var n in i.editEntity.categories)if(i.editEntity.categories.hasOwnProperty(n)){var o=i.editEntity.categories[n];if(o.id===t.id){e=!0,o.enabled=t.enabled;break}}e||i.editEntity.categories.push(t)}},i.setLocation=function(t,n){i.addressSearch(t.formattedAddress).then(function(o){var s=o[0],c=s.address,a=s.point;i.addLocation(n),t.address_line=e(c.addressLine)?c.addressLine:"",t.locality=e(c.locality)?c.locality:"",t.district=e(c.adminDistrict)?c.adminDistrict:"",t.country=e(c.countryRegion)?c.countryRegion:null,t.country_code=e(c.countryRegionIso2)?c.countryRegionIso2:"",t.coordinates=e(a.coordinates)?a.coordinates:null,t.postal_code=e(c.postalCode)?c.postalCode:null})},i.addLocation=function(t){t&&i.editEntity.locations.push(a.getLocationModel())},i.addKeyPerson=function(){s.some(i.editEntity.key_people,{name:"",id:null})||i.editEntity.key_people.push({name:"",id:null})},i.setFundingConnection=function(t,e){e.entity_id=t.id},i.addFundingConnection=function(t){s.some(t,{entity:""})||t.push({entity:"",amount:null,year:null,id:null})},i.setConnection=function(t,e){e.entity_id=t.id},i.addConnection=function(t){s.some(t,{entity:"",id:null})||t.push({entity:"",id:null,details:null})},i.addFinance=function(t){s.every(t,function(t){return t.amount>0&&t.year>1750})&&t.push({amount:null,year:null,id:null})},i.save=function(){i.isSaving=!0,console.log(i.editEntity.generateDBModel()),n.post(r.apiHost+"api/save",{entity:i.editEntity.generateDBModel()}).success(function(t){i.isSaving=!1,i.$emit("editEntitySuccess",t),i.cancelEdit()}).error(function(){i.isError=!0,o(function(){i.isError=!1},2e3)})},i.cancelEdit=function(){i.isOpen=!1},i.$watch("entity",function(n,o){t.equals(n,o)||(console.log(i.entity),i.editEntity=c.getEntityModel(n),i.categories=t.copy(u),d(),i.isEditing=e(i.editEntity.id))}),n.get(r.apiHost+"api/categories").success(function(e){u=e.categories,i.categories=t.copy(u)})}var n=["$scope","$http","$timeout","_","entityService","locationService","config",i];t.module("civic-graph").controller("editCtrl",n)}(angular);
!function(n){"use strict";function e(){function n(n){return void 0!==n&&null!==n}function e(e){var i=n(e)?e:{};this.name=n(i.name)?i.name:null,this.enabled=!n(i.enable)||i.enabled,this.id=n(i.id)?i.id:null}this.getCategoryModel=function(n){return new e(n)}}var i=[e];n.module("civic-graph").service("categoryService",i)}(angular);
!function(n){"use strict";function t(n){return void 0!==n&&null!==n}function i(){function n(n){var i=t(n);this.entity=i&&t(n.entity)?n.entity:null,this.id=i&&t(n.id)?n.id:null,this.details=i&&t(n.details)?n.details:null,this.name=i&&t(n.name)?n.name:null,this.entity_id=i&&t(n.entity_id)?n.entity_id:null}this.getConnectionModel=function(t){return new n(t)},this.getConnectionTypes=function(){return l}}var e=[i],l={Funding:!0,Data:!0,Employment:!0,Collaboration:!0};n.module("civic-graph").service("connectionService",e)}(angular);
!function(e){"use strict";function n(n,t,i,o,s){function p(e){return void 0!==e&&null!==e}function r(n,t){if(!p(n)&&!e.isArray(n))return[t()];var i,o,s=[];for(i in n)n.hasOwnProperty(i)&&(o=n[i],e.isObject(o)&&s.push(t(o)));return s.push(t()),s}function a(e){var l=this,c=p(e)?e:{};this.id=p(c.id)?c.id:null,this.name=p(c.name)?c.name:null,this.locations=r(c.locations,o.getLocationModel),this.influence=p(c.influence)?c.influence:null,this.grants_received=r(c.grants_received,n.getFundingConnectionModel),this.investments_received=r(c.investments_received,n.getFundingConnectionModel),this.grants_given=r(c.grants_given,n.getFundingConnectionModel),this.investments_made=r(c.investments_made,n.getFundingConnectionModel),this.data_given=r(c.data_given,t.getConnectionModel),this.data_received=r(c.data_received,t.getConnectionModel),this.collaborations=r(c.collaborations,t.getConnectionModel),this.key_people=r(c.key_people,t.getConnectionModel),this.employments=r(c.employments,t.getConnectionModel),this.revenues=r(c.revenues,i.getFinanceModel),this.expenses=r(c.expenses,i.getFinanceModel),this.categories=r(c.categories,s.getCategoryModel),this.type=p(c.type)?c.type:null,this.nickname=p(c.nickname)?c.nickname:null,this.url=p(c.url)?c.url:null,this.twitter_handle=p(c.twitter_handle)?c.twitter_handle:null,this.employees=p(c.employees)?c.employees:null,this.generateDBModel=function(){var e=new a(l);return e.locations.pop(),e.locations.pop(),e.grants_received.pop(),e.grants_received.pop(),e.grants_given.pop(),e.grants_given.pop(),e.investments_received.pop(),e.investments_received.pop(),e.investments_made.pop(),e.investments_made.pop(),e.data_given.pop(),e.data_given.pop(),e.data_received.pop(),e.data_received.pop(),e.collaborations.pop(),e.collaborations.pop(),e.key_people.pop(),e.key_people.pop(),e.employments.pop(),e.employments.pop(),e.revenues.pop(),e.revenues.pop(),e.expenses.pop(),e.expenses.pop(),e.categories.pop(),e.categories.pop(),e.description="",console.log(e),e}}var l={Government:!0,"For-Profit":!0,"Non-Profit":!0,Individual:!0},c=["Local","National","Global"];this.getEntityModel=function(e){return new a(e)},this.getEntityTypes=function(){return l},this.getInfluenceTypes=function(){return c}}var t=["fundingConnectionService","connectionService","financeService","locationService","categoryService",n];e.module("civic-graph").service("entityService",t)}(angular);
!function(n){"use strict";function i(n){return void 0!==n&&null!==n}function t(){function n(n){var t=i(n)?n:{};this.amount=i(t.amount)&&t.amount>=0?t.amount:0,this.year=i(t.year)&&t.year>=1750?t.year:null,this.id=i(t.id)?t.id:null}this.getFinanceModel=function(i){return new n(i)}}var e=[t];n.module("civic-graph").service("financeService",e)}(angular);
!function(n){"use strict";function i(n){return void 0!==n&&null!==n}function t(){function n(n){var t=i(n);this.entity=t&&i(n.entity)?n.entity:"",this.amount=t&&i(n.amount)?n.amount:null,this.year=t&&i(n.year)?n.year:null,this.id=t&&i(n.id)?n.id:null}this.getFundingConnectionModel=function(i){return new n(i)}}var e=[t];n.module("civic-graph").service("fundingConnectionService",e)}(angular);
!function(t){"use strict";function i(){function t(t){return void 0!==t&&null!==t}function i(i){var s=t(i)?i:{};this.address_line=t(s.address_line)?s.address_line:null,this.locality=t(s.locality)?s.locality:null,this.district=t(s.district)?s.district:null,this.postal_code=t(s.postal_code)?s.postal_code:null,this.country=t(s.country)?s.country:null,this.country_code=t(s.country_code)?s.country_code:null,this.coordinates=t(s.coordinates)?s.coordinates:null,this.id=t(s.id)?s.id:null,this.formattedAddress=(t(this.address_line)?this.address_line+" ":"")+(t(this.locality)?this.locality+", ":"")+(t(this.country_code)?this.country_code+" ":"")+(t(this.postal_code)?this.postal_code:""),this.formattedAddress=this.formattedAddress.trim()}this.getLocationModel=function(t){return new i(t)}}var s=[i];t.module("civic-graph").service("locationService",s)}(angular);
!function(e){"use strict";function n(e,n){e.itemsShownDefault={key_people:3,grants_given:3,grants_received:3,investments_made:3,investments_received:3,collaborations:3,employments:3,relations:3,data_given:3,data_received:3,revenues:3,expenses:3},e.itemsShown=n.clone(e.itemsShownDefault),e.$on("entityChange",function(){e.itemsShown=n.clone(e.itemsShownDefault)}),e.showMore=function(n){e.itemsShown[n]=e.currentEntity[n].length},e.showLess=function(n){e.itemsShown[n]=e.itemsShownDefault[n]}}e.module("civic-graph").controller("detailsCtrl",["$scope","_",n])}(angular);
!function(t,e,n){"use strict";function i(t,i,o,r,a){t.options={center:{lat:20,lng:-40,zoom:3},defaults:{tileLayer:"https://api.tiles.mapbox.com/v4/mapbox.light/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiZGF2aWRscm50IiwiYSI6IjA0M2RkNzMzZWJmNzEzNGYzMTdhYTExYzAyZmU4ZTE1In0.TNYlFta2VItrkn4L0Z9BJQ",tileLayerOptions:{detectRetina:!0,reuseTiles:!1},zoomControl:!1,attributionControl:!1}},i(function(){var i=function(t){var n=t.data,i=e.layout.pie().sort(null).value(function(t){return t.value}),o=e.svg.arc().outerRadius(t.r).innerRadius(t.r-10),r=t.r+t.strokeWidth,a=2*r,c=a,l=document.createElementNS(e.ns.prefix.svg,"svg"),s=e.select(l).data(n).attr("class","piechart").attr("width",a).attr("height",c),u=s.selectAll(".arc").data(i(n)).enter().append("g").attr("class","arc").attr("transform","translate("+r+","+r+")");return u.append("path").attr("d",o).attr("class",function(t){return t.data.type+"-arc"}),u.append("svg:text").text(function(e,n){if(0===n)return t.count}).attr("x",-4*t.count.toString().length).attr("dy",5).attr("class","arcText"),window.XMLSerializer?(new window.XMLSerializer).serializeToString(l):l.xml?l.xml:""};o.getMap().then(function(e){function o(t){var e=t.getAllChildMarkers(),o=e.length,a=r.pluck(e,"options"),c=r.map(r.countBy(a,"type"),function(t,e){return{type:e,value:t}}),l=28,s=1,u=2*(l+s),d=i({data:c,r:l,strokeWidth:s,count:o});return new n.DivIcon({html:d,className:"marker-cluster",iconSize:new n.point(u,u)})}function c(t){function e(e){if(r.every(e.coordinates)){"40.78200"===e.coordinates[0].toFixed(5)&&"-73.83170"===e.coordinates[1].toFixed(5)&&(e.coordinates[0]=40.77065,e.coordinates[1]=-73.97406);var i=n.marker(e.coordinates,{icon:u[t.type],title:t.name,entity_id:t.id,message:t.name,type:t.type});d.addLayer(i)}}r.forEach(t.locations,e)}function l(t){console.error(t.message+"  %O",t)}var s=a("filter")(t.entities,function(t){return t.collaborations.length>4});e.invalidateSize(),new n.Control.Zoom({position:"topright"}).addTo(e),n.control.locate({position:"topright",showPopup:!1,icon:"fa fa-location-arrow"}).addTo(e);var u={"Non-Profit":n.icon({iconUrl:"img/marker-nonprof.svg",iconSize:[60,60]}),"For-Profit":n.icon({iconUrl:"img/marker-prof.svg",iconSize:[60,60]}),Individual:n.icon({iconUrl:"img/marker-ind.svg",iconSize:[60,60]}),Government:n.icon({iconUrl:"img/marker-gov.svg",iconSize:[60,60]})},d=n.markerClusterGroup({spiderfyOnMaxZoom:!0,showCoverageOnHover:!1,iconCreateFunction:o,maxClusterRadius:30,spiderfyDistanceMultiplier:1.3});console.log("Original: %O",t.entities),console.log("Filtered: %O",s),r.forEach(s,c),e.addLayer(d),e.on("locationerror",l),d.on("click",function(e){t.setEntityID(e.layer.options.entity_id),t.clickedEntity.entity=t.currentEntity,t.actions.interacted=!0,t.settingsEnabled&&t.mobile&&t.toggleSettings(),t.safeApply()}),e.on("click",function(){t.clickedEntity.entity=null,t.actions.interacted=!0,t.safeApply()}),t.$on("selectItem",function(){var n=t.currentEntity.locations.length>0?r.pluck(t.currentEntity.locations,"coordinates"):null;n.length>0&&e.setView(n[0],11),t.actions.interacted=!0,t.safeApply()})})})}var o=["$scope","$timeout","leafletData","_","$filter",i];t.module("civic-graph").controller("mapCtrl",o)}(angular,d3,L);
!function(t,e){"use strict";function n(t){return void 0!==t&&null!==t}function i(t,i,o,c,a){t.isLoading=!0,t.connections={},t.safeApply=function(t){var e=this.$root.$$phase;"$apply"===e||"$digest"===e?t&&"function"==typeof t&&t():this.$apply(t)},t.$on("entitiesLoaded",function(e){e.targetScope;i.get(a.apiHost+"api/connections").success(function(e){var i=c("filter")(t.entities,function(e){return e.collaborations.length>=t.minConnections}),a={};o.forEach(o.keys(e.connections),function(t){a[t]=[]}),o.forEach(e.connections,function(t,e){o.forEach(t,function(t){var c=o.find(i,{id:t.source}),r=o.find(i,{id:t.target});n(c)&&n(r)&&a[e].push({source:c,target:r})})}),o.forEach(o.keys(t.entityTypes),function(e){var n=o.takeRight(o.sortBy(o.filter(t.entities,{type:e}),"collaborations.length"),5);o.forEach(n,function(t){t.wellconnected=!0})}),i=o.sortBy(i,function(t){return t.wellconnected?1:0}),t.mobile?r(i):s(i,a)})});var r=function(i){var c={nodes:t.entities,links:o.flatten(o.values(t.connections))},a={Government:{focused:"rgba(242, 80, 34, 1)",unfocused:"rgba(242, 80, 34, 0.1)"},"Non-Profit":{focused:"rgba(30, 144, 255, 1)",unfocused:"rgba(30, 144, 255, 0.1)"},"For-Profit":{focused:"rgba(127, 186, 0, 1)",unfocused:"rgba(127, 186, 0, 0.1)"},Individual:{focused:"rgba(255, 175, 44, 1)",unfocused:"rgba(255, 175, 44, 0.1)"},Funding:{focused:"#FF7460",unfocused:"#E3DFE4"},Data:{focused:"#84C2FF",unfocused:"#E3DFE4"},Employment:{focused:"#EE73FF",unfocused:"#E3DFE4"},Collaboration:{focused:"#FFD955",unfocused:"#E3DFE4"}},r=$("#canvas-force"),s=r.width(),u=r.height(),l={Government:[-90,-90-u/7],"Non-Profit":[-90,90-u/7],"For-Profit":[90,-90-u/7],Individual:[90,90-u/7]},d=function(t,e,n,i,o){var c=t-n,a=e-i;return c*c+a*a<=o*o},y={employees:function(t){return t>10?Math.log(t)/3:1.5},followers:function(t){return t>0&&t<=500?1.5:t>500&&t<=5e3?1.8:t>5e3&&t<=1e4?2:t>1e4&&t<=25e3?2.5:t>25e3&&t<=9e5?3:t>9e5?5:1}},f=d3.select("div#canvas-force").append("canvas"),p=f.node().getContext("2d"),h=window.devicePixelRatio||1,g=p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1,m=h/g;f.attr("width",s*m).attr("height",u*m).attr("id","networkCanvas");var k=document.getElementById("networkCanvas");k.style.width=s+"px",k.style.height=u+"px",p.scale(m,m),t.loading=!1;var x=1;$("#networkCanvas").click(function(e){var n=e.offsetX/x,i=e.offsetY/x;t.showLicense=!1,t.clickedEntity.entity=null;var o=!1;c.nodes.forEach(function(e){var c=y[t.sizeBy](e[t.sizeBy]);d(n,i,e.x+l[e.type][0],e.y+l[e.type][1],4.5*c)&&(t.hydePartials(),t.$emit("setCurrentEntity",{value:e}),o=!0,t.setEntity(e),t.clickedEntity.entity=e,focus(e))}),o||(t.$emit("setCurrentLocation",{value:null}),t.$emit("setCurrentEntity",{value:null})),T(),t.actions.interacted=!0,t.safeApply(),$("#details-panel").scrollTop(0)});var v,E=0,L=!0,w=[],M=[];c.nodes.forEach(function(e){n(i[e.type])&&(t.currentLocation?e.name in t.currentLocation.dict&&w.push(e):t.currentEntity&&!v[e.id]&&e!==t.currentEntity||(t.currentEntity||e.wellconnected?w.push(e):M.push(e)))}),M=M.concat(w);var T=function(){var i;E++,E>70&&L&&(L=!1,b.stop(),i=new e.PinchZoom($("#networkCanvas"),{})),p.clearRect(0,0,s,u),v={},p.strokeStyle="#ccc",o.forEach(t.connections,function(e,i){e.forEach(function(e){var o,c=n(t.connectionTypes[i]),r=n(t.entityTypes[e.target.type]),d=n(t.entityTypes[e.source.type]);c&&r&&d&&(n(t.currentLocation)?e.source.name in t.currentLocation.dict&&e.target.name in t.currentLocation.dict&&(p.beginPath(),o=y[t.sizeBy](e.source[t.sizeBy]),p.moveTo(Math.max(4.5*o,Math.min(s-4.5*o,e.source.x+l[e.source.type][0])),Math.max(4.5*o,Math.min(u-4.5*o,e.source.y+l[e.source.type][1]))),p.lineTo(Math.max(4.5*o,Math.min(s-4.5*o,e.target.x+l[e.target.type][0])),Math.max(4.5*o,Math.min(u-4.5*o,e.target.y+l[e.target.type][1]))),p.strokeStyle=a[i].focused,p.stroke(),p.closePath()):n(t.currentEntity)&&e.source!==t.currentEntity&&e.target!==t.currentEntity||(p.beginPath(),o=y[t.sizeBy](e.source[t.sizeBy]),p.moveTo(Math.max(4.5*o,Math.min(s-4.5*o,e.source.x+l[e.source.type][0])),Math.max(4.5*o,Math.min(u-4.5*o,e.source.y+l[e.source.type][1]))),p.lineTo(Math.max(4.5*o,Math.min(s-4.5*o,e.target.x+l[e.target.type][0])),Math.max(4.5*o,Math.min(u-4.5*o,e.target.y+l[e.target.type][1]))),p.strokeStyle=a[i].focused,p.stroke(),p.closePath(),v[e.source.id]=!0,v[e.target.id]=!0))})});var c=[];M.forEach(function(e){if(t.entityTypes[e.type]){var n;t.currentLocation?e.name in t.currentLocation.dict?(n="focused",p.strokeStyle="white",c.push(e)):(p.strokeStyle="rgba(255, 255, 255, 0.1)",n="unfocused"):!t.currentEntity||v[e.id]||e===t.currentEntity?(n="focused",p.strokeStyle="white",t.currentEntity?c.push(e):e.wellconnected&&c.push(e)):(p.strokeStyle="rgba(255, 255, 255, 0.1)",n="unfocused");var i=y[t.sizeBy](e[t.sizeBy]);p.beginPath(),p.fillStyle=a[e.type][n],p.arc(Math.max(4.5*i,Math.min(s-4.5*i,e.x+l[e.type][0])),Math.max(4.5*i,Math.min(u-4.5*i,e.y+l[e.type][1])),4.5*i,0,2*Math.PI),p.fill(),p.lineWidth=1,p.stroke(),p.closePath()}}),o.forEach(c,function(e){var n=y[t.sizeBy](e[t.sizeBy]);p.strokeStyle="#333333";var i=e.nickname?e.nickname:e.name;p.font="lighter 11px Segoe UI, HelveticaNeue-Light, sans-serif-light, sans-serif",p.strokeText(i,Math.max(4.5*n,Math.min(s-4.5*n,e.x+l[e.type][0]))-2*i.length,Math.max(4.5*n,Math.min(u-4.5*n,e.y+l[e.type][1]))+10,100)})},b=d3.layout.force().size([s,u]).nodes(c.nodes).links(c.links).on("tick",T).charge(-2).linkStrength(.1).linkDistance(50).start();t.$on("toggleNode",function(){T()}),t.$on("toggleLink",function(){T(),console.log("network found")}),t.$on("changeSizeBy",function(){T()}),t.$on("selectItem",function(e,n){"location"===n.type?(t.clickedLocation.location=t.currentLocation,t.$emit("setCurrentEntity",{value:null})):(t.clickedEntity.entity=t.currentEntity,t.$emit("setCurrentLocation",{value:null})),t.actions.interacted=!0,t.safeApply(),T()})},s=function(e,i){t.isLoading=!1;var c=d3.select("#network");c.selectAll("*").remove();var a=c.node().getBoundingClientRect(),r=a.height,s=a.width,u=6,l=7,d={Individual:{x:1,y:1},"For-Profit":{x:1,y:-1},"Non-Profit":{x:-1,y:1},Government:{x:-1,y:-1}},y=10,f=50,p=d3.max(e,function(t){return parseInt(t.employees)}),h=d3.max(e,function(t){return parseInt(t.followers)}),g={employees:d3.scale.sqrt().domain([10,p]).range([y,f]),followers:d3.scale.sqrt().domain([10,h]).range([y,f])},m={},k=d3.layout.force().size([s,r]).nodes(e).links(o.flatten(o.values(i))).charge(function(t){return t.employees?-2*g.employees(t.employees):-20}).linkStrength(0).linkDistance(50);o.forEach(i,function(t,e){m[e]=c.selectAll(".link ."+e+"-link").data(t).enter().append("line").attr("class",function(t){return n(t.source)&&n(t.target)?(t.type=e,"link "+e+"-link "+t.source.type+"-link "+t.target.type+"-link"):""})});var x=c.selectAll(".node").data(e).enter().append("g").attr("class",function(t){return"node "+t.type+"-node"}).call(k.drag);x.append("circle").attr("r",function(t){return t.employees?g.employees(t.employees):l}),x.append("text").text(function(t){return t.nickname?t.nickname:t.name}).attr("dx",function(){return-.065*this.getComputedTextLength()/2+"em"}).attr("dy",function(){return.08*this.parentNode.getBBox().height/2+.5+"em"}),k.on("tick",function(t){var n=u*t.alpha;o.forEach(e,function(t){t.x&&d[t.type]&&(t.x+=d[t.type].x*n,t.y+=d[t.type].y*n,t.x=Math.max(f,Math.min(s-f,t.x)),t.y=Math.max(f,Math.min(r-f,t.y)))}),o.forEach(m,function(t){t.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y})}),x.attr("transform",function(t){return"translate("+t.x+","+t.y+")"})});var v=function(t){requestAnimationFrame(function e(){for(var n=0;n<t;n++)k.tick();k.alpha()>0&&requestAnimationFrame(e)})};t.mobile||v(7),k.start();var E={};o.forEach(m,function(t){o.forEach(t[0],function(t){var e=t.__data__.source,n=t.__data__.target;E[e.index+","+n.index]=!0,E[n.index+","+e.index]=!0})});var L,w=function(t,e){return E[t.index+","+e.index]||t.index===e.index},M=function(t){x.classed("focused",function(e){return w(t,e)}).classed("unfocused",function(e){return!w(t,e)}),o.forEach(m,function(e){e.classed("focused",function(e){return t.index===e.source.index||t.index===e.target.index}).classed("unfocused",function(e){return!(t.index===e.source.index||t.index===e.target.index)})})},T=function(e){t.currentEntity!==e&&t.setEntity(e),t.safeApply(),M(e)},$=function(e){x.classed("focused",!1).classed("unfocused",!1),o.forEach(m,function(t){t.classed("focused",!1).classed("unfocused",!1)}),e.fixed=!1,t.clickedEntity.entity&&k.resume()},b=function(e){t.clickedEntity.entity||t.editing||t.currentLocation||(L=setTimeout(function(){T(e)},500)),t.actions.interacted=!0,t.safeApply()},P=function(e){t.clickedEntity.entity||t.currentLocation||($(e),clearTimeout(L)),t.actions.interacted=!0,t.safeApply()},B=function(e){t.safeApply(),x.classed("focused",function(t){return t.name in e.dict}).classed("unfocused",function(t){return!(t.name in e.dict)}),o.forEach(m,function(t){t.classed("focused",function(t){return t.source.name in e.dict&&t.target.name in e.dict}).classed("unfocused",function(t){return!(t.source.name in e.dict&&t.target.name in e.dict)})})},A=function(){x.classed("focused",!1).classed("unfocused",!1),o.forEach(m,function(t){t.classed("focused",!1).classed("unfocused",!1)}),t.clickedLocation.location&&k.resume()},S=function(e){t.showLicense=!1,t.clickedEntity.entity&&($(t.clickedEntity.entity),t.clickedEntity.entity=null),t.clickedLocation.location!==e&&(A(t.clickedLocation.location),t.clickedLocation.location=e,B(e)),d3.event&&d3.event.stopPropagation(),t.actions.interacted=!0,t.safeApply()},F=function(e){t.showLicense=!1,n(t.clickedLocation)&&(n(t.clickedLocation.location)&&(A(t.clickedLocation.entity),t.clickedLocation.location=null),t.clickedEntity.entity===e?t.clickedEntity.entity=null:(t.clickedEntity.entity&&$(t.clickedEntity.entity),t.clickedEntity.entity=e,T(e))),d3.event&&d3.event.stopPropagation(),t.actions.interacted=!0,t.safeApply()},C=function(){n(t.clickedLocation)&&(n(t.clickedLocation.location)&&($(t.clickedLocation.location),t.clickedLocation.location=null),n(t.clickedEntity.entity)&&($(t.clickedEntity.entity),t.clickedEntity.entity=null)),t.safeApply()},z=function(e){e.fixed?$(e):(e.x=s/2,e.y=r/2,e.px=s/2,e.py=r/2,e.fixed=!0,t.clickedEntity.entity=e),t.actions.interacted=!0,t.safeApply()};x.on("mouseover",b),x.on("mouseout",P),x.on("click",F),x.on("dblclick",z),c.on("click",C),x.classed("wellconnected",function(t){return t.hasOwnProperty("wellconnected")}),t.$on("changeSizeBy",function(t,e){c.selectAll("circle").transition().duration(250).attr("r",function(t){return t[e]?g[e](t[e]):l})}),t.$on("toggleLink",function(e,n){o.map(t.entityTypes,function(e,n){c.selectAll("."+n+"-link").classed({visible:function(e){return!t.connectionTypes[e.type]||t.entityTypes[e.source.type]&&t.entityTypes[e.target.type]},hidden:function(e){return!t.connectionTypes[e.type]||!t.entityTypes[e.source.type]||!t.entityTypes[e.target.type]}})})}),t.$on("toggleNode",function(e,n){c.selectAll("."+n.name+"-node").classed({visible:n.enabled,hidden:!n.enabled}),c.selectAll("."+n.name+"-link").classed({visible:function(e){return t.connectionTypes[e.type]&&t.entityTypes[e.source.type]&&t.entityTypes[e.target.type]},hidden:function(e){return!t.connectionTypes[e.type]||!t.entityTypes[e.source.type]||!t.entityTypes[e.target.type]}})}),t.$on("selectItem",function(e,n){"location"===n.type?S(t.currentLocation):F(t.currentEntity)})}}var o=["$scope","$http","_","$filter","config",i];t.module("civic-graph").controller("networkCtrl",o)}(angular,RTP);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNpdmljLWdyYXBoLm1vZHVsZS5qcyIsImFuYWx5dGljL2FuYWx5dGljc0RpcmVjdGl2ZS5qcyIsImNvbnRyb2wvY29udHJvbERpcmVjdGl2ZS5qcyIsImVkaXQtZW50aXR5L2VkaXRFbnRpdHlEaXJlY3RpdmUuanMiLCJleHRyYS9hZGRNb2JpbGVFdmVudHMuanMiLCJleHRyYS9tb2RhbEN0cmwuanMiLCJtYWluL2FwcC5qcyIsIm1haW4vaG9tZUN0cmwuanMiLCJtYXAvbWFwRGlyZWN0aXZlLmpzIiwibmV0d29yay9uZXR3b3JrRGlyZWN0aXZlLmpzIiwibmV0d29yay9zbGlkZXJCYXIuanMiLCJvdmVydmlldy9vdmVydmlld0N0cmwuanMiLCJhbmFseXRpYy9jb250cm9sbGVyL2FuYWx5dGljc0N0cmwuanMiLCJjb250cm9sL2NvbnRyb2xsZXIvY29udHJvbEN0cmwuanMiLCJlZGl0LWVudGl0eS9jb250cm9sbGVyL2VkaXRDdHJsLmpzIiwiZWRpdC1lbnRpdHkvc2VydmljZS9jYXRlZ29yeVNlcnZpY2UuanMiLCJlZGl0LWVudGl0eS9zZXJ2aWNlL2Nvbm5lY3Rpb25TZXJ2aWNlLmpzIiwiZWRpdC1lbnRpdHkvc2VydmljZS9lbnRpdHlTZXJ2aWNlLmpzIiwiZWRpdC1lbnRpdHkvc2VydmljZS9maW5hbmNlU2VydmljZS5qcyIsImVkaXQtZW50aXR5L3NlcnZpY2UvZnVuZGluZ0Nvbm5lY3Rpb25TZXJ2aWNlLmpzIiwiZWRpdC1lbnRpdHkvc2VydmljZS9sb2NhdGlvblNlcnZpY2UuanMiLCJkZXRhaWwvY29udHJvbGxlci9kZXRhaWxzQ3RybC5qcyIsIm1hcC9jb250cm9sbGVyL21hcEN0cmwuanMiLCJuZXR3b3JrL2NvbnRyb2xsZXIvbmV0d29ya0N0cmwuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1haW5EZXBlbmRlbmNpZXMiLCJtb2R1bGUiLCJhbmFseXRpY3NEaXJlY3RpdmUiLCJ0ZW1wbGF0ZVVybCIsInJlc3RyaWN0Iiwic2NvcGUiLCJjb250cm9sbGVyIiwiYW5hbHl0aWNzRGVwZW5kZW5jaWVzIiwiZGlyZWN0aXZlIiwiY29udHJvbERpcmVjdGl2ZSIsInRvZ2dsZU5ldHdvcmsiLCJjb250cm9sbGVyQXMiLCJiaW5kVG9Db250cm9sbGVyIiwibWluQ29ubmVjdGlvbnMiLCJjb250cm9sRGVwZW5kZW5jaWVzIiwiZWRpdEVudGl0eURpcmVjdGl2ZSIsImVudGl0eSIsImVudGl0aWVzIiwiaXNPcGVuIiwiZWRpdEVudGl0eURlcGVuZGVuY2llcyIsIiQiLCJsaW5rRnVuY3Rpb24iLCJzY3JvbGwiLCJzZWxmIiwidGhpcyIsImNzcyIsImNsaWNrIiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJwYXJzZUludCIsImRldGFpbHNQYW5lbCIsIm1vYmlsZSIsInNjcm9sbFRvcCIsImFkZE1vYmlsZUV2ZW50cyIsImxpbmsiLCJtb2RhbEN0cmwiLCIkc2NvcGUiLCIkbW9kYWxJbnN0YW5jZSIsImNsb3NlV2luZG93IiwiY2xvc2UiLCJjb25zdGFudCIsIl8iLCJhcGlIb3N0IiwiY29uZmlnIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCIkaHR0cFByb3ZpZGVyIiwiJGNvbXBpbGVQcm92aWRlciIsImh0bWw1TW9kZSIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiIsImRlYnVnSW5mb0VuYWJsZWQiLCJmaWx0ZXIiLCJpbnB1dCIsImRlY2ltYWxzIiwiZXhwIiwic3VmZml4ZXMiLCJpc05hTiIsIk1hdGgiLCJmbG9vciIsImxvZyIsInBvdyIsInRvRml4ZWQiLCJob21lQ3RybCIsIiRodHRwIiwiZW50aXR5U2VydmljZSIsImNvbm5lY3Rpb25TZXJ2aWNlIiwicmFuZG9tIiwiRGF0ZSIsImdldFRpbWUiLCJzZWFyY2hJdGVtcyIsImNhdGVnb3JpZXMiLCJjdXJyZW50TG9jYXRpb24iLCJjbGlja2VkTG9jYXRpb24iLCJsb2NhdGlvbiIsImNsaWNrZWRFbnRpdHkiLCJlZGl0aW5nIiwiYWN0aW9ucyIsImludGVyYWN0ZWQiLCJzaG93c2VhcmNoTUIiLCJzaG93QW5hbHl0aWNzIiwiZW50aXR5VHlwZXMiLCJnZXRFbnRpdHlUeXBlcyIsImNvbm5lY3Rpb25UeXBlcyIsImdldENvbm5lY3Rpb25UeXBlcyIsInN0YXR1cyIsImlzTmV0d29ya1Nob3duIiwibGljZW5zZSIsIm5ldHdvcmtMb2FkaW5nIiwidG9nZ2xlQW5hbHl0aWNzIiwiJHdhdGNoIiwiJGJyb2FkY2FzdCIsImNvbm5lY3Rpb25DaGFuZ2UiLCJjb25zb2xlIiwiaHlkZVBhcnRpYWxzIiwiZXhjZXB0Iiwic2V0dGluZ3NFbmFibGVkIiwic2hvd1NlYXJjaCIsInRvZ2dsZVNldHRpbmdzIiwic3RhcnRFZGl0IiwiY3VycmVudEVudGl0eSIsInN3aXRjaFZpZXciLCJjaGFuZ2VWaWV3IiwibW9iaWxlY2hlY2siLCJjaGVjayIsInJlZ2V4IiwicmVnZXgyIiwiYSIsInRlc3QiLCJzdWJzdHIiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ2ZW5kb3IiLCJvcGVyYSIsInNldFRpbWVvdXQiLCJnZXQiLCJzdWNjZXNzIiwiZGF0YSIsIm5vZGVzIiwibG9jYXRpb25zIiwidW5pcSIsInBsdWNrIiwiZmxhdHRlbiIsImVudGl0aWVzQnlMb2NhdGlvbiIsIm1hcCIsImxvYyIsImZpbmRpbmdzIiwiZmxvdyIsInByb3BlcnR5IiwicGFydGlhbFJpZ2h0IiwiYW55IiwibG9jYWxpdHkiLCJuYW1lIiwidHlwZSIsImRpY3QiLCJ6aXBPYmplY3QiLCJjb25jYXQiLCJvdmVydmlld1VybCIsInNldEVudGl0eSIsInN0b3BFZGl0Iiwic2V0RW50aXR5SUQiLCJpZCIsImZpbmQiLCJzZXRMb2NhdGlvbiIsInNlbGVjdEl0ZW0iLCJpdGVtIiwiJG9uIiwiZXZlbnQiLCJhcmdzIiwidmFsdWUiLCJzZXRFbnRpdGllcyIsInJlc3BvbnNlIiwiYW5pbWF0aW9uc0VuYWJsZWQiLCJob21lRGVwZW5kZW5jaWVzIiwiZGVwZW5kZW5jaWVzIiwicmVzdGljdCIsInJlcXVpcmUiLCJlbGVtZW50IiwiYXR0cnMiLCJuZ01vZGVsIiwidG9Mb3dlckNhc2UiLCIkcGFyc2VycyIsInB1c2giLCJwYXJzZUZsb2F0Iiwib3ZlcnZpZXdDdHJsIiwiY2F0ZWdvcml6ZWRFbnRpdGllcyIsImZvckVhY2giLCJrZXlzIiwiYW5hbHl0aWNzQ3RybCIsImNvbnRyb2xDdHJsIiwiJHJvb3RTY29wZSIsIiRtb2RhbCIsInZtIiwic2l6ZUJ5TGlzdCIsInNpemVCeSIsInNob3dWaWV3IiwiTmV0d29yayIsIk1hcCIsInZpZXciLCJzaG93QWJvdXQiLCJvcGVuIiwiYW5pbWF0aW9uIiwidG9nZ2xlTm9kZSIsImVuYWJsZWQiLCJ0b2dnbGVMaW5rIiwiY2hhbmdlU2l6ZUJ5IiwiY29udHJvbERlcHMiLCJpc0RlZiIsIm9iaiIsInVuZGVmaW5lZCIsImVkaXRDdHJsIiwiJHRpbWVvdXQiLCJsb2NhdGlvblNlcnZpY2UiLCJpbml0Q2F0ZWdvcnlBcnJheSIsImNhdGVnb3J5IiwiY2F0ZWdvcnlJbmRleCIsImVudGl0eUNhdGVnb3J5SW5kZXgiLCJlbnRpdHlDYXRlZ29yeSIsImhhc093blByb3BlcnR5IiwiZWRpdEVudGl0eSIsImlzRWRpdGluZyIsImdldEVudGl0eU1vZGVsIiwiaW5mbHVlbmNlVHlwZXMiLCJnZXRJbmZsdWVuY2VUeXBlcyIsImNhdGVnb3J5QmFja3VwIiwiYWRkcmVzc1NlYXJjaCIsInNlYXJjaCIsImpzb25wIiwicGFyYW1zIiwicXVlcnkiLCJrZXkiLCJpbmNsdWRlIiwidGhlbiIsInJlc291cmNlU2V0cyIsImxlbmd0aCIsInJlc291cmNlcyIsInRvZ2dsZUNhdGVnb3J5IiwiZm91bmQiLCJpc0xhc3QiLCJmb3JtYXR0ZWRBZGRyZXNzIiwiYXBpQ2FsbFJlc3VsdCIsInJlc3VsdCIsImFkZHJlc3MiLCJwb2ludCIsImFkZExvY2F0aW9uIiwiYWRkcmVzc19saW5lIiwiYWRkcmVzc0xpbmUiLCJkaXN0cmljdCIsImFkbWluRGlzdHJpY3QiLCJjb3VudHJ5IiwiY291bnRyeVJlZ2lvbiIsImNvdW50cnlfY29kZSIsImNvdW50cnlSZWdpb25Jc28yIiwiY29vcmRpbmF0ZXMiLCJwb3N0YWxfY29kZSIsInBvc3RhbENvZGUiLCJnZXRMb2NhdGlvbk1vZGVsIiwiYWRkS2V5UGVyc29uIiwic29tZSIsImtleV9wZW9wbGUiLCJzZXRGdW5kaW5nQ29ubmVjdGlvbiIsImZ1bmRpbmciLCJlbnRpdHlfaWQiLCJhZGRGdW5kaW5nQ29ubmVjdGlvbiIsImFtb3VudCIsInllYXIiLCJzZXRDb25uZWN0aW9uIiwiY29ubmVjdGlvbiIsImFkZENvbm5lY3Rpb24iLCJjb25uZWN0aW9ucyIsImRldGFpbHMiLCJhZGRGaW5hbmNlIiwicmVjb3JkcyIsImV2ZXJ5IiwiciIsInNhdmUiLCJpc1NhdmluZyIsImdlbmVyYXRlREJNb2RlbCIsInBvc3QiLCIkZW1pdCIsImNhbmNlbEVkaXQiLCJlcnJvciIsImlzRXJyb3IiLCJuZXdWYWwiLCJvbGRWYWwiLCJlcXVhbHMiLCJjb3B5IiwiZWRpdENvbnRyb2xsZXJEZXBzIiwiQ2F0ZWdvcnlTZXJ2aWNlIiwibyIsIkNhdGVnb3J5IiwiZGVmT2JqIiwiZW5hYmxlIiwiZ2V0Q2F0ZWdvcnlNb2RlbCIsImNhdGVnb3J5U2VydmljZURlcGVuZGVuY2llcyIsInNlcnZpY2UiLCJDb25uZWN0aW9ucyIsIkNvbm5lY3Rpb24iLCJvYmpJc0RlZiIsImdldENvbm5lY3Rpb25Nb2RlbCIsIkZ1bmRpbmciLCJEYXRhIiwiRW1wbG95bWVudCIsIkNvbGxhYm9yYXRpb24iLCJFbnRpdHlTZXJ2aWNlIiwiZnVuZGluZ0Nvbm5lY3Rpb25TZXJ2aWNlIiwiZmluYW5jZVNlcnZpY2UiLCJjYXRlZ29yeVNlcnZpY2UiLCJsb29wQW5kSW5pdCIsIm1vZGVsQXJyYXkiLCJpbml0TW9kZWxGdW5jdGlvbiIsImlzQXJyYXkiLCJhcnJheUluZGV4IiwiYXJyYXlWYWx1ZSIsIm5ld01vZGVsQXJyYXkiLCJpc09iamVjdCIsIkVudGl0eSIsImluZmx1ZW5jZSIsImdyYW50c19yZWNlaXZlZCIsImdldEZ1bmRpbmdDb25uZWN0aW9uTW9kZWwiLCJpbnZlc3RtZW50c19yZWNlaXZlZCIsImdyYW50c19naXZlbiIsImludmVzdG1lbnRzX21hZGUiLCJkYXRhX2dpdmVuIiwiZGF0YV9yZWNlaXZlZCIsImNvbGxhYm9yYXRpb25zIiwiZW1wbG95bWVudHMiLCJyZXZlbnVlcyIsImdldEZpbmFuY2VNb2RlbCIsImV4cGVuc2VzIiwibmlja25hbWUiLCJ1cmwiLCJ0d2l0dGVyX2hhbmRsZSIsImVtcGxveWVlcyIsImRiTW9kZWwiLCJwb3AiLCJkZXNjcmlwdGlvbiIsIkdvdmVybm1lbnQiLCJGb3ItUHJvZml0IiwiTm9uLVByb2ZpdCIsIkluZGl2aWR1YWwiLCJlbnRpdHlTZXJ2aWNlRGVwZW5kZW5jaWVzIiwiRmluYW5jZVNlcnZpY2UiLCJGaW5hbmNlIiwiRnVuZGluZ0Nvbm5lY3Rpb25zIiwiRnVuZGluZ0Nvbm5lY3Rpb24iLCJmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2VEZXBlbmRlbmNpZXMiLCJMb2NhdGlvblNlcnZpY2UiLCJMb2NhdGlvbiIsInRyaW0iLCJsb2NhdGlvblNlcnZpY2VEZXBlbmRlbmNpZXMiLCJkZXRhaWxzQ3RybCIsIml0ZW1zU2hvd25EZWZhdWx0IiwicmVsYXRpb25zIiwiaXRlbXNTaG93biIsImNsb25lIiwic2hvd01vcmUiLCJzaG93TGVzcyIsImQzIiwiTCIsIm1hcEN0cmwiLCJsZWFmbGV0RGF0YSIsIiRmaWx0ZXIiLCJvcHRpb25zIiwiY2VudGVyIiwibGF0IiwibG5nIiwiem9vbSIsInRpbGVMYXllciIsInRpbGVMYXllck9wdGlvbnMiLCJkZXRlY3RSZXRpbmEiLCJyZXVzZVRpbGVzIiwiem9vbUNvbnRyb2wiLCJhdHRyaWJ1dGlvbkNvbnRyb2wiLCJjcmVhdGVQaWVDaGFydCIsInBpZSIsImxheW91dCIsInNvcnQiLCJkIiwiYXJjIiwic3ZnIiwib3V0ZXJSYWRpdXMiLCJpbm5lclJhZGl1cyIsInN0cm9rZVdpZHRoIiwidyIsImgiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnROUyIsIm5zIiwicHJlZml4IiwidmlzIiwic2VsZWN0IiwiYXR0ciIsImFyY3MiLCJzZWxlY3RBbGwiLCJlbnRlciIsImFwcGVuZCIsInRleHQiLCJpIiwiY291bnQiLCJ0b1N0cmluZyIsIlhNTFNlcmlhbGl6ZXIiLCJzZXJpYWxpemVUb1N0cmluZyIsInhtbCIsImdldE1hcCIsImNsdXN0ZXJJY29uIiwiY2x1c3RlciIsImNoaWxkcmVuIiwiZ2V0QWxsQ2hpbGRNYXJrZXJzIiwidG90YWwiLCJjbHVzdGVyTWFya2VycyIsImNvdW50cyIsImNvdW50QnkiLCJpY29uRGltIiwiaHRtbCIsIkRpdkljb24iLCJjbGFzc05hbWUiLCJpY29uU2l6ZSIsIm91dGVyTG9vcCIsImlubmVyTG9vcCIsIm0iLCJtYXJrZXIiLCJpY29uIiwibWFya2VySWNvbiIsInRpdGxlIiwibWVzc2FnZSIsIm1hcmtlcnMiLCJhZGRMYXllciIsIm9uTG9jYXRpb25FcnJvciIsImxlYWZsZXRFcnJvciIsImZpbHRlcmVkRW50aXRpZXMiLCJpbnZhbGlkYXRlU2l6ZSIsIkNvbnRyb2wiLCJab29tIiwicG9zaXRpb24iLCJhZGRUbyIsImNvbnRyb2wiLCJsb2NhdGUiLCJzaG93UG9wdXAiLCJpY29uVXJsIiwibWFya2VyQ2x1c3Rlckdyb3VwIiwic3BpZGVyZnlPbk1heFpvb20iLCJzaG93Q292ZXJhZ2VPbkhvdmVyIiwiaWNvbkNyZWF0ZUZ1bmN0aW9uIiwibWF4Q2x1c3RlclJhZGl1cyIsInNwaWRlcmZ5RGlzdGFuY2VNdWx0aXBsaWVyIiwib24iLCJsYXllciIsInNhZmVBcHBseSIsInNldFZpZXciLCJSVFAiLCJuZXR3b3JrQ3RybCIsImlzTG9hZGluZyIsImZuIiwicGhhc2UiLCIkcm9vdCIsIiQkcGhhc2UiLCIkYXBwbHkiLCJ0YXJnZXRTY29wZSIsImZpbHRlcmVkQ29ubmVjdGlvbnMiLCJzb3VyY2VOb2RlIiwic291cmNlIiwidGFyZ2V0Tm9kZSIsInRhcmdldCIsInRvcDUiLCJ0YWtlUmlnaHQiLCJzb3J0QnkiLCJ3ZWxsY29ubmVjdGVkIiwiZSIsImRyYXdOZXR3b3JrTW9iaWxlIiwiZHJhd05ldHdvcmsiLCJlbnRpdHlBcnJheSIsImxpbmtzIiwidmFsdWVzIiwiY29sb3JzIiwiZm9jdXNlZCIsInVuZm9jdXNlZCIsImNhbnZhc0ZvcmNlIiwid2lkdGgiLCJoZWlnaHQiLCJvZmZzZXRzIiwiaXNJbnNpZGVDaXJjbGUiLCJ4IiwieSIsImN4IiwiY3kiLCJyYWRpdXMiLCJkeCIsImR5Iiwic2NhbGUiLCJmb2xsb3dlcnMiLCJmIiwiY2FudmFzIiwiY29udGV4dCIsIm5vZGUiLCJnZXRDb250ZXh0IiwiZGV2aWNlUGl4ZWxSYXRpbyIsImJhY2tpbmdTdG9yZVJhdGlvIiwid2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyIsIm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJtc0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJvQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyIsImJhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJyYXRpbyIsImNhbnZhc0VsIiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsImxvYWRpbmciLCJzY2FsZXpvb20iLCJvWCIsIm9mZnNldFgiLCJvWSIsIm9mZnNldFkiLCJzaG93TGljZW5zZSIsImVudGl0eUZvdW5kIiwiayIsImZvY3VzIiwidGljayIsInNob3dFbnRpdGllcyIsImluaXRpYWxMb2FkIiwiZHJhd09uVG9wIiwiYWxsTm9kZXMiLCJwaW5jaFpvb20iLCJmb3JjZSIsInN0b3AiLCJQaW5jaFpvb20iLCJjbGVhclJlY3QiLCJzdHJva2VTdHlsZSIsImlzQ29uVHlwZURlZmluZWQiLCJpc0VudGl0eVRhcmdldFR5cGVEZWZpbmVkIiwiaXNFbnRpdHlTb3VyY2VUeXBlRGVmaW5lZCIsImJlZ2luUGF0aCIsIm1vdmVUbyIsIm1heCIsIm1pbiIsImxpbmVUbyIsInN0cm9rZSIsImNsb3NlUGF0aCIsImVudGl0eU5hbWVzIiwiZmlsbFN0eWxlIiwiUEkiLCJmaWxsIiwibGluZVdpZHRoIiwiZm9udCIsInN0cm9rZVRleHQiLCJzaXplIiwiY2hhcmdlIiwibGlua1N0cmVuZ3RoIiwibGlua0Rpc3RhbmNlIiwic3RhcnQiLCJjb25uZWN0aW9uQXJyYXkiLCJyZW1vdmUiLCJib3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJvZmZzZXRTY2FsZSIsImRlZmF1bHROb2RlU2l6ZSIsImxvd2VyQm91bmRSYWRpdXMiLCJ1cHBlckJvdW5kUmFkaXVzIiwibWF4RW1wbG95ZWVzIiwiZWwiLCJtYXhGb2xsb3dlcnMiLCJzcXJ0IiwiZG9tYWluIiwicmFuZ2UiLCJjYWxsIiwiZHJhZyIsImdldENvbXB1dGVkVGV4dExlbmd0aCIsInBhcmVudE5vZGUiLCJnZXRCQm94IiwiYWxwaGEiLCJzcGVlZEFuaW1hdGUiLCJ0aWNrcyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInJlbmRlciIsImxpbmtlZEJ5SW5kZXgiLCJsIiwiX19kYXRhX18iLCJpbmRleCIsImhvdmVyVGltZXIiLCJuZWlnaGJvcmluZyIsImIiLCJmb2N1c25laWdoYm9ycyIsImNsYXNzZWQiLCJuIiwidW5mb2N1cyIsImZpeGVkIiwicmVzdW1lIiwiaG92ZXIiLCJ1bmhvdmVyIiwiY2xlYXJUaW1lb3V0IiwiZm9jdXNMb2NhdGlvbiIsInVuZm9jdXNMb2NhdGlvbiIsImhpZ2hsaWdodExvY2F0aW9uIiwic3RvcFByb3BhZ2F0aW9uIiwiYmFja2dyb3VuZGNsaWNrIiwiZGJsY2xpY2siLCJweCIsInB5IiwidHJhbnNpdGlvbiIsImR1cmF0aW9uIiwidmFsIiwidmlzaWJsZSIsImhpZGRlbiJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBVUEsR0FFTixZQUVBLElBQUlDLElBQ0EsZUFDQSxvQkFDQSxZQUdKRCxHQUFRRSxPQUFPLGNBQWVELElBRS9CRDtDQ1BILFNBQVdBLEdBRVAsWUFJQSxTQUFTRyxLQUNMLE9BQ0lDLFlBQWEsOEJBQ2JDLFNBQWEsSUFDYkMsU0FDQUMsV0FBZSxpQkFQdkIsR0FBSUMsSUFBeUJMLEVBVzdCSCxHQUFRRSxPQUFPLGVBQ1ZPLFVBQVUsWUFBYUQs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QUU5Q2ljLE9BQVcsU0FBVTNCLEdBR2pCLE9BQVF2Z0IsRUFBTytDLGdCQUFnQndkLEVBQUV0YSxRQUNyQmpHLEVBQU82QyxZQUFZMGQsRUFBRWxILE9BQU9wVCxRQUM3QmpHLEVBQU82QyxZQUFZMGQsRUFBRWhILE9BQU90VCxhQU1wRWpHLEVBQU84RyxJQUFJLGFBQWMsU0FBVUMsRUFBT2QsR0FDdENtTyxFQUNLYyxVQUFVLElBQU1qUCxFQUFLRCxLQUFPLFNBQzVCOGEsU0FBU21CLFFBQVdoYyxFQUFLa0QsUUFBUytZLFFBQVdqYyxFQUFLa0QsVUFFdkRpTCxFQUNLYyxVQUFVLElBQU1qUCxFQUFLRCxLQUFPLFNBQzVCOGEsU0FDWW1CLFFBQVcsU0FBVTFCLEdBR2pCLE1BQU92Z0IsR0FBTytDLGdCQUFnQndkLEVBQUV0YSxPQUNyQmpHLEVBQU82QyxZQUFZMGQsRUFBRWxILE9BQU9wVCxPQUM3QmpHLEVBQU82QyxZQUFZMGQsRUFBRWhILE9BQU90VCxPQUUxQ2ljLE9BQVcsU0FBVTNCLEdBR2pCLE9BQVF2Z0IsRUFBTytDLGdCQUFnQndkLEVBQUV0YSxRQUNyQmpHLEVBQU82QyxZQUFZMGQsRUFBRWxILE9BQU9wVCxRQUM3QmpHLEVBQU82QyxZQUFZMGQsRUFBRWhILE9BQU90VCxXQU1oRWpHLEVBQU84RyxJQUFJLGFBQWMsU0FBVUMsRUFBT0YsR0FDcEIsYUFBZEEsRUFBS1osS0FDTHViLEVBQWtCeGhCLEVBQU9vQyxpQkFHekI5QyxFQUFNVSxFQUFPZ0Usa0JBL3lCN0IsR0FBSXNELElBQ0EsU0FDQSxRQUNBLElBQ0EsVUFDQSxTQUNBcVIsRUEreUJKaGIsR0FBUUUsT0FBTyxlQUNWSyxXQUFXLGNBQWVvSixJQUVoQzNKLFFBQVMrYSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBtYWluRGVwZW5kZW5jaWVzID0gW1xuICAgICAgICAndWkuYm9vdHN0cmFwJyxcbiAgICAgICAgJ2xlYWZsZXQtZGlyZWN0aXZlJyxcbiAgICAgICAgJ25nQW5pbWF0ZSdcbiAgICBdO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJywgbWFpbkRlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA3LzEvMTYuXG4gKi9cblxuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBhbmFseXRpY3NEZXBlbmRlbmNpZXMgPSBbYW5hbHl0aWNzRGlyZWN0aXZlXTtcblxuICAgIGZ1bmN0aW9uIGFuYWx5dGljc0RpcmVjdGl2ZSgpe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvanMvYW5hbHl0aWMvYW5hbHl0aWNzLmh0bWwnLFxuICAgICAgICAgICAgcmVzdHJpY3QgICA6ICdFJyxcbiAgICAgICAgICAgIHNjb3BlICAgICAgOiB7fSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgICA6ICdhbmFseXRpY3NDdHJsJ1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2FuYWx5dGljcycsIGFuYWx5dGljc0RlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA3LzEwLzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGNvbnRyb2xEZXBlbmRlbmNpZXMgPSBbY29udHJvbERpcmVjdGl2ZV07XG5cbiAgICBmdW5jdGlvbiBjb250cm9sRGlyZWN0aXZlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvanMvY29udHJvbC9jb250cm9scy5odG1sJyxcbiAgICAgICAgICAgIHJlc3RyaWN0ICAgOiAnRScsXG4gICAgICAgICAgICBzY29wZSAgICAgIDoge1xuICAgICAgICAgICAgICAgIHRvZ2dsZU5ldHdvcmsgOiAnPScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udHJvbGxlciAgIDogJ2NvbnRyb2xDdHJsJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBcyA6ICdjb250cm9sJyxcbiAgICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXIgOiB7XG4gICAgICAgICAgICAgICAgbWluQ29ubmVjdGlvbnMgOiBcIj1cIlxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2NvbnRyb2wnLCBjb250cm9sRGVwZW5kZW5jaWVzKTtcblxufSkoYW5ndWxhcik7XG4iLCIvKipcbiAqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI3LzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGVkaXRFbnRpdHlEZXBlbmRlbmNpZXMgPSBbZWRpdEVudGl0eURpcmVjdGl2ZV07XG5cbiAgICBmdW5jdGlvbiBlZGl0RW50aXR5RGlyZWN0aXZlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvanMvZWRpdC1lbnRpdHkvZWRpdC5odG1sJyxcbiAgICAgICAgICAgIHJlc3RyaWN0ICAgOiAnRScsXG4gICAgICAgICAgICBzY29wZSAgICAgIDoge1xuICAgICAgICAgICAgICAgICdlbnRpdHknICA6IFwiPVwiLFxuICAgICAgICAgICAgICAgICdlbnRpdGllcyc6IFwiPVwiLFxuICAgICAgICAgICAgICAgICdpc09wZW4nICA6IFwiPVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udHJvbGxlciA6ICdlZGl0Q3RybCdcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuZGlyZWN0aXZlKCdlZGl0RW50aXR5JywgZWRpdEVudGl0eURlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIpO1xuXG5cbiIsIihmdW5jdGlvbiAoYW5ndWxhciwgJCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZnVuY3Rpb24gbGlua0Z1bmN0aW9uKHNjb3BlKSB7XG5cbiAgICAgICAgZnVuY3Rpb24gc2Nyb2xsKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSAkKHRoaXMpO1xuICAgICAgICAgICAgc2VsZi5jc3MoJ2hlaWdodCcsICc1NXZoJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjbGljaygpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gJCh0aGlzKTtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuaW5uZXJIZWlnaHQgLyAzID4gcGFyc2VJbnQoc2VsZi5jc3MoJ2hlaWdodCcpKSkge1xuICAgICAgICAgICAgICAgIHNlbGYuY3NzKCdoZWlnaHQnLCAnNTV2aCcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxmLmNzcygnaGVpZ2h0JywgJzMwdmgnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZXRhaWxzUGFuZWw7XG4gICAgICAgIGlmIChzY29wZS5tb2JpbGUpIHtcbiAgICAgICAgICAgIGRldGFpbHNQYW5lbCA9ICQoXCIjZGV0YWlscy1wYW5lbFwiKTtcbiAgICAgICAgICAgIGRldGFpbHNQYW5lbC5jc3MoXCJoZWlnaHRcIiwgXCIzMHZoXCIpO1xuICAgICAgICAgICAgZGV0YWlsc1BhbmVsLnNjcm9sbFRvcCgwKTtcbiAgICAgICAgICAgIGRldGFpbHNQYW5lbC5zY3JvbGwoc2Nyb2xsKTtcbiAgICAgICAgICAgIGRldGFpbHNQYW5lbC5jbGljayhjbGljayk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRNb2JpbGVFdmVudHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgbGluazogbGlua0Z1bmN0aW9uXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnYWRkTW9iaWxlRXZlbnRzJywgW2FkZE1vYmlsZUV2ZW50c10pO1xufSkoYW5ndWxhciwgJCk7XG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZnVuY3Rpb24gbW9kYWxDdHJsKCRzY29wZSwgJG1vZGFsSW5zdGFuY2UpIHtcbiAgICAgICAgJHNjb3BlLmNsb3NlV2luZG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJG1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuY29udHJvbGxlcignbW9kYWxDdHJsJywgWyckc2NvcGUnLCAnJG1vZGFsSW5zdGFuY2UnLCBtb2RhbEN0cmxdKTtcblxufSkoYW5ndWxhcik7IiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuY29uc3RhbnQoJ18nLCB3aW5kb3cuXylcbiAgICAgICAgLmNvbnN0YW50KCdjb25maWcnLCB7XG4gICAgICAgICAgICBhcGlIb3N0OiAnaHR0cHM6Ly9hcGkuY2l2aWNncmFwaC5pby8nXG4gICAgICAgIH0pXG4gICAgICAgIC5jb25maWcoWyckbG9jYXRpb25Qcm92aWRlcicsICckaHR0cFByb3ZpZGVyJywgJyRjb21waWxlUHJvdmlkZXInLFxuICAgICAgICAgICAgZnVuY3Rpb24gKCRsb2NhdGlvblByb3ZpZGVyLCAkaHR0cFByb3ZpZGVyLCAkY29tcGlsZVByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xuICAgICAgICAgICAgICAgICRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtUmVxdWVzdGVkLVdpdGgnXSA9ICdYTUxIdHRwUmVxdWVzdCc7XG4gICAgICAgICAgICAgICAgLy8gJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnRXZlbnQtTmFtZSddID0gJ1Rlc3RfRXZlbnQnO1xuICAgICAgICAgICAgICAgICRjb21waWxlUHJvdmlkZXIuZGVidWdJbmZvRW5hYmxlZCh0cnVlKTtcbiAgICAgICAgICAgIH1dKVxuICAgICAgICAuZmlsdGVyKCd0aG91c2FuZFN1ZmZpeCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoaW5wdXQsIGRlY2ltYWxzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV4cCxcbiAgICAgICAgICAgICAgICAgICAgc3VmZml4ZXMgPSBbJ2snLCAnTScsICdHJywgJ1QnLCAnUCcsICdFJ107XG5cbiAgICAgICAgICAgICAgICBpZiAod2luZG93LmlzTmFOKGlucHV0KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPCAxMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBleHAgPSBNYXRoLmZsb29yKE1hdGgubG9nKGlucHV0KSAvIE1hdGgubG9nKDEwMDApKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiAoaW5wdXQgLyBNYXRoLnBvdygxMDAwLCBleHApKS50b0ZpeGVkKGRlY2ltYWxzKSArIHN1ZmZpeGVzW2V4cCAtIDFdO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgaG9tZURlcGVuZGVuY2llcyA9IFtcbiAgICAgICAgJyRzY29wZScsXG4gICAgICAgICckaHR0cCcsXG4gICAgICAgICdfJyxcbiAgICAgICAgJ2VudGl0eVNlcnZpY2UnLFxuICAgICAgICAnY29ubmVjdGlvblNlcnZpY2UnLFxuICAgICAgICAnY29uZmlnJyxcbiAgICAgICAgaG9tZUN0cmxcbiAgICBdO1xuXG4gICAgZnVuY3Rpb24gaG9tZUN0cmwoJHNjb3BlLCAkaHR0cCwgXywgZW50aXR5U2VydmljZSwgY29ubmVjdGlvblNlcnZpY2UsIGNvbmZpZykge1xuICAgICAgICAkc2NvcGUucmFuZG9tICAgICAgICAgICAgICAgICAgID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICRzY29wZS5lbnRpdGllcyAgICAgICAgICAgICAgICAgPSBbXTtcbiAgICAgICAgJHNjb3BlLnNlYXJjaEl0ZW1zICAgICAgICAgICAgICA9IG51bGw7XG4gICAgICAgICRzY29wZS5jYXRlZ29yaWVzICAgICAgICAgICAgICAgPSBbXTtcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRMb2NhdGlvbiAgICAgICAgICA9IG51bGw7XG4gICAgICAgICRzY29wZS5jbGlja2VkTG9jYXRpb24gICAgICAgICAgPSB7fTtcbiAgICAgICAgJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbiA9IG51bGw7XG4gICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5ICAgICAgICAgICAgPSB7fTtcbiAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ICAgICA9IG51bGw7XG4gICAgICAgICRzY29wZS5lZGl0aW5nICAgICAgICAgICAgICAgICAgPSBmYWxzZTtcbiAgICAgICAgJHNjb3BlLmFjdGlvbnMgICAgICAgICAgICAgICAgICA9IHsnaW50ZXJhY3RlZCc6IGZhbHNlfTtcbiAgICAgICAgJHNjb3BlLnNob3dzZWFyY2hNQiAgICAgICAgICAgICA9IGZhbHNlO1xuICAgICAgICAkc2NvcGUuc2hvd0FuYWx5dGljcyAgICAgICAgICAgID0gZmFsc2U7XG4gICAgICAgICRzY29wZS5lbnRpdHlUeXBlcyAgICAgICAgICAgICAgPSBlbnRpdHlTZXJ2aWNlLmdldEVudGl0eVR5cGVzKCk7XG4gICAgICAgICRzY29wZS5jb25uZWN0aW9uVHlwZXMgICAgICAgICAgPSBjb25uZWN0aW9uU2VydmljZS5nZXRDb25uZWN0aW9uVHlwZXMoKTtcbiAgICAgICAgJHNjb3BlLnN0YXR1cyAgICAgICAgICAgICAgICAgICA9IHtcbiAgICAgICAgICAgIFwiaXNOZXR3b3JrU2hvd25cIjogdHJ1ZSxcbiAgICAgICAgICAgIFwibGljZW5zZVwiICAgICAgIDogdHJ1ZSxcbiAgICAgICAgICAgIFwibmV0d29ya0xvYWRpbmdcIjogdHJ1ZVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS50b2dnbGVBbmFseXRpY3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2hvd0FuYWx5dGljcyA9ICEkc2NvcGUuc2hvd0FuYWx5dGljcztcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm1pbkNvbm5lY3Rpb25zID0gJHNjb3BlLm1pbkNvbm5lY3Rpb25zID0gMjtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ21pbkNvbm5lY3Rpb25zJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnZW50aXRpZXNMb2FkZWQnKTtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICAkc2NvcGUuY29ubmVjdGlvbkNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHNlbGYubWluQ29ubmVjdGlvbnMpO1xuICAgICAgICAgICAgJHNjb3BlLm1pbkNvbm5lY3Rpb25zID0gc2VsZi5taW5Db25uZWN0aW9ucztcbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdlbnRpdGllc0xvYWRlZCcpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5oeWRlUGFydGlhbHMgPSBmdW5jdGlvbiAoZXhjZXB0KSB7XG4gICAgICAgICAgICBpZiAoZXhjZXB0ID09PSBcInNlYXJjaFwiKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmVkaXRpbmcgICAgICAgICA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zZXR0aW5nc0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhjZXB0ID09PSBcInNldHRpbmdzXCIpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdGluZyAgICAgID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dzZWFyY2hNQiA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChleGNlcHQgPT09IFwiZWRpdFwiKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zaG93c2VhcmNoTUIgICAgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmVkaXRpbmcgICAgICAgICA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zZXR0aW5nc0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd3NlYXJjaE1CICAgID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2hvd1NlYXJjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRzY29wZS5oeWRlUGFydGlhbHMoXCJzZWFyY2hcIik7XG4gICAgICAgICAgICAkc2NvcGUuc2hvd3NlYXJjaE1CICAgPSAkc2NvcGUuc2hvd3NlYXJjaE1CID8gZmFsc2UgOiB0cnVlO1xuICAgICAgICAgICAgLy8gJHNjb3BlLiRicm9hZGNhc3QoJ2hpZGVMaWNlbnNlJyk7XG4gICAgICAgICAgICAkc2NvcGUuc3RhdHVzLmxpY2Vuc2UgPSBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUudG9nZ2xlU2V0dGluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkc2NvcGUuaHlkZVBhcnRpYWxzKFwic2V0dGluZ3NcIik7XG4gICAgICAgICAgICAkc2NvcGUuc2V0dGluZ3NFbmFibGVkID0gISRzY29wZS5zZXR0aW5nc0VuYWJsZWQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnN0YXJ0RWRpdCA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50RW50aXR5ID0gZW50aXR5O1xuICAgICAgICAgICAgaWYgKCRzY29wZS5tb2JpbGUpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHlkZVBhcnRpYWxzKFwiZWRpdFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS5lZGl0aW5nID0gdHJ1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc3dpdGNoVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRzY29wZS5jaGFuZ2VWaWV3KCRzY29wZS5zdGF0dXMuaXNOZXR3b3JrU2hvd24gPyAnTWFwJyA6ICdOZXR3b3JrJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgd2luZG93Lm1vYmlsZWNoZWNrICAgICA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjaGVjayAgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICByZWdleCAgPSAvKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vL2ksXG4gICAgICAgICAgICAgICAgcmVnZXgyID0gLzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2k7XG4gICAgICAgICAgICAoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVnZXgudGVzdChhKSB8fCByZWdleDIudGVzdChhLnN1YnN0cigwLCA0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKG5hdmlnYXRvci51c2VyQWdlbnQgfHwgbmF2aWdhdG9yLnZlbmRvciB8fCB3aW5kb3cub3BlcmEpO1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUubW9iaWxlICAgICAgICAgID0gd2luZG93Lm1vYmlsZWNoZWNrKCk7XG4gICAgICAgICRzY29wZS5zZXR0aW5nc0VuYWJsZWQgPSAhJHNjb3BlLm1vYmlsZTtcblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRodHRwLmdldChjb25maWcuYXBpSG9zdCArICdhcGkvZW50aXRpZXMnKVxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5lbnRpdGllcyA9IGRhdGEubm9kZXM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvbnMgICA9IF8udW5pcShcbiAgICAgICAgICAgICAgICAgICAgICAgIF8ucGx1Y2soXy5mbGF0dGVuKF8ucGx1Y2soJHNjb3BlLmVudGl0aWVzLCAnbG9jYXRpb25zJykpLCAnbG9jYWxpdHknKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGVudGl0aWVzQnlMb2NhdGlvbiA9IF8ubWFwKGxvY2F0aW9ucywgZnVuY3Rpb24gKGxvYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbmRpbmdzID0gXy5maWx0ZXIoJHNjb3BlLmVudGl0aWVzLCBfLmZsb3coXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5wcm9wZXJ0eSgnbG9jYXRpb25zJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5wYXJ0aWFsUmlnaHQoXy5hbnksIHtsb2NhbGl0eTogbG9jfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgICAgOiBsb2MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSAgICA6ICdsb2NhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXRpZXM6IGZpbmRpbmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpY3QgICAgOiBfLnppcE9iamVjdChfLnBsdWNrKGZpbmRpbmdzLCAnbmFtZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLnBsdWNrKGZpbmRpbmdzLCAnaW5kZXgnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZWFyY2hJdGVtcyA9IGVudGl0aWVzQnlMb2NhdGlvbi5jb25jYXQoJHNjb3BlLmVudGl0aWVzKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBpZiAoJHNjb3BlLmdldFVSTElEKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIC8vIFNldCB0aGUgZW50aXR5IHRvIHRoZSBJRCBpbiB0aGUgVVJMIGlmIGl0IGV4aXN0cy5cbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICRzY29wZS5zZXRFbnRpdHlJRCgkc2NvcGUuZ2V0VVJMSUQoKSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm92ZXJ2aWV3VXJsID0gJ2pzL292ZXJ2aWV3L292ZXJ2aWV3Lmh0bWw/aT0nICsgJHNjb3BlLnJhbmRvbTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ2VudGl0aWVzTG9hZGVkJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIDEwMCk7XG5cbiAgICAgICAgJHNjb3BlLm92ZXJ2aWV3VXJsID0gbnVsbDtcblxuICAgICAgICAkc2NvcGUuc2V0RW50aXR5ICAgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudExvY2F0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50RW50aXR5ICAgPSBlbnRpdHk7XG4gICAgICAgICAgICBpZiAoJHNjb3BlLmVkaXRpbmcpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RvcEVkaXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdlbnRpdHlDaGFuZ2UnKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2V0RW50aXR5SUQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgICRzY29wZS5zZXRFbnRpdHkoXy5maW5kKCRzY29wZS5lbnRpdGllcywgeydpZCc6IGlkfSkpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zZXRMb2NhdGlvbiA9IGZ1bmN0aW9uIChsb2NhdGlvbikge1xuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRMb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICAgICAgaWYgKCRzY29wZS5lZGl0aW5nKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0b3BFZGl0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnaXRlbUNoYW5nZScpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zZWxlY3RJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdsb2NhdGlvbicpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2V0TG9jYXRpb24oaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAkc2NvcGVbaXRlbSAlIDEgPT09IDAgPyAnc2V0RW50aXR5SUQnIDogJ3NldEVudGl0eSddKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ3NlbGVjdEl0ZW0nLCBpdGVtKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuJG9uKCdzZXRDdXJyZW50RW50aXR5JywgZnVuY3Rpb24gKGV2ZW50LCBhcmdzKSB7XG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudEVudGl0eSA9IGFyZ3MudmFsdWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS4kb24oJ3NldEN1cnJlbnRMb2NhdGlvbicsIGZ1bmN0aW9uIChldmVudCwgYXJncykge1xuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRMb2NhdGlvbiA9IGFyZ3MudmFsdWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS5zZXRFbnRpdGllcyA9IGZ1bmN0aW9uIChlbnRpdGllcykge1xuICAgICAgICAgICAgJHNjb3BlLmVudGl0aWVzID0gZW50aXRpZXM7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnN0b3BFZGl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHNjb3BlLmVkaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuJG9uKFwiZWRpdEVudGl0eVN1Y2Nlc3NcIiwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2V0RW50aXRpZXMocmVzcG9uc2Uubm9kZXMpO1xuICAgICAgICAgICAgLy8gJHNjb3BlLnNldEVudGl0eUlEKCRzY29wZS5jdXJyZW50RW50aXR5LmlkKTtcbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdlbnRpdGllc0xvYWRlZCcpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkc2NvcGUuYW5pbWF0aW9uc0VuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdob21lQ3RybCcsIGhvbWVEZXBlbmRlbmNpZXMpO1xuXG59KShhbmd1bGFyKTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNy8xNC8xNi5cbiAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBkZXBlbmRlbmNpZXMgPSBbXTtcblxuICAgIGZ1bmN0aW9uIGRpcmVjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFwicmVzdHJpY3RcIjogXCJFXCIsXG4gICAgICAgICAgICBcInRlbXBsYXRlVXJsXCI6IFwiL21hcC9tYXAuaHRtbFwiLFxuICAgICAgICAgICAgXCJjb250cm9sbGVyXCI6IFwibWFwQ3RybFwiXG4gICAgICAgIH07XG4gICAgfVxuICAgICAgICBhbmd1bGFyLm1vZHVsZShcImNpdmljLWdyYXBoXCIpXG4gICAgICAgICAgICAuZGlyZWN0aXZlKFwibWFwXCIsIGRlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNy8xMS8xNi5cbiAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBkZXBlbmRlbmNpZXMgPSBbXG4gICAgICAgIGRpcmVjdGl2ZVxuICAgIF07XG5cbiAgICBmdW5jdGlvbiBkaXJlY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBcInJlc3RyaWN0XCI6IFwiRVwiLFxuICAgICAgICAgICAgXCJ0ZW1wbGF0ZVVybFwiOiBcIi9qcy9uZXR3b3JrL25ldHdvcmsuaHRtbFwiLFxuICAgICAgICAgICAgXCJjb250cm9sbGVyXCI6IFwibmV0d29ya0N0cmxcIlxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKFwiY2l2aWMtZ3JhcGhcIilcbiAgICAgICAgLmRpcmVjdGl2ZShcIm5ldHdvcmtcIiwgZGVwZW5kZW5jaWVzKTtcblxufSkoYW5ndWxhcik7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDYvMjYvMTYuXG4gKi9cbihmdW5jdGlvbihhbmd1bGFyKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnaW5wdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0aWN0OiAnRScsXG4gICAgICAgICAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCAndHlwZScgaW4gYXR0cnMgJiYgYXR0cnMudHlwZS50b0xvd2VyQ2FzZSgpID09PSAncmFuZ2UnICkge1xuICAgICAgICAgICAgICAgICAgICBuZ01vZGVsLiRwYXJzZXJzLnB1c2gocGFyc2VGbG9hdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pO1xufSkoYW5ndWxhcik7IiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBmdW5jdGlvbiBvdmVydmlld0N0cmwoJHNjb3BlLCBfKSB7XG4gICAgICAgICRzY29wZS5jYXRlZ29yaXplZEVudGl0aWVzID0ge307XG4gICAgICAgIF8uZm9yRWFjaChfLmtleXMoJHNjb3BlLmVudGl0eVR5cGVzKSwgZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICRzY29wZS5jYXRlZ29yaXplZEVudGl0aWVzW3R5cGVdID0gXy5maWx0ZXIoJHNjb3BlLmVudGl0aWVzLCB7J3R5cGUnOiB0eXBlfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdvdmVydmlld0N0cmwnLCBbJyRzY29wZScsICdfJywgb3ZlcnZpZXdDdHJsXSk7XG59KShhbmd1bGFyKTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNy8xLzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZnVuY3Rpb24gYW5hbHl0aWNzQ3RybCgkc2NvcGUpIHtcblxuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdhbmFseXRpY3NDdHJsJywgWyckc2NvcGUnLCBhbmFseXRpY3NDdHJsXSk7XG59KShhbmd1bGFyKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDcvMTAvMTYuXG4gKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgY29udHJvbERlcHMgPSBbXG4gICAgICAgICdlbnRpdHlTZXJ2aWNlJyxcbiAgICAgICAgJ2Nvbm5lY3Rpb25TZXJ2aWNlJyxcbiAgICAgICAgJyRyb290U2NvcGUnLFxuICAgICAgICAnXycsXG4gICAgICAgICckbW9kYWwnLFxuICAgICAgICBjb250cm9sQ3RybFxuICAgIF07XG5cbiAgICBmdW5jdGlvbiBjb250cm9sQ3RybChlbnRpdHlTZXJ2aWNlLCBjb25uZWN0aW9uU2VydmljZSwgJHJvb3RTY29wZSwgXywgJG1vZGFsKSB7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG4gICAgICAgIHZtLmVudGl0eVR5cGVzID0gZW50aXR5U2VydmljZS5nZXRFbnRpdHlUeXBlcygpO1xuICAgICAgICB2bS5jb25uZWN0aW9uVHlwZXMgPSBjb25uZWN0aW9uU2VydmljZS5nZXRDb25uZWN0aW9uVHlwZXMoKTtcbiAgICAgICAgdm0uc2l6ZUJ5TGlzdCA9IFtcbiAgICAgICAgICAgIHsnbmFtZSc6ICdFbXBsb3llZXMnLCAndmFsdWUnOiAnZW1wbG95ZWVzJ30sXG4gICAgICAgICAgICB7J25hbWUnOiAnVHdpdHRlciBGb2xsb3dlcnMnLCAndmFsdWUnOiAnZm9sbG93ZXJzJ31cbiAgICAgICAgXTtcbiAgICAgICAgdm0uc2l6ZUJ5ID0gJ2VtcGxveWVlcyc7XG4gICAgICAgIHZtLnNob3dWaWV3ID0ge1xuICAgICAgICAgICAgJ05ldHdvcmsnOiB0cnVlLFxuICAgICAgICAgICAgJ01hcCc6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIHZtLmNoYW5nZVZpZXcgPSBmdW5jdGlvbiAodmlldykge1xuICAgICAgICAgICAgXy5mb3JFYWNoKF8ua2V5cyh2bS5zaG93VmlldyksIGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgdm0uc2hvd1ZpZXdbbmFtZV0gPSB2aWV3ID09PSBuYW1lO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3ZpZXdDaGFuZ2UnKTtcbiAgICAgICAgfTtcbiAgICAgICAgdm0uc2hvd0Fib3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJG1vZGFsLm9wZW4oe1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb250cm9sL2Fib3V0Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtb2RhbEN0cmwnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdm0udG9nZ2xlTm9kZSA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3RvZ2dsZU5vZGUnLCB7J25hbWUnOiB0eXBlLCAnZW5hYmxlZCc6IHZtLmVudGl0eVR5cGVzW3R5cGVdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdm0udG9nZ2xlTGluayA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3RvZ2dsZUxpbmsnLCB7J25hbWUnOiB0eXBlLCAnZW5hYmxlZCc6IHZtLmNvbm5lY3Rpb25UeXBlc1t0eXBlXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHZtLmNoYW5nZVNpemVCeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnY2hhbmdlU2l6ZUJ5Jywgdm0uc2l6ZUJ5KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuY29udHJvbGxlcignY29udHJvbEN0cmwnLCBjb250cm9sRGVwcyk7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgZWRpdENvbnRyb2xsZXJEZXBzID0gW1xuICAgICAgICAnJHNjb3BlJyxcbiAgICAgICAgJyRodHRwJyxcbiAgICAgICAgJyR0aW1lb3V0JyxcbiAgICAgICAgJ18nLFxuICAgICAgICAnZW50aXR5U2VydmljZScsXG4gICAgICAgICdsb2NhdGlvblNlcnZpY2UnLFxuICAgICAgICAnY29uZmlnJyxcbiAgICAgICAgZWRpdEN0cmxcbiAgICBdO1xuXG4gICAgZnVuY3Rpb24gaXNEZWYob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogIT09IHVuZGVmaW5lZCAmJiBvYmogIT09IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZWRpdEN0cmwoJHNjb3BlLCAkaHR0cCwgJHRpbWVvdXQsIF8sIGVudGl0eVNlcnZpY2UsIGxvY2F0aW9uU2VydmljZSwgY29uZmlnKSB7XG4gICAgICAgICRzY29wZS5pc0VkaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgJHNjb3BlLmVkaXRFbnRpdHkgPSBlbnRpdHlTZXJ2aWNlLmdldEVudGl0eU1vZGVsKCRzY29wZS5lbnRpdHkpO1xuICAgICAgICAkc2NvcGUuZW50aXR5VHlwZXMgPSBlbnRpdHlTZXJ2aWNlLmdldEVudGl0eVR5cGVzKCk7XG4gICAgICAgICRzY29wZS5pbmZsdWVuY2VUeXBlcyA9IGVudGl0eVNlcnZpY2UuZ2V0SW5mbHVlbmNlVHlwZXMoKTtcblxuICAgICAgICB2YXIgY2F0ZWdvcnlCYWNrdXA7XG5cbiAgICAgICAgJHNjb3BlLmNhdGVnb3JpZXMgPSBbXTtcblxuICAgICAgICAkc2NvcGUuYWRkcmVzc1NlYXJjaCA9IGZ1bmN0aW9uIChzZWFyY2gpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5qc29ucCgnaHR0cHM6Ly9kZXYudmlydHVhbGVhcnRoLm5ldC9SRVNUL3YxL0xvY2F0aW9ucycsIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHNlYXJjaCxcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnQWk1ODU4MXlDLVNyN21jRmJZVHRVa1MzaXhFN2Y2WnVKbmJGSkNWSTRoQXRXMVhvREVlWnlpZFF6MmdMQ0N5RCcsXG4gICAgICAgICAgICAgICAgICAgICdqc29ucCc6ICdKU09OX0NBTExCQUNLJyxcbiAgICAgICAgICAgICAgICAgICAgJ2luY2x1ZGUnOiAnY2lzbzInXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRGVmKHJlc3BvbnNlLmRhdGEucmVzb3VyY2VTZXRzKSAmJiByZXNwb25zZS5kYXRhLnJlc291cmNlU2V0cy5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEucmVzb3VyY2VTZXRzWzBdLnJlc291cmNlcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS50b2dnbGVDYXRlZ29yeSA9IGZ1bmN0aW9uIChjYXRlZ29yeSkge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5lZGl0RW50aXR5LmNhdGVnb3JpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmVkaXRFbnRpdHkuY2F0ZWdvcmllcy5wdXNoKGNhdGVnb3J5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgY2F0ZWdvcnlJbmRleCBpbiAkc2NvcGUuZWRpdEVudGl0eS5jYXRlZ29yaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghJHNjb3BlLmVkaXRFbnRpdHkuY2F0ZWdvcmllcy5oYXNPd25Qcm9wZXJ0eShjYXRlZ29yeUluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGVudGl0eUNhdGVnb3J5ID0gJHNjb3BlLmVkaXRFbnRpdHkuY2F0ZWdvcmllc1tjYXRlZ29yeUluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVudGl0eUNhdGVnb3J5LmlkID09PSBjYXRlZ29yeS5pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5Q2F0ZWdvcnkuZW5hYmxlZCA9IGNhdGVnb3J5LmVuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5lZGl0RW50aXR5LmNhdGVnb3JpZXMucHVzaChjYXRlZ29yeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zZXRMb2NhdGlvbiA9IGZ1bmN0aW9uIChsb2NhdGlvbiwgaXNMYXN0KSB7XG4gICAgICAgICAgICAkc2NvcGUuYWRkcmVzc1NlYXJjaChsb2NhdGlvbi5mb3JtYXR0ZWRBZGRyZXNzKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChhcGlDYWxsUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBhcGlDYWxsUmVzdWx0WzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyA9IHJlc3VsdC5hZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQgPSByZXN1bHQucG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRMb2NhdGlvbihpc0xhc3QpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFBhcnNlcyBBUEkgY2FsbCByZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uYWRkcmVzc19saW5lID0gaXNEZWYoYWRkcmVzcy5hZGRyZXNzTGluZSkgPyBhZGRyZXNzLmFkZHJlc3NMaW5lIDogJyc7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmxvY2FsaXR5ID0gaXNEZWYoYWRkcmVzcy5sb2NhbGl0eSkgPyBhZGRyZXNzLmxvY2FsaXR5IDogJyc7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmRpc3RyaWN0ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRGVmKGFkZHJlc3MuYWRtaW5EaXN0cmljdCkgPyBhZGRyZXNzLmFkbWluRGlzdHJpY3QgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uY291bnRyeSA9XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0RlZihhZGRyZXNzLmNvdW50cnlSZWdpb24pID8gYWRkcmVzcy5jb3VudHJ5UmVnaW9uIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uY291bnRyeV9jb2RlID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRGVmKGFkZHJlc3MuY291bnRyeVJlZ2lvbklzbzIpID8gYWRkcmVzcy5jb3VudHJ5UmVnaW9uSXNvMiA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5jb29yZGluYXRlcyA9IGlzRGVmKHBvaW50LmNvb3JkaW5hdGVzKSA/IHBvaW50LmNvb3JkaW5hdGVzIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucG9zdGFsX2NvZGUgPSBpc0RlZihhZGRyZXNzLnBvc3RhbENvZGUpID8gYWRkcmVzcy5wb3N0YWxDb2RlIDogbnVsbDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuYWRkTG9jYXRpb24gPSBmdW5jdGlvbiAoaXNMYXN0KSB7XG4gICAgICAgICAgICBpZiAoaXNMYXN0KSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmVkaXRFbnRpdHkubG9jYXRpb25zLnB1c2gobG9jYXRpb25TZXJ2aWNlLmdldExvY2F0aW9uTW9kZWwoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmFkZEtleVBlcnNvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIEFkZCBibGFuayBmaWVsZCB0byBlZGl0IGlmIHRoZXJlIGFyZSBub25lLlxuICAgICAgICAgICAgLy8gV0FUQ0ggT1VUISBUT0RPOiBJZiBzb21lb25lIGRlbGV0ZXMgYW4gb2xkIHBlcnNvbiwgZGVsZXRlIHRoZWlyIGlkIHRvby5cbiAgICAgICAgICAgIC8vIGkuZS4gbWFrZSBzdXJlIG9sZC9jbGVhcmVkIGZvcm0gZmllbGRzIGFyZW4ndCBiZWluZyBlZGl0ZWQgaW50byBuZXcgcGVvcGxlLlxuICAgICAgICAgICAgaWYgKCEoXy5zb21lKCRzY29wZS5lZGl0RW50aXR5LmtleV9wZW9wbGUsIHsnbmFtZSc6ICcnLCAnaWQnOiBudWxsfSkpKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmVkaXRFbnRpdHkua2V5X3Blb3BsZS5wdXNoKHsnbmFtZSc6ICcnLCAnaWQnOiBudWxsfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnNldEZ1bmRpbmdDb25uZWN0aW9uID0gZnVuY3Rpb24gKGVudGl0eSwgZnVuZGluZykge1xuICAgICAgICAgICAgLy8gQWRkIG90aGVyIGVudGl0eSdzIGlkIHRvIHRoaXMgZmluYW5jZSBjb25uZWN0aW9uLlxuICAgICAgICAgICAgZnVuZGluZy5lbnRpdHlfaWQgPSBlbnRpdHkuaWQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmFkZEZ1bmRpbmdDb25uZWN0aW9uID0gZnVuY3Rpb24gKGZ1bmRpbmcpIHtcbiAgICAgICAgICAgIGlmICghXy5zb21lKGZ1bmRpbmcsIHsnZW50aXR5JzogJyd9KSkge1xuICAgICAgICAgICAgICAgIC8vIE1heWJlIHNldCBhbW91bnQgdG8gMCBpbnN0ZWFkIG9mIG51bGw/XG4gICAgICAgICAgICAgICAgZnVuZGluZy5wdXNoKHsnZW50aXR5JzogJycsICdhbW91bnQnOiBudWxsLCAneWVhcic6IG51bGwsICdpZCc6IG51bGx9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2V0Q29ubmVjdGlvbiA9IGZ1bmN0aW9uIChlbnRpdHksIGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24uZW50aXR5X2lkID0gZW50aXR5LmlkO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5hZGRDb25uZWN0aW9uID0gZnVuY3Rpb24gKGNvbm5lY3Rpb25zKSB7XG4gICAgICAgICAgICAvLyBBZGQgYW4gZW1wdHkgY29ubmVjdGlvbiB0byBlZGl0IGlmIG5vbmUgZXhpc3QuXG4gICAgICAgICAgICBpZiAoIV8uc29tZShjb25uZWN0aW9ucywgeydlbnRpdHknOiAnJywgJ2lkJzogbnVsbH0pKSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbnMucHVzaCh7J2VudGl0eSc6ICcnLCAnaWQnOiBudWxsLCAnZGV0YWlscyc6IG51bGx9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuYWRkRmluYW5jZSA9IGZ1bmN0aW9uIChyZWNvcmRzKSB7XG4gICAgICAgICAgICAvLyBBZGQgbmV3IGZpbmFuY2UgZmllbGQgaWYgYWxsIGN1cnJlbnQgZmllbGRzIGFyZSB2YWxpZC5cbiAgICAgICAgICAgIGlmIChfLmV2ZXJ5KHJlY29yZHMsIGZ1bmN0aW9uIChyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByLmFtb3VudCA+IDAgJiYgci55ZWFyID4gMTc1MDtcbiAgICAgICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICAgIHJlY29yZHMucHVzaCh7J2Ftb3VudCc6IG51bGwsICd5ZWFyJzogbnVsbCwgJ2lkJzogbnVsbH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHNjb3BlLmlzU2F2aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5lZGl0RW50aXR5LmdlbmVyYXRlREJNb2RlbCgpKTtcblxuICAgICAgICAgICAgJGh0dHAucG9zdChjb25maWcuYXBpSG9zdCArICdhcGkvc2F2ZScsIHsnZW50aXR5JzogJHNjb3BlLmVkaXRFbnRpdHkuZ2VuZXJhdGVEQk1vZGVsKCl9KVxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNTYXZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KFwiZWRpdEVudGl0eVN1Y2Nlc3NcIiwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAvLyBDYWxsIHRvIGhvbWVDdHJsJ3MgcGFyZW50IHN0b3BFZGl0KCkgdG8gY2hhbmdlIHZpZXcgYmFjayBhbmQgYW55IG90aGVyXG4gICAgICAgICAgICAgICAgICAgIC8vIGhpZ2gtbGV2ZWwgY2hhbmdlcy5cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbEVkaXQoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5pc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmNhbmNlbEVkaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLiR3YXRjaCgnZW50aXR5JywgZnVuY3Rpb24gKG5ld1ZhbCwgb2xkVmFsKSB7XG4gICAgICAgICAgICBpZiAoYW5ndWxhci5lcXVhbHMobmV3VmFsLCBvbGRWYWwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuZW50aXR5KTtcblxuICAgICAgICAgICAgJHNjb3BlLmVkaXRFbnRpdHkgPSBlbnRpdHlTZXJ2aWNlLmdldEVudGl0eU1vZGVsKG5ld1ZhbCk7XG4gICAgICAgICAgICAkc2NvcGUuY2F0ZWdvcmllcyA9IGFuZ3VsYXIuY29weShjYXRlZ29yeUJhY2t1cCk7XG5cbiAgICAgICAgICAgIGluaXRDYXRlZ29yeUFycmF5KCk7XG5cbiAgICAgICAgICAgICRzY29wZS5pc0VkaXRpbmcgPSBpc0RlZigkc2NvcGUuZWRpdEVudGl0eS5pZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbml0aWFsaXplcyBjYXRlZ29yeSBmaWVsZHMgd2l0aCBlbnRpdHkgdmFsdWVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBMb29wcyB0aHJvdWdoIGNhdGVnb3J5IGluIGNhdGVnb3JpZXMgYW5kIGxvb3BzIHRocm91Z2ggY2F0ZWdvcnkgaW4gZW50aXR5LiBJZGVudGlmaWVzXG4gICAgICAgICAqIGNhdGVnb3JpZXMgZW5hYmxlZCBpbiB0aGUgZW50aXR5IGFuZCBzZXRzIGxvY2FsIGRpc3BsYXkgZGF0YS4gVGhpcyBpcyBiZWNhdXNlIHdlIGNyZWF0ZWRcbiAgICAgICAgICogYSBiYWNrdXAgb2YgZW50aXR5IGRhdGEgc28gdGhhdCB0aGUgYXBpIGRhdGEgaXMgbm90IHRhbXBlcmVkIHdpdGggZGlyZWN0bHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRPRE86IHJlcGxhY2Ugd2l0aCBiZXR0ZXIgZGF0YSBzdHJ1Y3R1cmUgZm9yIGNhdGVnb3JpZXMuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBpbml0Q2F0ZWdvcnlBcnJheSgpIHtcbiAgICAgICAgICAgIHZhciBjYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeUluZGV4LFxuICAgICAgICAgICAgICAgIGVudGl0eUNhdGVnb3J5SW5kZXgsXG4gICAgICAgICAgICAgICAgZW50aXR5Q2F0ZWdvcnk7XG5cbiAgICAgICAgICAgIGZvciAoY2F0ZWdvcnlJbmRleCBpbiAkc2NvcGUuY2F0ZWdvcmllcykge1xuICAgICAgICAgICAgICAgIGlmICghJHNjb3BlLmNhdGVnb3JpZXMuaGFzT3duUHJvcGVydHkoY2F0ZWdvcnlJbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGVnb3J5ID0gJHNjb3BlLmNhdGVnb3JpZXNbY2F0ZWdvcnlJbmRleF07XG4gICAgICAgICAgICAgICAgZm9yIChlbnRpdHlDYXRlZ29yeUluZGV4IGluICRzY29wZS5lZGl0RW50aXR5LmNhdGVnb3JpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuZWRpdEVudGl0eS5jYXRlZ29yaWVzLmhhc093blByb3BlcnR5KGVudGl0eUNhdGVnb3J5SW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbnRpdHlDYXRlZ29yeSA9ICRzY29wZS5lZGl0RW50aXR5LmNhdGVnb3JpZXNbZW50aXR5Q2F0ZWdvcnlJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeS5pZCA9PT0gZW50aXR5Q2F0ZWdvcnkuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5LmVuYWJsZWQgPSBlbnRpdHlDYXRlZ29yeS5lbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmV0cmlldmUgQ2F0ZWdvcmllcyBmcm9tIERCXG4gICAgICAgICRodHRwLmdldChjb25maWcuYXBpSG9zdCArICdhcGkvY2F0ZWdvcmllcycpXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5QmFja3VwID0gZGF0YS5jYXRlZ29yaWVzO1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZXMgYmFja3VwIG9mIGRhdGEgdXNpbmcgQW5ndWxhciB0byBwcmV2ZW50IGFwaSBkYXRhIGZyb20gYmVpbmcgdGFtcGVyZWRcbiAgICAgICAgICAgICAgICAvLyBkaXJlY3RseVxuICAgICAgICAgICAgICAgICRzY29wZS5jYXRlZ29yaWVzID0gYW5ndWxhci5jb3B5KGNhdGVnb3J5QmFja3VwKTtcbiAgICAgICAgICAgICAgICAvLyAkc2NvcGUuY2F0ZWdvcmllcyA9IGRhdGEuY2F0ZWdvcmllcztcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdlZGl0Q3RybCcsIGVkaXRDb250cm9sbGVyRGVwcyk7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI4LzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGNhdGVnb3J5U2VydmljZURlcGVuZGVuY2llcyA9IFtcbiAgICAgICAgQ2F0ZWdvcnlTZXJ2aWNlXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIENhdGVnb3J5U2VydmljZSgpIHtcblxuICAgICAgICBmdW5jdGlvbiBpc0RlZihvKSB7IHJldHVybiBvICE9PSB1bmRlZmluZWQgJiYgbyAhPT0gbnVsbDsgfVxuXG4gICAgICAgIGZ1bmN0aW9uIENhdGVnb3J5KG9iaikge1xuICAgICAgICAgICAgdmFyIGRlZk9iaiA9IGlzRGVmKG9iaikgPyBvYmogOiB7fTtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IChpc0RlZihkZWZPYmoubmFtZSkgPyBkZWZPYmoubmFtZSA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5lbmFibGVkID0gKGlzRGVmKGRlZk9iai5lbmFibGUpID8gZGVmT2JqLmVuYWJsZWQgOiB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaWQgPSAoaXNEZWYoZGVmT2JqLmlkKSA/IGRlZk9iai5pZCA6IG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nZXRDYXRlZ29yeU1vZGVsID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IENhdGVnb3J5KG9iaik7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLnNlcnZpY2UoJ2NhdGVnb3J5U2VydmljZScsIGNhdGVnb3J5U2VydmljZURlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNi8yNy8xNi5cbiAqL1xuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgY29ubmVjdGlvblNlcnZpY2UgPSBbQ29ubmVjdGlvbnNdO1xuICAgIHZhciBjb25uZWN0aW9uVHlwZXMgPSB7XG4gICAgICAgICdGdW5kaW5nJzogdHJ1ZSxcbiAgICAgICAgJ0RhdGEnOiB0cnVlLFxuICAgICAgICAnRW1wbG95bWVudCc6IHRydWUsXG4gICAgICAgICdDb2xsYWJvcmF0aW9uJzogdHJ1ZVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBpc0RlZihvKSB7XG4gICAgICAgIHJldHVybiBvICE9PSB1bmRlZmluZWQgJiYgbyAhPT0gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBDb25uZWN0aW9ucygpIHtcbiAgICAgICAgZnVuY3Rpb24gQ29ubmVjdGlvbihvYmopIHtcbiAgICAgICAgICAgIHZhciBvYmpJc0RlZiA9IGlzRGVmKG9iaik7XG4gICAgICAgICAgICB0aGlzLmVudGl0eSA9IChvYmpJc0RlZiAmJiBpc0RlZihvYmouZW50aXR5KSA/IG9iai5lbnRpdHkgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuaWQgPSAob2JqSXNEZWYgJiYgaXNEZWYob2JqLmlkKSA/IG9iai5pZCA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5kZXRhaWxzID0gKG9iaklzRGVmICYmIGlzRGVmKG9iai5kZXRhaWxzKSA/IG9iai5kZXRhaWxzIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSAob2JqSXNEZWYgJiYgaXNEZWYob2JqLm5hbWUpID8gb2JqLm5hbWU6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5lbnRpdHlfaWQgPSAob2JqSXNEZWYgJiYgaXNEZWYob2JqLmVudGl0eV9pZCkgPyBvYmouZW50aXR5X2lkOiBudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2V0Q29ubmVjdGlvbk1vZGVsID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb25uZWN0aW9uKG9iaik7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5nZXRDb25uZWN0aW9uVHlwZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29ubmVjdGlvblR5cGVzO1xuICAgICAgICB9O1xuICAgIH1cblxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLnNlcnZpY2UoJ2Nvbm5lY3Rpb25TZXJ2aWNlJywgY29ubmVjdGlvblNlcnZpY2UpO1xuXG59KShhbmd1bGFyKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDYvMjcvMTYuXG4gKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgZW50aXR5U2VydmljZURlcGVuZGVuY2llcyA9IFtcbiAgICAgICAgJ2Z1bmRpbmdDb25uZWN0aW9uU2VydmljZScsXG4gICAgICAgICdjb25uZWN0aW9uU2VydmljZScsXG4gICAgICAgICdmaW5hbmNlU2VydmljZScsXG4gICAgICAgICdsb2NhdGlvblNlcnZpY2UnLFxuICAgICAgICAnY2F0ZWdvcnlTZXJ2aWNlJyxcbiAgICAgICAgRW50aXR5U2VydmljZVxuICAgIF07XG5cbiAgICBmdW5jdGlvbiBFbnRpdHlTZXJ2aWNlKGZ1bmRpbmdDb25uZWN0aW9uU2VydmljZSwgY29ubmVjdGlvblNlcnZpY2UsIGZpbmFuY2VTZXJ2aWNlLCBsb2NhdGlvblNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeVNlcnZpY2VcbiAgICApIHtcblxuICAgICAgICB2YXIgZW50aXR5VHlwZXMgPSB7XG4gICAgICAgICAgICAnR292ZXJubWVudCc6IHRydWUsXG4gICAgICAgICAgICAnRm9yLVByb2ZpdCc6IHRydWUsXG4gICAgICAgICAgICAnTm9uLVByb2ZpdCc6IHRydWUsXG4gICAgICAgICAgICAnSW5kaXZpZHVhbCc6IHRydWVcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgaW5mbHVlbmNlVHlwZXMgPSBbXG4gICAgICAgICAgICAnTG9jYWwnLFxuICAgICAgICAgICAgJ05hdGlvbmFsJyxcbiAgICAgICAgICAgICdHbG9iYWwnXG4gICAgICAgIF07XG5cbiAgICAgICAgZnVuY3Rpb24gaXNEZWYobykge1xuICAgICAgICAgICAgcmV0dXJuIG8gIT09IHVuZGVmaW5lZCAmJiBvICE9PSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbG9vcEFuZEluaXQobW9kZWxBcnJheSwgaW5pdE1vZGVsRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGlmKCAhKCBpc0RlZihtb2RlbEFycmF5KSB8fCBhbmd1bGFyLmlzQXJyYXkobW9kZWxBcnJheSkgKSApIHJldHVybiBbaW5pdE1vZGVsRnVuY3Rpb24oKV07XG4gICAgICAgICAgICB2YXIgYXJyYXlJbmRleCxcbiAgICAgICAgICAgICAgICBhcnJheVZhbHVlLFxuICAgICAgICAgICAgICAgIG5ld01vZGVsQXJyYXkgPSBbXTtcblxuICAgICAgICAgICAgZm9yICggYXJyYXlJbmRleCBpbiBtb2RlbEFycmF5ICkge1xuICAgICAgICAgICAgICAgIGlmKCFtb2RlbEFycmF5Lmhhc093blByb3BlcnR5KGFycmF5SW5kZXgpKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBhcnJheVZhbHVlID0gbW9kZWxBcnJheVthcnJheUluZGV4XTtcblxuICAgICAgICAgICAgICAgIGlmKCFhbmd1bGFyLmlzT2JqZWN0KGFycmF5VmFsdWUpKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIG5ld01vZGVsQXJyYXkucHVzaChpbml0TW9kZWxGdW5jdGlvbihhcnJheVZhbHVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdNb2RlbEFycmF5LnB1c2goaW5pdE1vZGVsRnVuY3Rpb24oKSk7XG5cbiAgICAgICAgICAgIHJldHVybiBuZXdNb2RlbEFycmF5O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gRW50aXR5KG9iaikge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGRlZk9iaiA9IGlzRGVmKG9iaikgPyBvYmogOiB7fTtcbiAgICAgICAgICAgIC8vIFRPRE86IERvIGEgbG9vcCB0byBnZW5lcmF0ZSB0aGVzZSBsb2NhdGlvbnMgYXMgbW9kZWxzLCBpbiBvcmRlciB0byB1c2UgdGhlIGZ1bmN0aW9ucyBpbiBtb2RlbFxuICAgICAgICAgICAgLy8gdGhpcy5sb2NhdGlvbnMgPSAoaXNEZWYoZGVmT2JqLmxvY2F0aW9ucykgPyBkZWZPYmoubG9jYXRpb25zIDogW2xvY2F0aW9uU2VydmljZS5nZXRMb2NhdGlvbk1vZGVsKCldKTtcbiAgICAgICAgICAgIC8vIFRPRE86IERvIHRoaXMgZm9yIGV2ZXJ5IGFycmF5IGluIHRoaXMgbW9kZWxcbiAgICAgICAgICAgIHRoaXMuaWQgPSAoaXNEZWYoZGVmT2JqLmlkKSA/IGRlZk9iai5pZCA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gKGlzRGVmKGRlZk9iai5uYW1lKSA/IGRlZk9iai5uYW1lIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmxvY2F0aW9ucyA9IGxvb3BBbmRJbml0KGRlZk9iai5sb2NhdGlvbnMsIGxvY2F0aW9uU2VydmljZS5nZXRMb2NhdGlvbk1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMuaW5mbHVlbmNlID0gKGlzRGVmKGRlZk9iai5pbmZsdWVuY2UpID8gZGVmT2JqLmluZmx1ZW5jZSA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5ncmFudHNfcmVjZWl2ZWQgPSBsb29wQW5kSW5pdChkZWZPYmouZ3JhbnRzX3JlY2VpdmVkLCBmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2UuZ2V0RnVuZGluZ0Nvbm5lY3Rpb25Nb2RlbCk7XG4gICAgICAgICAgICB0aGlzLmludmVzdG1lbnRzX3JlY2VpdmVkID0gbG9vcEFuZEluaXQoZGVmT2JqLmludmVzdG1lbnRzX3JlY2VpdmVkLCBmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2UuZ2V0RnVuZGluZ0Nvbm5lY3Rpb25Nb2RlbCk7XG4gICAgICAgICAgICB0aGlzLmdyYW50c19naXZlbiA9IGxvb3BBbmRJbml0KGRlZk9iai5ncmFudHNfZ2l2ZW4sIGZ1bmRpbmdDb25uZWN0aW9uU2VydmljZS5nZXRGdW5kaW5nQ29ubmVjdGlvbk1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMuaW52ZXN0bWVudHNfbWFkZSA9IGxvb3BBbmRJbml0KGRlZk9iai5pbnZlc3RtZW50c19tYWRlLCBmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2UuZ2V0RnVuZGluZ0Nvbm5lY3Rpb25Nb2RlbCk7XG4gICAgICAgICAgICB0aGlzLmRhdGFfZ2l2ZW4gPSBsb29wQW5kSW5pdChkZWZPYmouZGF0YV9naXZlbiwgY29ubmVjdGlvblNlcnZpY2UuZ2V0Q29ubmVjdGlvbk1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YV9yZWNlaXZlZCA9IGxvb3BBbmRJbml0KGRlZk9iai5kYXRhX3JlY2VpdmVkLCBjb25uZWN0aW9uU2VydmljZS5nZXRDb25uZWN0aW9uTW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5jb2xsYWJvcmF0aW9ucyA9IGxvb3BBbmRJbml0KGRlZk9iai5jb2xsYWJvcmF0aW9ucywgY29ubmVjdGlvblNlcnZpY2UuZ2V0Q29ubmVjdGlvbk1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMua2V5X3Blb3BsZSA9IGxvb3BBbmRJbml0KGRlZk9iai5rZXlfcGVvcGxlLCBjb25uZWN0aW9uU2VydmljZS5nZXRDb25uZWN0aW9uTW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5lbXBsb3ltZW50cyA9IGxvb3BBbmRJbml0KGRlZk9iai5lbXBsb3ltZW50cywgY29ubmVjdGlvblNlcnZpY2UuZ2V0Q29ubmVjdGlvbk1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMucmV2ZW51ZXMgPSBsb29wQW5kSW5pdChkZWZPYmoucmV2ZW51ZXMsIGZpbmFuY2VTZXJ2aWNlLmdldEZpbmFuY2VNb2RlbCk7XG4gICAgICAgICAgICB0aGlzLmV4cGVuc2VzID0gbG9vcEFuZEluaXQoZGVmT2JqLmV4cGVuc2VzLCBmaW5hbmNlU2VydmljZS5nZXRGaW5hbmNlTW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5jYXRlZ29yaWVzID0gbG9vcEFuZEluaXQoZGVmT2JqLmNhdGVnb3JpZXMsIGNhdGVnb3J5U2VydmljZS5nZXRDYXRlZ29yeU1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IChpc0RlZihkZWZPYmoudHlwZSkgPyBkZWZPYmoudHlwZSA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5uaWNrbmFtZSA9IChpc0RlZihkZWZPYmoubmlja25hbWUpID8gZGVmT2JqLm5pY2tuYW1lIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLnVybCA9IChpc0RlZihkZWZPYmoudXJsKSA/IGRlZk9iai51cmwgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMudHdpdHRlcl9oYW5kbGUgPSAoaXNEZWYoZGVmT2JqLnR3aXR0ZXJfaGFuZGxlKSA/IGRlZk9iai50d2l0dGVyX2hhbmRsZSA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5lbXBsb3llZXMgPSAoaXNEZWYoZGVmT2JqLmVtcGxveWVlcykgPyBkZWZPYmouZW1wbG95ZWVzIDogbnVsbCk7XG4gICAgICAgICAgICAvLyB0aGlzLnJlbGF0aW9ucyA9IGxvb3BBbmRJbml0KGRlZk9iai5yZWxhdGlvbnMsIGNvbm5lY3Rpb25TZXJ2aWNlLmdldENvbm5lY3Rpb25Nb2RlbCk7XG5cblxuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZURCTW9kZWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGJNb2RlbCA9IG5ldyBFbnRpdHkoc2VsZik7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5sb2NhdGlvbnMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5sb2NhdGlvbnMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5ncmFudHNfcmVjZWl2ZWQucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5ncmFudHNfcmVjZWl2ZWQucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5ncmFudHNfZ2l2ZW4ucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5ncmFudHNfZ2l2ZW4ucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5pbnZlc3RtZW50c19yZWNlaXZlZC5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmludmVzdG1lbnRzX3JlY2VpdmVkLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuaW52ZXN0bWVudHNfbWFkZS5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmludmVzdG1lbnRzX21hZGUucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5kYXRhX2dpdmVuLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZGF0YV9naXZlbi5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmRhdGFfcmVjZWl2ZWQucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5kYXRhX3JlY2VpdmVkLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuY29sbGFib3JhdGlvbnMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5jb2xsYWJvcmF0aW9ucy5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmtleV9wZW9wbGUucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5rZXlfcGVvcGxlLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZW1wbG95bWVudHMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5lbXBsb3ltZW50cy5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLnJldmVudWVzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwucmV2ZW51ZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5leHBlbnNlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmV4cGVuc2VzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuY2F0ZWdvcmllcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmNhdGVnb3JpZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5kZXNjcmlwdGlvbiA9ICcnO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRiTW9kZWwpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRiTW9kZWw7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdldEVudGl0eU1vZGVsID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFbnRpdHkob2JqKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmdldEVudGl0eVR5cGVzID0gZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICByZXR1cm4gZW50aXR5VHlwZXM7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5nZXRJbmZsdWVuY2VUeXBlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmZsdWVuY2VUeXBlcztcbiAgICAgICAgfTtcblxuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5zZXJ2aWNlKCdlbnRpdHlTZXJ2aWNlJywgZW50aXR5U2VydmljZURlcGVuZGVuY2llcyk7XG5cblxufSkoYW5ndWxhcik7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDYvMjcvMTYuXG4gKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgZmluYW5jZVNlcnZpY2UgPSBbRmluYW5jZVNlcnZpY2VdO1xuXG4gICAgZnVuY3Rpb24gaXNEZWYobykge1xuICAgICAgICByZXR1cm4gbyAhPT0gdW5kZWZpbmVkICYmIG8gIT09IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gRmluYW5jZVNlcnZpY2UoKSB7XG4gICAgICAgIGZ1bmN0aW9uIEZpbmFuY2Uob2JqKSB7XG4gICAgICAgICAgICB2YXIgZGVmT2JqID0gaXNEZWYob2JqKSA/IG9iaiA6IHt9O1xuICAgICAgICAgICAgdGhpcy5hbW91bnQgPSAoaXNEZWYoZGVmT2JqLmFtb3VudCkgJiYgZGVmT2JqLmFtb3VudCA+PSAwID8gZGVmT2JqLmFtb3VudCA6IDApO1xuICAgICAgICAgICAgdGhpcy55ZWFyID0gKGlzRGVmKGRlZk9iai55ZWFyKSAmJiBkZWZPYmoueWVhciA+PSAxNzUwID8gZGVmT2JqLnllYXIgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuaWQgPSAoaXNEZWYoZGVmT2JqLmlkKSA/IGRlZk9iai5pZCA6IG51bGwpO1xuXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdldEZpbmFuY2VNb2RlbCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmluYW5jZShvYmopO1xuICAgICAgICB9O1xuICAgIH1cblxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLnNlcnZpY2UoJ2ZpbmFuY2VTZXJ2aWNlJywgZmluYW5jZVNlcnZpY2UpO1xuXG59KShhbmd1bGFyKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDYvMjcvMTYuXG4gKi9cblxuKGZ1bmN0aW9uKGFuZ3VsYXIpe1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGZ1bmRpbmdDb25uZWN0aW9uU2VydmljZURlcGVuZGVuY2llcyA9IFtGdW5kaW5nQ29ubmVjdGlvbnNdO1xuXG4gICAgZnVuY3Rpb24gaXNEZWYobykgeyByZXR1cm4gbyAhPT0gdW5kZWZpbmVkICYmIG8gIT09IG51bGw7IH1cblxuICAgIGZ1bmN0aW9uIEZ1bmRpbmdDb25uZWN0aW9ucygpIHtcbiAgICAgICAgZnVuY3Rpb24gRnVuZGluZ0Nvbm5lY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICB2YXIgb2JqSXNEZWYgPSBpc0RlZihvYmopO1xuICAgICAgICAgICAgdGhpcy5lbnRpdHkgPSAob2JqSXNEZWYgJiYgaXNEZWYob2JqLmVudGl0eSkgPyBvYmouZW50aXR5IDogJycpO1xuICAgICAgICAgICAgdGhpcy5hbW91bnQgPSAob2JqSXNEZWYgJiYgaXNEZWYob2JqLmFtb3VudCkgPyBvYmouYW1vdW50OiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMueWVhciA9IChvYmpJc0RlZiAmJiBpc0RlZihvYmoueWVhcikgPyBvYmoueWVhciA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5pZCA9IChvYmpJc0RlZiAmJiBpc0RlZihvYmouaWQpID8gb2JqLmlkIDogbnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdldEZ1bmRpbmdDb25uZWN0aW9uTW9kZWwgPSBmdW5jdGlvbihvYmope1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBGdW5kaW5nQ29ubmVjdGlvbihvYmopO1xuICAgICAgICB9O1xuXG5cblxuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5zZXJ2aWNlKCdmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2UnLCBmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2VEZXBlbmRlbmNpZXMpO1xuXG5cblxufSkoYW5ndWxhcik7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDYvMjcvMTYuXG4gKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgbG9jYXRpb25TZXJ2aWNlRGVwZW5kZW5jaWVzID0gW0xvY2F0aW9uU2VydmljZV07XG5cblxuXG4gICAgZnVuY3Rpb24gTG9jYXRpb25TZXJ2aWNlKCl7XG5cbiAgICAgICAgZnVuY3Rpb24gaXNEZWYobykge1xuICAgICAgICAgICAgcmV0dXJuIG8gIT09IHVuZGVmaW5lZCAmJiBvICE9PSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gTG9jYXRpb24ob2JqKSB7XG4gICAgICAgICAgICB2YXIgZGVmT2JqID0gaXNEZWYob2JqKSA/IG9iaiA6IHt9O1xuICAgICAgICAgICAgdGhpcy5hZGRyZXNzX2xpbmUgPSAoaXNEZWYoZGVmT2JqLmFkZHJlc3NfbGluZSkgPyBkZWZPYmouYWRkcmVzc19saW5lIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmxvY2FsaXR5ID0gKGlzRGVmKGRlZk9iai5sb2NhbGl0eSkgPyBkZWZPYmoubG9jYWxpdHkgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuZGlzdHJpY3QgPSAoaXNEZWYoZGVmT2JqLmRpc3RyaWN0KSA/IGRlZk9iai5kaXN0cmljdCA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5wb3N0YWxfY29kZSA9IChpc0RlZihkZWZPYmoucG9zdGFsX2NvZGUpID8gZGVmT2JqLnBvc3RhbF9jb2RlIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmNvdW50cnkgPSAoaXNEZWYoZGVmT2JqLmNvdW50cnkpID8gZGVmT2JqLmNvdW50cnkgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuY291bnRyeV9jb2RlID0gKGlzRGVmKGRlZk9iai5jb3VudHJ5X2NvZGUpID8gZGVmT2JqLmNvdW50cnlfY29kZSA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlcyA9IChpc0RlZihkZWZPYmouY29vcmRpbmF0ZXMpID8gZGVmT2JqLmNvb3JkaW5hdGVzIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmlkID0gKGlzRGVmKGRlZk9iai5pZCkgPyBkZWZPYmouaWQgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0dGVkQWRkcmVzcyA9IChpc0RlZih0aGlzLmFkZHJlc3NfbGluZSkgPyB0aGlzLmFkZHJlc3NfbGluZSArICAnICcgOiAnJylcbiAgICAgICAgICAgICAgICArIChpc0RlZih0aGlzLmxvY2FsaXR5KSA/IHRoaXMubG9jYWxpdHkgKyAnLCAnIDogJycpXG4gICAgICAgICAgICAgICAgKyAoaXNEZWYodGhpcy5jb3VudHJ5X2NvZGUpID8gdGhpcy5jb3VudHJ5X2NvZGUgKyAnICcgOiAnJylcbiAgICAgICAgICAgICAgICArIChpc0RlZih0aGlzLnBvc3RhbF9jb2RlKSA/IHRoaXMucG9zdGFsX2NvZGUgOiAnJyk7XG4gICAgICAgICAgICB0aGlzLmZvcm1hdHRlZEFkZHJlc3MgPSB0aGlzLmZvcm1hdHRlZEFkZHJlc3MudHJpbSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nZXRMb2NhdGlvbk1vZGVsID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IExvY2F0aW9uKG9iaik7XG4gICAgICAgIH07XG5cbiAgICB9XG5cblxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLnNlcnZpY2UoJ2xvY2F0aW9uU2VydmljZScsIGxvY2F0aW9uU2VydmljZURlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIpOyIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZnVuY3Rpb24gZGV0YWlsc0N0cmwoJHNjb3BlLCBfKSB7XG4gICAgICAgICRzY29wZS5pdGVtc1Nob3duRGVmYXVsdCA9IHtcbiAgICAgICAgICAgICdrZXlfcGVvcGxlJzogMyxcbiAgICAgICAgICAgICdncmFudHNfZ2l2ZW4nOiAzLFxuICAgICAgICAgICAgJ2dyYW50c19yZWNlaXZlZCc6IDMsXG4gICAgICAgICAgICAnaW52ZXN0bWVudHNfbWFkZSc6IDMsXG4gICAgICAgICAgICAnaW52ZXN0bWVudHNfcmVjZWl2ZWQnOiAzLFxuICAgICAgICAgICAgJ2NvbGxhYm9yYXRpb25zJzogMyxcbiAgICAgICAgICAgICdlbXBsb3ltZW50cyc6IDMsXG4gICAgICAgICAgICAncmVsYXRpb25zJzogMyxcbiAgICAgICAgICAgICdkYXRhX2dpdmVuJzogMyxcbiAgICAgICAgICAgICdkYXRhX3JlY2VpdmVkJzogMyxcbiAgICAgICAgICAgICdyZXZlbnVlcyc6IDMsXG4gICAgICAgICAgICAnZXhwZW5zZXMnOiAzXG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLml0ZW1zU2hvd24gPSBfLmNsb25lKCRzY29wZS5pdGVtc1Nob3duRGVmYXVsdCk7XG5cbiAgICAgICAgJHNjb3BlLiRvbignZW50aXR5Q2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gUmVzZXQgaXRlbXMgc2hvd24gaW4gZGV0YWlscyBsaXN0LlxuICAgICAgICAgICAgJHNjb3BlLml0ZW1zU2hvd24gPSBfLmNsb25lKCRzY29wZS5pdGVtc1Nob3duRGVmYXVsdCk7XG4gICAgICAgIH0pO1xuICAgICAgICAkc2NvcGUuc2hvd01vcmUgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgJHNjb3BlLml0ZW1zU2hvd25bdHlwZV0gPSAkc2NvcGUuY3VycmVudEVudGl0eVt0eXBlXS5sZW5ndGg7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5zaG93TGVzcyA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAkc2NvcGUuaXRlbXNTaG93blt0eXBlXSA9ICRzY29wZS5pdGVtc1Nob3duRGVmYXVsdFt0eXBlXTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuY29udHJvbGxlcignZGV0YWlsc0N0cmwnLCBbJyRzY29wZScsIFwiX1wiLCBkZXRhaWxzQ3RybF0pO1xufSkoYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIsIGQzLCBMKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IFtcbiAgICAgICAgJyRzY29wZScsXG4gICAgICAgICckdGltZW91dCcsXG4gICAgICAgICdsZWFmbGV0RGF0YScsXG4gICAgICAgICdfJyxcbiAgICAgICAgJyRmaWx0ZXInLFxuICAgICAgICBtYXBDdHJsXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIG1hcEN0cmwoJHNjb3BlLCAkdGltZW91dCwgbGVhZmxldERhdGEsIF8sICRmaWx0ZXIpIHtcblxuICAgICAgICAkc2NvcGUub3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGNlbnRlciAgOiB7XG4gICAgICAgICAgICAgICAgbGF0IDogMjAuMDAsXG4gICAgICAgICAgICAgICAgbG5nIDogLTQwLjAwLFxuICAgICAgICAgICAgICAgIHpvb206IDNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgICAgIHRpbGVMYXllciAgICAgICAgIDogJ2h0dHBzOi8vYXBpLnRpbGVzLm1hcGJveC5jb20vdjQvbWFwYm94LmxpZ2h0L3t6fS97eH0ve3l9LnBuZz9hY2Nlc3NfdG9rZW49cGsuZXlKMUlqb2laR0YyYVdSc2NtNTBJaXdpWVNJNklqQTBNMlJrTnpNelpXSm1OekV6TkdZek1UZGhZVEV4WXpBeVptVTRaVEUxSW4wLlROWWxGdGEyVkl0cmtuNEwwWjlCSlEnLFxuICAgICAgICAgICAgICAgIHRpbGVMYXllck9wdGlvbnMgIDoge1xuICAgICAgICAgICAgICAgICAgICBkZXRlY3RSZXRpbmE6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHJldXNlVGlsZXMgIDogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHpvb21Db250cm9sICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRpb25Db250cm9sOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjcmVhdGVQaWVDaGFydCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgICA9IG9wdGlvbnMuZGF0YTtcbiAgICAgICAgICAgICAgICB2YXIgcGllICAgID0gZDMubGF5b3V0LnBpZSgpLnNvcnQobnVsbCkudmFsdWUoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQudmFsdWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGFyYyAgICA9IGQzLnN2Zy5hcmMoKS5vdXRlclJhZGl1cyhvcHRpb25zLnIpLmlubmVyUmFkaXVzKG9wdGlvbnMuciAtIDEwKTtcbiAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gb3B0aW9ucy5yICsgb3B0aW9ucy5zdHJva2VXaWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgdyAgICAgID0gY2VudGVyICogMjtcbiAgICAgICAgICAgICAgICB2YXIgaCAgICAgID0gdztcbiAgICAgICAgICAgICAgICB2YXIgc3ZnICAgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGQzLm5zLnByZWZpeC5zdmcsICdzdmcnKTtcbiAgICAgICAgICAgICAgICB2YXIgdmlzICAgID0gZDMuc2VsZWN0KHN2ZylcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEoZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3BpZWNoYXJ0JylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgdylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGFyY3MgPSB2aXMuc2VsZWN0QWxsKCcuYXJjJylcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEocGllKGRhdGEpKVxuICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnYXJjJylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIGNlbnRlciArICcsJyArIGNlbnRlciArICcpJyk7XG5cbiAgICAgICAgICAgICAgICAvLyB2YXIgbWFwID0gTC5tYXBib3gubWFwKCdtYXAnLCAnZXhhbXBsZXMubWFwLTlpanVrMjR5Jywge1xuICAgICAgICAgICAgICAgIC8vICAgICBtaW5ab29tOiAxLFxuICAgICAgICAgICAgICAgIC8vICAgICBtYXhab29tOiAyXG4gICAgICAgICAgICAgICAgLy8gfSkuc2V0VmlldyhbNDAsIC03NC41MF0sIDkpO1xuXG4gICAgICAgICAgICAgICAgYXJjcy5hcHBlbmQoJ3BhdGgnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZCcsIGFyYylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmRhdGEudHlwZSArICctYXJjJztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBhcmNzLmFwcGVuZChcInN2Zzp0ZXh0XCIpXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInhcIiwgLTQgKiBvcHRpb25zLmNvdW50LnRvU3RyaW5nKCkubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImR5XCIsIDUpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJhcmNUZXh0XCIpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5YTUxTZXJpYWxpemVyID8gKG5ldyB3aW5kb3cuWE1MU2VyaWFsaXplcigpKS5zZXJpYWxpemVUb1N0cmluZyhzdmcpXG4gICAgICAgICAgICAgICAgICAgIDogc3ZnLnhtbCA/IHN2Zy54bWwgOiAnJztcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJlZEVudGl0aWVzID0gJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmVudGl0aWVzLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRpdHkuY29sbGFib3JhdGlvbnMubGVuZ3RoID4gNDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBtYXAuaW52YWxpZGF0ZVNpemUoKTtcblxuICAgICAgICAgICAgICAgIG5ldyBMLkNvbnRyb2wuWm9vbSh7cG9zaXRpb246ICd0b3ByaWdodCd9KS5hZGRUbyhtYXApO1xuICAgICAgICAgICAgICAgIEwuY29udHJvbC5sb2NhdGUoXG4gICAgICAgICAgICAgICAgICAgIHtwb3NpdGlvbjogJ3RvcHJpZ2h0Jywgc2hvd1BvcHVwOiBmYWxzZSwgaWNvbjogJ2ZhIGZhLWxvY2F0aW9uLWFycm93J31cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC5hZGRUbyhtYXApO1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY2x1c3Rlckljb24oY2x1c3Rlcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gICAgICAgPSBjbHVzdGVyLmdldEFsbENoaWxkTWFya2VycygpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG90YWwgICAgICAgICAgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjbHVzdGVyTWFya2VycyA9IF8ucGx1Y2soY2hpbGRyZW4sICdvcHRpb25zJyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudHMgICAgICAgICA9IF8ubWFwKF8uY291bnRCeShjbHVzdGVyTWFya2VycywgJ3R5cGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGNvdW50LCB0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyd0eXBlJzogdHlwZSwgJ3ZhbHVlJzogY291bnR9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgICAgICAgICAgICAgID0gMjg7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHJva2VXaWR0aCAgICA9IDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpY29uRGltICAgICAgICA9IChyICsgc3Ryb2tlV2lkdGgpICogMjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGh0bWwgICAgICAgICAgID0gY3JlYXRlUGllQ2hhcnQoXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZGF0YTogY291bnRzLCByOiByLCBzdHJva2VXaWR0aDogc3Ryb2tlV2lkdGgsIGNvdW50OiB0b3RhbH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEwuRGl2SWNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sICAgICA6IGh0bWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdtYXJrZXItY2x1c3RlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZSA6IG5ldyBMLnBvaW50KGljb25EaW0sIGljb25EaW0pXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbWFya2VySWNvbiAgPSB7XG4gICAgICAgICAgICAgICAgICAgICdOb24tUHJvZml0JzogTC5pY29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25VcmwgOiAnaW1nL21hcmtlci1ub25wcm9mLnN2ZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzYwLCA2MF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICdGb3ItUHJvZml0JzogTC5pY29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25VcmwgOiAnaW1nL21hcmtlci1wcm9mLnN2ZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzYwLCA2MF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICdJbmRpdmlkdWFsJzogTC5pY29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25VcmwgOiAnaW1nL21hcmtlci1pbmQuc3ZnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbNjAsIDYwXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgJ0dvdmVybm1lbnQnOiBMLmljb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVybCA6ICdpbWcvbWFya2VyLWdvdi5zdmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFs2MCwgNjBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBtYXJrZXJzID0gTC5tYXJrZXJDbHVzdGVyR3JvdXAoe1xuXG4gICAgICAgICAgICAgICAgICAgIHNwaWRlcmZ5T25NYXhab29tOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzaG93Q292ZXJhZ2VPbkhvdmVyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaWNvbkNyZWF0ZUZ1bmN0aW9uOiBjbHVzdGVySWNvbixcbiAgICAgICAgICAgICAgICAgICAgbWF4Q2x1c3RlclJhZGl1czogMzAsXG4gICAgICAgICAgICAgICAgICAgIHNwaWRlcmZ5RGlzdGFuY2VNdWx0aXBsaWVyOiAxLjNcbiAgICAgICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gb3V0ZXJMb29wKGVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBpbm5lckxvb3AobG9jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV8uZXZlcnkobG9jLmNvb3JkaW5hdGVzKSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvYy5jb29yZGluYXRlc1swXS50b0ZpeGVkKDUpID09PSAnNDAuNzgyMDAnICYmIGxvYy5jb29yZGluYXRlc1sxXS50b0ZpeGVkKDUpID09PSAnLTczLjgzMTcwJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYy5jb29yZGluYXRlc1swXSA9IDQwLjc3MDY1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYy5jb29yZGluYXRlc1sxXSA9IC03My45NzQwNjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtID0gTC5tYXJrZXIobG9jLmNvb3JkaW5hdGVzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogbWFya2VySWNvbltlbnRpdHkudHlwZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RpdGxlJzogZW50aXR5Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VudGl0eV9pZCc6IGVudGl0eS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWVzc2FnZSc6IGVudGl0eS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0eXBlJzogZW50aXR5LnR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2Vycy5hZGRMYXllcihtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaChlbnRpdHkubG9jYXRpb25zLCBpbm5lckxvb3ApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiT3JpZ2luYWw6ICVPXCIsICRzY29wZS5lbnRpdGllcyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGaWx0ZXJlZDogJU9cIiwgZmlsdGVyZWRFbnRpdGllcyk7XG5cbiAgICAgICAgICAgICAgICBfLmZvckVhY2goZmlsdGVyZWRFbnRpdGllcywgb3V0ZXJMb29wKTtcbiAgICAgICAgICAgICAgICBtYXAuYWRkTGF5ZXIobWFya2Vycyk7XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBvbkxvY2F0aW9uRXJyb3IobGVhZmxldEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobGVhZmxldEVycm9yLm1lc3NhZ2UgKyBcIiAgJU9cIiwgbGVhZmxldEVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBtYXAub24oJ2xvY2F0aW9uZXJyb3InLCBvbkxvY2F0aW9uRXJyb3IpO1xuICAgICAgICAgICAgICAgIC8vIG1hcC5sb2NhdGUoe3NldFZpZXc6IHRydWUsIG1heFpvb206IDExfSk7XG4gICAgICAgICAgICAgICAgbWFya2Vycy5vbignY2xpY2snLCBmdW5jdGlvbiAobWFya2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXRFbnRpdHlJRChtYXJrZXIubGF5ZXIub3B0aW9ucy5lbnRpdHlfaWQpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPSAkc2NvcGUuY3VycmVudEVudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCAgID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zZXR0aW5nc0VuYWJsZWQgJiYgJHNjb3BlLm1vYmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvZ2dsZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbWFwLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCAgID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICRzY29wZS4kb24oJ3NlbGVjdEl0ZW0nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb29yZGluYXRlcyA9ICRzY29wZS5jdXJyZW50RW50aXR5LmxvY2F0aW9ucy5sZW5ndGggPiAwID8gXy5wbHVjayhcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jdXJyZW50RW50aXR5LmxvY2F0aW9ucywgJ2Nvb3JkaW5hdGVzJykgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29vcmRpbmF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnNldFZpZXcoY29vcmRpbmF0ZXNbMF0sIDExKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG5cbiAgICAgICAgLmNvbnRyb2xsZXIoJ21hcEN0cmwnLCBkZXBlbmRlbmNpZXMpO1xufSkoYW5ndWxhciwgZDMsIEwpO1xuIiwiKGZ1bmN0aW9uIChhbmd1bGFyLCBSVFApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBkZXBlbmRlbmNpZXMgPSBbXG4gICAgICAgICckc2NvcGUnLFxuICAgICAgICAnJGh0dHAnLFxuICAgICAgICAnXycsXG4gICAgICAgICckZmlsdGVyJyxcbiAgICAgICAgJ2NvbmZpZycsXG4gICAgICAgIG5ldHdvcmtDdHJsXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIGlzRGVmKG8pIHtcbiAgICAgICAgcmV0dXJuIG8gIT09IHVuZGVmaW5lZCAmJiBvICE9PSBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5ldHdvcmtDdHJsKCRzY29wZSwgJGh0dHAsIF8sICRmaWx0ZXIsIGNvbmZpZykge1xuICAgICAgICAvLyBUT0RPOiBNYWtlIGEgaGFzaG1hcCBvbiB0aGUgYmFja2VuZCBvZiBpZCAtPiBwb3NpdGlvbiwgdGhlbiB1c2Ugc291cmNlOlxuICAgICAgICAvLyBlbnRpdGllc1ttYXBbc291cmNlaWRdXSB0byBnZXQgbm9kZXMuIFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8xNjgyNDMwOFxuICAgICAgICAkc2NvcGUuaXNMb2FkaW5nICAgPSB0cnVlO1xuICAgICAgICAkc2NvcGUuY29ubmVjdGlvbnMgPSB7fTtcblxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9jb2RlcndhbGwuY29tL3Avbmdpc21hL3NhZmUtYXBwbHktaW4tYW5ndWxhci1qc1xuICAgICAgICAkc2NvcGUuc2FmZUFwcGx5ID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICB2YXIgcGhhc2UgPSB0aGlzLiRyb290LiQkcGhhc2U7XG4gICAgICAgICAgICBpZiAocGhhc2UgPT09ICckYXBwbHknIHx8IHBoYXNlID09PSAnJGRpZ2VzdCcpIHtcbiAgICAgICAgICAgICAgICBpZiAoZm4gJiYgKHR5cGVvZihmbikgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRhcHBseShmbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLiRvbignZW50aXRpZXNMb2FkZWQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRTY29wZSA9IGV2ZW50LnRhcmdldFNjb3BlO1xuICAgICAgICAgICAgJGh0dHAuZ2V0KGNvbmZpZy5hcGlIb3N0ICsgJ2FwaS9jb25uZWN0aW9ucycpLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyZWRFbnRpdGllcyAgICA9ICRmaWx0ZXIoJ2ZpbHRlcicpKCRzY29wZS5lbnRpdGllcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW50aXR5LmNvbGxhYm9yYXRpb25zLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PSAkc2NvcGUubWluQ29ubmVjdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyZWRDb25uZWN0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChfLmtleXMoZGF0YS5jb25uZWN0aW9ucyksIGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICRzY29wZS5jb25uZWN0aW9uc1t0eXBlXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZENvbm5lY3Rpb25zW3R5cGVdID0gW107XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGRhdGEuY29ubmVjdGlvbnMsIGZ1bmN0aW9uIChjb25uZWN0aW9ucywgdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBfLmZvckVhY2goY29ubmVjdGlvbnMsIGZ1bmN0aW9uIChjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlTm9kZSA9IF8uZmluZChmaWx0ZXJlZEVudGl0aWVzLCB7J2lkJzogY29ubmVjdGlvbi5zb3VyY2V9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXROb2RlID0gXy5maW5kKGZpbHRlcmVkRW50aXRpZXMsIHsnaWQnOiBjb25uZWN0aW9uLnRhcmdldH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoIGlzRGVmKHNvdXJjZU5vZGUpICYmIGlzRGVmKHRhcmdldE5vZGUpICkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkQ29ubmVjdGlvbnNbdHlwZV0ucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7J3NvdXJjZSc6IHNvdXJjZU5vZGUsICd0YXJnZXQnOiB0YXJnZXROb2RlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAkc2NvcGUuY29ubmVjdGlvbnNbdHlwZV0ucHVzaCh7J3NvdXJjZSc6IHNvdXJjZU5vZGUsICd0YXJnZXQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGFyZ2V0Tm9kZX0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHNob3cgbGFiZWxzIG9uIHRvcCA1IG1vc3QgY29ubmVjdGVkIGVudGl0aWVzIGluaXRpYWxseS5cbiAgICAgICAgICAgICAgICBfLmZvckVhY2goXy5rZXlzKCRzY29wZS5lbnRpdHlUeXBlcyksIGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIHRvcCA1IG1vc3QtY29ubmVjdGVkIGVudGl0aWVzLlxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9wNSA9IF8udGFrZVJpZ2h0KF8uc29ydEJ5KF8uZmlsdGVyKCRzY29wZS5lbnRpdGllcywgeyd0eXBlJzogdHlwZX0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjb2xsYWJvcmF0aW9ucy5sZW5ndGgnKSwgNSk7XG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaCh0b3A1LCBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkud2VsbGNvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRFbnRpdGllcyA9IF8uc29ydEJ5KGZpbHRlcmVkRW50aXRpZXMsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoZS53ZWxsY29ubmVjdGVkKSA/IDEgOiAwO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5tb2JpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhd05ldHdvcmtNb2JpbGUoZmlsdGVyZWRFbnRpdGllcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhd05ldHdvcmsoZmlsdGVyZWRFbnRpdGllcywgZmlsdGVyZWRDb25uZWN0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBkcmF3TmV0d29ya01vYmlsZSA9IGZ1bmN0aW9uIChlbnRpdHlBcnJheSkge1xuICAgICAgICAgICAgdmFyIGRhdGEgICAgICAgID0ge1xuICAgICAgICAgICAgICAgIG5vZGVzOiAkc2NvcGUuZW50aXRpZXMsXG4gICAgICAgICAgICAgICAgbGlua3M6IF8uZmxhdHRlbihfLnZhbHVlcygkc2NvcGUuY29ubmVjdGlvbnMpKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBjb2xvcnMgICAgICA9IHtcbiAgICAgICAgICAgICAgICAnR292ZXJubWVudCcgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2ZvY3VzZWQnICA6ICdyZ2JhKDI0MiwgODAsIDM0LCAxKScsXG4gICAgICAgICAgICAgICAgICAgICd1bmZvY3VzZWQnOiAncmdiYSgyNDIsIDgwLCAzNCwgMC4xKSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdOb24tUHJvZml0JyAgIDoge1xuICAgICAgICAgICAgICAgICAgICAnZm9jdXNlZCcgIDogJ3JnYmEoMzAsIDE0NCwgMjU1LCAxKScsXG4gICAgICAgICAgICAgICAgICAgICd1bmZvY3VzZWQnOiAncmdiYSgzMCwgMTQ0LCAyNTUsIDAuMSknXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnRm9yLVByb2ZpdCcgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2ZvY3VzZWQnICA6ICdyZ2JhKDEyNywgMTg2LCAwLCAxKScsXG4gICAgICAgICAgICAgICAgICAgICd1bmZvY3VzZWQnOiAncmdiYSgxMjcsIDE4NiwgMCwgMC4xKSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdJbmRpdmlkdWFsJyAgIDoge1xuICAgICAgICAgICAgICAgICAgICAnZm9jdXNlZCcgIDogJ3JnYmEoMjU1LCAxNzUsIDQ0LCAxKScsXG4gICAgICAgICAgICAgICAgICAgICd1bmZvY3VzZWQnOiAncmdiYSgyNTUsIDE3NSwgNDQsIDAuMSknXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnRnVuZGluZycgICAgICA6IHsnZm9jdXNlZCc6ICcjRkY3NDYwJywgJ3VuZm9jdXNlZCc6ICcjRTNERkU0J30sXG4gICAgICAgICAgICAgICAgJ0RhdGEnICAgICAgICAgOiB7J2ZvY3VzZWQnOiAnIzg0QzJGRicsICd1bmZvY3VzZWQnOiAnI0UzREZFNCd9LFxuICAgICAgICAgICAgICAgICdFbXBsb3ltZW50JyAgIDogeydmb2N1c2VkJzogJyNFRTczRkYnLCAndW5mb2N1c2VkJzogJyNFM0RGRTQnfSxcbiAgICAgICAgICAgICAgICAnQ29sbGFib3JhdGlvbic6IHsnZm9jdXNlZCc6ICcjRkZEOTU1JywgJ3VuZm9jdXNlZCc6ICcjRTNERkU0J31cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgY2FudmFzRm9yY2UgPSAkKCcjY2FudmFzLWZvcmNlJyksXG4gICAgICAgICAgICAgICAgd2lkdGggICAgICAgPSBjYW52YXNGb3JjZS53aWR0aCgpLFxuICAgICAgICAgICAgICAgIGhlaWdodCAgICAgID0gY2FudmFzRm9yY2UuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgIHZhciBvZmZzZXRzICAgICAgICA9IHtcbiAgICAgICAgICAgICAgICAnR292ZXJubWVudCc6IFstOTAsIC05MCAtIChoZWlnaHQgLyA3KV0sXG4gICAgICAgICAgICAgICAgJ05vbi1Qcm9maXQnOiBbLTkwLCA5MCAtIChoZWlnaHQgLyA3KV0sXG4gICAgICAgICAgICAgICAgJ0Zvci1Qcm9maXQnOiBbOTAsIC05MCAtIChoZWlnaHQgLyA3KV0sXG4gICAgICAgICAgICAgICAgJ0luZGl2aWR1YWwnOiBbOTAsIDkwIC0gKGhlaWdodCAvIDcpXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBpc0luc2lkZUNpcmNsZSA9IGZ1bmN0aW9uICh4LCB5LCBjeCwgY3ksIHJhZGl1cykge1xuICAgICAgICAgICAgICAgIHZhciBkeCA9IHggLSBjeCxcbiAgICAgICAgICAgICAgICAgICAgZHkgPSB5IC0gY3k7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5IDw9IHJhZGl1cyAqIHJhZGl1cztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgc2NhbGUgICAgICAgICAgPSB7XG4gICAgICAgICAgICAgICAgJ2VtcGxveWVlcyc6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlID4gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmxvZyhlKSAvIDM7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMS41O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnZm9sbG93ZXJzJzogZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGYgPiAwICYmIGYgPD0gNTAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMS41O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGYgPiA1MDAgJiYgZiA8PSA1MDAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMS44O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGYgPiA1MDAwICYmIGYgPD0gMTAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGYgPiAxMDAwMCAmJiBmIDw9IDI1MDAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMi41O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGYgPiAyNTAwMCAmJiBmIDw9IDkwMDAwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZiA+IDkwMDAwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBjYW52YXMgICAgICAgICAgICA9IGQzLnNlbGVjdCgnZGl2I2NhbnZhcy1mb3JjZScpLmFwcGVuZCgnY2FudmFzJyk7XG4gICAgICAgICAgICB2YXIgY29udGV4dCAgICAgICAgICAgPSBjYW52YXMubm9kZSgpLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICB2YXIgZGV2aWNlUGl4ZWxSYXRpbyAgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxLFxuICAgICAgICAgICAgICAgIGJhY2tpbmdTdG9yZVJhdGlvID0gY29udGV4dC53ZWJraXRCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm9CYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgMSxcbiAgICAgICAgICAgICAgICByYXRpbyAgICAgICAgICAgICA9IGRldmljZVBpeGVsUmF0aW8gLyBiYWNraW5nU3RvcmVSYXRpbztcblxuICAgICAgICAgICAgY2FudmFzXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgd2lkdGggKiByYXRpbylcbiAgICAgICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgaGVpZ2h0ICogcmF0aW8pXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ25ldHdvcmtDYW52YXMnKTtcblxuICAgICAgICAgICAgdmFyIGNhbnZhc0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ldHdvcmtDYW52YXMnKTtcblxuICAgICAgICAgICAgY2FudmFzRWwuc3R5bGUud2lkdGggID0gd2lkdGggKyAncHgnO1xuICAgICAgICAgICAgY2FudmFzRWwuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgICAgIGNvbnRleHQuc2NhbGUocmF0aW8sIHJhdGlvKTtcbiAgICAgICAgICAgICRzY29wZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgc2NhbGV6b29tICA9IDE7XG4gICAgICAgICAgICAkKCcjbmV0d29ya0NhbnZhcycpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9YICAgICAgICAgICAgICAgICAgICAgID0gZS5vZmZzZXRYIC8gc2NhbGV6b29tLFxuICAgICAgICAgICAgICAgICAgICBvWSAgICAgICAgICAgICAgICAgICAgICA9IGUub2Zmc2V0WSAvIHNjYWxlem9vbTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xpY2Vuc2UgICAgICAgICAgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciBlbnRpdHlGb3VuZCAgICAgICAgICAgICA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGRhdGEubm9kZXMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgayA9IHNjYWxlWyRzY29wZS5zaXplQnldKGRbJHNjb3BlLnNpemVCeV0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJbnNpZGVDaXJjbGUob1gsIG9ZLCBkLnggKyBvZmZzZXRzW2QudHlwZV1bMF0sIGQueSArIG9mZnNldHNbZC50eXBlXVsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQuNSAqIGspKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHlkZVBhcnRpYWxzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ3NldEN1cnJlbnRFbnRpdHknLCB7dmFsdWU6IGR9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eUZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXRFbnRpdHkoZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPSBkO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXMoZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIWVudGl0eUZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnc2V0Q3VycmVudExvY2F0aW9uJywge3ZhbHVlOiBudWxsfSk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnc2V0Q3VycmVudEVudGl0eScsIHt2YWx1ZTogbnVsbH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aWNrKCk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgICQoXCIjZGV0YWlscy1wYW5lbFwiKS5zY3JvbGxUb3AoMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBjb3VudCAgICAgICA9IDA7XG4gICAgICAgICAgICB2YXIgaW5pdGlhbExvYWQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIGRyYXdPblRvcCAgID0gW107XG4gICAgICAgICAgICB2YXIgYWxsTm9kZXMgICAgPSBbXTtcbiAgICAgICAgICAgIHZhciBzaG93RW50aXRpZXM7XG4gICAgICAgICAgICBkYXRhLm5vZGVzLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNEZWYoZW50aXR5QXJyYXlbZC50eXBlXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jdXJyZW50TG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkLm5hbWUgaW4gJHNjb3BlLmN1cnJlbnRMb2NhdGlvbi5kaWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd09uVG9wLnB1c2goZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoISRzY29wZS5jdXJyZW50RW50aXR5IHx8IHNob3dFbnRpdGllc1tkLmlkXSB8fCBkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9PT0gJHNjb3BlLmN1cnJlbnRFbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY3VycmVudEVudGl0eSB8fCBkLndlbGxjb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3T25Ub3AucHVzaChkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsTm9kZXMucHVzaChkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhbGxOb2RlcyAgPSBhbGxOb2Rlcy5jb25jYXQoZHJhd09uVG9wKTtcbiAgICAgICAgICAgIHZhciB0aWNrICA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHZhciBwaW5jaFpvb207XG5cbiAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgICAgIGlmIChjb3VudCA+IDcwICYmIGluaXRpYWxMb2FkKSB7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxMb2FkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGZvcmNlLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgcGluY2hab29tID0gbmV3IFJUUC5QaW5jaFpvb20oJCgnI25ldHdvcmtDYW52YXMnKSwge30pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBzaG93RW50aXRpZXMgICAgICAgID0ge307XG4gICAgICAgICAgICAgICAgLy8gRHJhdyBsaW5rcy5cbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJyNjY2MnO1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaCgkc2NvcGUuY29ubmVjdGlvbnMsIGZ1bmN0aW9uIChjb25uZWN0aW9ucywgdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNDb25UeXBlRGVmaW5lZCAgICAgICAgICA9IGlzRGVmKCRzY29wZS5jb25uZWN0aW9uVHlwZXNbdHlwZV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRW50aXR5VGFyZ2V0VHlwZURlZmluZWQgPSBpc0RlZigkc2NvcGUuZW50aXR5VHlwZXNbZC50YXJnZXQudHlwZV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRW50aXR5U291cmNlVHlwZURlZmluZWQgPSBpc0RlZigkc2NvcGUuZW50aXR5VHlwZXNbZC5zb3VyY2UudHlwZV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGlzQ29uVHlwZURlZmluZWQgJiYgaXNFbnRpdHlUYXJnZXRUeXBlRGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgaXNFbnRpdHlTb3VyY2VUeXBlRGVmaW5lZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0RlZigkc2NvcGUuY3VycmVudExvY2F0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkLnNvdXJjZS5uYW1lIGluICRzY29wZS5jdXJyZW50TG9jYXRpb24uZGljdCAmJiBkLnRhcmdldC5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluICRzY29wZS5jdXJyZW50TG9jYXRpb24uZGljdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBNb2RpZmljYXRpb24gLSBCb3VuZGFyaWVzICAgICAgdmFyIGsgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzY2FsZVskc2NvcGUuc2l6ZUJ5XShkWyRzY29wZS5zaXplQnldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgayA9IHNjYWxlWyRzY29wZS5zaXplQnldKChkLnNvdXJjZSlbJHNjb3BlLnNpemVCeV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhNYXRoLm1heCg0LjUgKiBrLCBNYXRoLm1pbih3aWR0aCAtIDQuNSAqIGssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQuc291cmNlLnhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBvZmZzZXRzW2Quc291cmNlLnR5cGVdWzBdKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KDQuNSAqIGssIE1hdGgubWluKGhlaWdodCAtIDQuNSAqIGssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQuc291cmNlLnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBvZmZzZXRzW2Quc291cmNlLnR5cGVdWzFdKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhNYXRoLm1heCg0LjUgKiBrLCBNYXRoLm1pbih3aWR0aCAtIDQuNSAqIGssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQudGFyZ2V0LnhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBvZmZzZXRzW2QudGFyZ2V0LnR5cGVdWzBdKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KDQuNSAqIGssIE1hdGgubWluKGhlaWdodCAtIDQuNSAqIGssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQudGFyZ2V0LnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBvZmZzZXRzW2QudGFyZ2V0LnR5cGVdWzFdKSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBjb2xvcnNbdHlwZV1bJ2ZvY3VzZWQnXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRGVmKCRzY29wZS5jdXJyZW50RW50aXR5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBkLnNvdXJjZSA9PT0gJHNjb3BlLmN1cnJlbnRFbnRpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgZC50YXJnZXQgPT09ICRzY29wZS5jdXJyZW50RW50aXR5KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgTW9kaWZpY2F0aW9uIC0gQm91bmRhcmllc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrID0gc2NhbGVbJHNjb3BlLnNpemVCeV0oKGQuc291cmNlKVskc2NvcGUuc2l6ZUJ5XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKE1hdGgubWF4KDQuNSAqIGssIE1hdGgubWluKHdpZHRoIC0gNC41ICogayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5zb3VyY2UueFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIG9mZnNldHNbZC5zb3VyY2UudHlwZV1bMF0pKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoNC41ICogaywgTWF0aC5taW4oaGVpZ2h0IC0gNC41ICogayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5zb3VyY2UueVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIG9mZnNldHNbZC5zb3VyY2UudHlwZV1bMV0pKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKE1hdGgubWF4KDQuNSAqIGssIE1hdGgubWluKHdpZHRoIC0gNC41ICogayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC50YXJnZXQueFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIG9mZnNldHNbZC50YXJnZXQudHlwZV1bMF0pKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoNC41ICogaywgTWF0aC5taW4oaGVpZ2h0IC0gNC41ICogayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC50YXJnZXQueVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIG9mZnNldHNbZC50YXJnZXQudHlwZV1bMV0pKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGNvbG9yc1t0eXBlXVsnZm9jdXNlZCddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93RW50aXRpZXNbZC5zb3VyY2UuaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0VudGl0aWVzW2QudGFyZ2V0LmlkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgZW50aXR5TmFtZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBhbGxOb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZW50aXR5VHlwZXNbZC50eXBlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZvY3VzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmN1cnJlbnRMb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkLm5hbWUgaW4gJHNjb3BlLmN1cnJlbnRMb2NhdGlvbi5kaWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzICAgICAgICAgICAgICAgPSAnZm9jdXNlZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHlOYW1lcy5wdXNoKGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1cyAgICAgICAgICAgICAgID0gJ3VuZm9jdXNlZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuY3VycmVudEVudGl0eSB8fCBzaG93RW50aXRpZXNbZC5pZF0gfHwgZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID09PSAkc2NvcGUuY3VycmVudEVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1cyAgICAgICAgICAgICAgID0gJ2ZvY3VzZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jdXJyZW50RW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHlOYW1lcy5wdXNoKGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQud2VsbGNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eU5hbWVzLnB1c2goZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzICAgICAgICAgICAgICAgPSAndW5mb2N1c2VkJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgayA9IHNjYWxlWyRzY29wZS5zaXplQnldKGRbJHNjb3BlLnNpemVCeV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gY29sb3JzW2QudHlwZV1bZm9jdXNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5hcmMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoNC41ICogaywgTWF0aC5taW4od2lkdGggLSA0LjUgKiBrLCBkLnggKyBvZmZzZXRzW2QudHlwZV1bMF0pKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCg0LjUgKiBrLCBNYXRoLm1pbihoZWlnaHQgLSA0LjUgKiBrLCBkLnkgKyBvZmZzZXRzW2QudHlwZV1bMV0pKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0LjUgKiBrLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGVudGl0eU5hbWVzLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgayAgICAgICAgICAgICAgID0gc2NhbGVbJHNjb3BlLnNpemVCeV0oZFskc2NvcGUuc2l6ZUJ5XSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIzMzMzMzMyc7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuYW1lICAgICAgICAgICAgPSBkLm5pY2tuYW1lID8gZC5uaWNrbmFtZSA6IGQubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5mb250ICAgICAgICA9XG4gICAgICAgICAgICAgICAgICAgICAgICAnbGlnaHRlciAxMXB4IFNlZ29lIFVJLCBIZWx2ZXRpY2FOZXVlLUxpZ2h0LCBzYW5zLXNlcmlmLWxpZ2h0LCBzYW5zLXNlcmlmJztcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KG5hbWUsIE1hdGgubWF4KDQuNSAqIGssIE1hdGgubWluKHdpZHRoIC0gNC41ICogayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQueCArIG9mZnNldHNbZC50eXBlXVswXSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIG5hbWUubGVuZ3RoICogMiwgTWF0aC5tYXgoNC41ICogayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihoZWlnaHQgLSA0LjUgKiBrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQueSArIG9mZnNldHNbZC50eXBlXVsxXSkpICsgMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMDApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBmb3JjZSA9IGQzLmxheW91dC5mb3JjZSgpXG4gICAgICAgICAgICAgICAgLnNpemUoW3dpZHRoLCBoZWlnaHRdKVxuICAgICAgICAgICAgICAgIC5ub2RlcyhkYXRhLm5vZGVzKVxuICAgICAgICAgICAgICAgIC5saW5rcyhkYXRhLmxpbmtzKVxuICAgICAgICAgICAgICAgIC5vbihcInRpY2tcIiwgdGljaylcbiAgICAgICAgICAgICAgICAuY2hhcmdlKC0yKVxuICAgICAgICAgICAgICAgIC5saW5rU3RyZW5ndGgoMC4xKVxuICAgICAgICAgICAgICAgIC5saW5rRGlzdGFuY2UoNTApXG4gICAgICAgICAgICAgICAgLnN0YXJ0KCk7XG5cbiAgICAgICAgICAgICRzY29wZS4kb24oJ3RvZ2dsZU5vZGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGljaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkc2NvcGUuJG9uKCd0b2dnbGVMaW5rJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRpY2soKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbmV0d29yayBmb3VuZCcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkc2NvcGUuJG9uKCdjaGFuZ2VTaXplQnknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGljaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkc2NvcGUuJG9uKCdzZWxlY3RJdGVtJywgZnVuY3Rpb24gKGV2ZW50LCBpdGVtKSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2xvY2F0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uID0gJHNjb3BlLmN1cnJlbnRMb2NhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdzZXRDdXJyZW50RW50aXR5Jywge3ZhbHVlOiBudWxsfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPSAkc2NvcGUuY3VycmVudEVudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdzZXRDdXJyZW50TG9jYXRpb24nLCB7dmFsdWU6IG51bGx9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgIHRpY2soKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBkcmF3TmV0d29yayA9IGZ1bmN0aW9uIChlbnRpdHlBcnJheSwgY29ubmVjdGlvbkFycmF5KSB7XG4gICAgICAgICAgICAkc2NvcGUuaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoJyNuZXR3b3JrJyk7XG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIHZhciBib3VuZHMgICAgICAgICAgID0gc3ZnLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgICAgICAgICAgID0gYm91bmRzLmhlaWdodDtcbiAgICAgICAgICAgIHZhciB3aWR0aCAgICAgICAgICAgID0gYm91bmRzLndpZHRoO1xuICAgICAgICAgICAgdmFyIG9mZnNldFNjYWxlICAgICAgPSA2O1xuICAgICAgICAgICAgdmFyIGRlZmF1bHROb2RlU2l6ZSAgPSA3O1xuICAgICAgICAgICAgdmFyIG9mZnNldHMgICAgICAgICAgPSB7XG4gICAgICAgICAgICAgICAgJ0luZGl2aWR1YWwnOiB7J3gnOiAxLCAneSc6IDF9LFxuICAgICAgICAgICAgICAgICdGb3ItUHJvZml0Jzogeyd4JzogMSwgJ3knOiAtMX0sXG4gICAgICAgICAgICAgICAgJ05vbi1Qcm9maXQnOiB7J3gnOiAtMSwgJ3knOiAxfSxcbiAgICAgICAgICAgICAgICAnR292ZXJubWVudCc6IHsneCc6IC0xLCAneSc6IC0xfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBsb3dlckJvdW5kUmFkaXVzID0gMTA7XG4gICAgICAgICAgICB2YXIgdXBwZXJCb3VuZFJhZGl1cyA9IDUwO1xuICAgICAgICAgICAgdmFyIG1heEVtcGxveWVlcyAgICAgPSBkMy5tYXgoZW50aXR5QXJyYXksIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChlbC5lbXBsb3llZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgbWF4Rm9sbG93ZXJzICAgICA9IGQzLm1heChlbnRpdHlBcnJheSwgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGVsLmZvbGxvd2Vycyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBzY2FsZSAgICAgICAgICAgID0ge1xuICAgICAgICAgICAgICAgICdlbXBsb3llZXMnOiBkMy5zY2FsZS5zcXJ0KCkuZG9tYWluKFsxMCwgbWF4RW1wbG95ZWVzXSlcbiAgICAgICAgICAgICAgICAgICAgLnJhbmdlKFtsb3dlckJvdW5kUmFkaXVzLCB1cHBlckJvdW5kUmFkaXVzXSksXG4gICAgICAgICAgICAgICAgJ2ZvbGxvd2Vycyc6IGQzLnNjYWxlLnNxcnQoKS5kb21haW4oWzEwLCBtYXhGb2xsb3dlcnNdKVxuICAgICAgICAgICAgICAgICAgICAucmFuZ2UoW2xvd2VyQm91bmRSYWRpdXMsIHVwcGVyQm91bmRSYWRpdXNdKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBsaW5rcyAgICAgICAgICAgID0ge307XG4gICAgICAgICAgICB2YXIgZm9yY2UgICAgICAgICAgICA9IGQzLmxheW91dC5mb3JjZSgpXG4gICAgICAgICAgICAgICAgLnNpemUoW3dpZHRoLCBoZWlnaHRdKVxuICAgICAgICAgICAgICAgIC5ub2RlcyhlbnRpdHlBcnJheSlcbiAgICAgICAgICAgICAgICAubGlua3MoXy5mbGF0dGVuKF8udmFsdWVzKGNvbm5lY3Rpb25BcnJheSkpKVxuICAgICAgICAgICAgICAgIC5jaGFyZ2UoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuZW1wbG95ZWVzID8gLTIgKiBzY2FsZS5lbXBsb3llZXMoZC5lbXBsb3llZXMpIDogLTIwO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmxpbmtTdHJlbmd0aCgwKVxuICAgICAgICAgICAgICAgIC5saW5rRGlzdGFuY2UoNTApO1xuXG4gICAgICAgICAgICBfLmZvckVhY2goY29ubmVjdGlvbkFycmF5LCBmdW5jdGlvbiAoY29ubmVjdGlvbnMsIHR5cGUpIHtcbiAgICAgICAgICAgICAgICBsaW5rc1t0eXBlXSA9IHN2Zy5zZWxlY3RBbGwoJy5saW5rIC4nICsgdHlwZSArICctbGluaycpXG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKGNvbm5lY3Rpb25zKVxuICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2xpbmUnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0RlZihkLnNvdXJjZSkgfHwgIWlzRGVmKGQudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZC50eXBlID0gdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnbGluayAnICsgdHlwZSArICctbGluayAnICsgZC5zb3VyY2UudHlwZSArICctbGluayAnICsgZC50YXJnZXQudHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgJy1saW5rJztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIG5vZGUgPSBzdmcuc2VsZWN0QWxsKCcubm9kZScpXG4gICAgICAgICAgICAgICAgLmRhdGEoZW50aXR5QXJyYXkpXG4gICAgICAgICAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdnJylcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ25vZGUgJyArIGQudHlwZSArICctbm9kZSc7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2FsbChmb3JjZS5kcmFnKTtcblxuICAgICAgICAgICAgbm9kZS5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3InLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5lbXBsb3llZXMgPyBzY2FsZVsnZW1wbG95ZWVzJ10oZC5lbXBsb3llZXMpIDogZGVmYXVsdE5vZGVTaXplO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBub2RlLmFwcGVuZCgndGV4dCcpXG4gICAgICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQubmlja25hbWUgPyBkLm5pY2tuYW1lIDogZC5uYW1lO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2R4JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKC0wLjA2NSAqIHRoaXMuZ2V0Q29tcHV0ZWRUZXh0TGVuZ3RoKCkgLyAyKSArICdlbSc7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYXR0cignZHknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoMC4wOCAqIHRoaXMucGFyZW50Tm9kZS5nZXRCQm94KCkuaGVpZ2h0IC8gMiArIDAuNSkgKyAnZW0nO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBmb3JjZS5vbigndGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2x1c3RlciBpbiBmb3VyIGNvcm5lcnMgYmFzZWQgb24gb2Zmc2V0LlxuICAgICAgICAgICAgICAgIHZhciBrID0gb2Zmc2V0U2NhbGUgKiBlLmFscGhhO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGUuYWxwaGEpXG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGVudGl0eUFycmF5LCBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRpdHkueCAmJiBvZmZzZXRzW2VudGl0eS50eXBlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LnggKz0gb2Zmc2V0c1tlbnRpdHkudHlwZV0ueCAqIGs7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkueSArPSBvZmZzZXRzW2VudGl0eS50eXBlXS55ICogaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS54ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCh1cHBlckJvdW5kUmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKHdpZHRoIC0gdXBwZXJCb3VuZFJhZGl1cywgZW50aXR5LngpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS55ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCh1cHBlckJvdW5kUmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKGhlaWdodCAtIHVwcGVyQm91bmRSYWRpdXMsIGVudGl0eS55KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChsaW5rcywgZnVuY3Rpb24gKGxpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgbGlua1xuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5zb3VyY2UueDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnNvdXJjZS55O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQudGFyZ2V0Lng7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC50YXJnZXQueTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG5vZGUuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIGQueCArICcsJyArIGQueSArICcpJztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHNwZWVkQW5pbWF0ZSA9IGZ1bmN0aW9uICh0aWNrcykge1xuICAgICAgICAgICAgICAgIC8vIFNwZWVkIHVwIHRoZSBpbml0aWFsIGFuaW1hdGlvbi5cbiAgICAgICAgICAgICAgICAvLyBTZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjYxODkxMTBcbiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRpY2tzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlLnRpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZm9yY2UuYWxwaGEoKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKCEkc2NvcGUubW9iaWxlKSB7XG4gICAgICAgICAgICAgICAgc3BlZWRBbmltYXRlKDcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yY2Uuc3RhcnQoKTtcblxuICAgICAgICAgICAgLy8gSGFzaCBsaW5rZWQgbmVpZ2hib3JzIGZvciBlYXN5IGhvdmVyaW5nIGVmZmVjdHMuXG4gICAgICAgICAgICAvLyBTZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvODc4MDI3N1xuICAgICAgICAgICAgdmFyIGxpbmtlZEJ5SW5kZXggPSB7fTtcbiAgICAgICAgICAgIF8uZm9yRWFjaChsaW5rcywgZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgICAgICAgICBfLmZvckVhY2gobFswXSwgZnVuY3Rpb24gKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gY29ubmVjdGlvbi5fX2RhdGFfXy5zb3VyY2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9IGNvbm5lY3Rpb24uX19kYXRhX18udGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICBsaW5rZWRCeUluZGV4W3NvdXJjZS5pbmRleCArICcsJyArIHRhcmdldC5pbmRleF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBsaW5rZWRCeUluZGV4W3RhcmdldC5pbmRleCArICcsJyArIHNvdXJjZS5pbmRleF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciBuZWlnaGJvcmluZyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpbmtlZEJ5SW5kZXhbYS5pbmRleCArICcsJyArIGIuaW5kZXhdIHx8IGEuaW5kZXggPT09IGIuaW5kZXg7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgZm9jdXNuZWlnaGJvcnMgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgJ3VuZm9jdXNlZCcgY2xhc3MgdG8gYWxsIG5vbi1uZWlnaGJvcnMuXG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgJ2ZvY3VzZWQnIGNsYXNzIHRvIGFsbCBuZWlnaGJvcnMuXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogU2VlIGlmIGl0IGNhbiBiZSBkb25lIHdpdGgganVzdCBvbmUgY2xhc3MgYW5kIDpub3QoLmZvY3VzZWQpIENTUyBzZWxlY3RvcnMuXG4gICAgICAgICAgICAgICAgbm9kZVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgnZm9jdXNlZCcsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmVpZ2hib3JpbmcoZW50aXR5LCBuKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ3VuZm9jdXNlZCcsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIW5laWdoYm9yaW5nKGVudGl0eSwgbik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGxpbmtzLCBmdW5jdGlvbiAobGluaykge1xuICAgICAgICAgICAgICAgICAgICBsaW5rXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgnZm9jdXNlZCcsIGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVudGl0eS5pbmRleCA9PT0gby5zb3VyY2UuaW5kZXggfHwgZW50aXR5LmluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPT09IG8udGFyZ2V0LmluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCd1bmZvY3VzZWQnLCBmdW5jdGlvbiAobykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhKGVudGl0eS5pbmRleCA9PT0gby5zb3VyY2UuaW5kZXggfHwgZW50aXR5LmluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9PT0gby50YXJnZXQuaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgZm9jdXMgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jdXJyZW50RW50aXR5ICE9PSBlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNldEVudGl0eShlbnRpdHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XG4gICAgICAgICAgICAgICAgZm9jdXNuZWlnaGJvcnMoZW50aXR5KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciB1bmZvY3VzICAgICAgID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgICAgICAgIC8vdmFyIHRyYW5zaXRpb25kZWxheSA9IDc1O1xuICAgICAgICAgICAgICAgIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2ZvY3VzZWQnLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ3VuZm9jdXNlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBfLmZvckVhY2gobGlua3MsIGZ1bmN0aW9uIChsaW5rKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdmb2N1c2VkJywgZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGVudGl0eS5maXhlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIC8vIFJlc3RhcnQgZDMgYW5pbWF0aW9ucy5cbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcmNlLnJlc3VtZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL1RPRE86IFNob3cgZ2VuZXJpYyBkZXRhaWxzIGFuZCBub3QgaW5kaXZpZHVhbCBlbnRpdHkgZGV0YWlscz9cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgaG92ZXJUaW1lcjtcbiAgICAgICAgICAgIHZhciBob3ZlciAgICAgICAgID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgICAgICAgIGlmICghJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ICYmICEkc2NvcGUuZWRpdGluZyAmJiAhJHNjb3BlLmN1cnJlbnRMb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBob3ZlclRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1cyhlbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHVuaG92ZXIgICAgICAgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgJiYgISRzY29wZS5jdXJyZW50TG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdW5mb2N1cyhlbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoaG92ZXJUaW1lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRzY29wZS5hY3Rpb25zLmludGVyYWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgZm9jdXNMb2NhdGlvbiA9IGZ1bmN0aW9uIChsb2NhdGlvbikge1xuICAgICAgICAgICAgICAgIC8vICBJZiB0aGUgY3VycmVudCBlbnRpdHkgaXMgc2hvd24gYW5kIGl0IGRvZXNuJ3QgbWF0Y2ggdGhlIGNsaWNrZWQgbm9kZSwgdGhlbiBzZXRcbiAgICAgICAgICAgICAgICAvLyB0aGUgbmV3IG5vZGUgdG8gY2xpY2tlZC5cbiAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XG5cbiAgICAgICAgICAgICAgICBub2RlLmNsYXNzZWQoJ2ZvY3VzZWQnLCBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4ubmFtZSBpbiBsb2NhdGlvbi5kaWN0O1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhKG4ubmFtZSBpbiBsb2NhdGlvbi5kaWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBfLmZvckVhY2gobGlua3MsIGZ1bmN0aW9uIChsaW5rKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdmb2N1c2VkJywgZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG8uc291cmNlLm5hbWUgaW4gbG9jYXRpb24uZGljdCAmJiBvLnRhcmdldC5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW4gbG9jYXRpb24uZGljdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ3VuZm9jdXNlZCcsIGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEoby5zb3VyY2UubmFtZSBpbiBsb2NhdGlvbi5kaWN0KSB8fCAhKG8udGFyZ2V0Lm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW4gbG9jYXRpb24uZGljdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciB1bmZvY3VzTG9jYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbm9kZVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgnZm9jdXNlZCcsIGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChsaW5rcywgZnVuY3Rpb24gKGxpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgbGlua1xuICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2ZvY3VzZWQnLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCd1bmZvY3VzZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBmb3JjZS5yZXN1bWUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgaGlnaGxpZ2h0TG9jYXRpb24gPSBmdW5jdGlvbiAobG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xpY2Vuc2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHVuZm9jdXMoJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jbGlja2VkTG9jYXRpb24ubG9jYXRpb24gIT09IGxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuZm9jdXNMb2NhdGlvbigkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICAgICAgICAgICAgICBmb2N1c0xvY2F0aW9uKGxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGQzLmV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGQzLmV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGNsaWNrICAgICAgICAgICAgID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5zaG93TGljZW5zZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzRGVmKCRzY29wZS5jbGlja2VkTG9jYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0RlZigkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5mb2N1c0xvY2F0aW9uKCRzY29wZS5jbGlja2VkTG9jYXRpb24uZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkTG9jYXRpb24ubG9jYXRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vICBJZiB0aGUgcHJldmlvdXMgbm9kZSBpcyBlcXVhbCB0byB0aGUgbmV3IG5vZGUsIGRvIG5vdGhpbmcuXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPT09IGVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICBVbmZvY3VzIG9uIHByZXZpb3VzIG5vZGUgYW5kIGZvY3VzIG9uIG5ldyBub2RlLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZm9jdXMoJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSA9IGVudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBTdG9wIGV2ZW50IHNvIHdlIGRvbid0IGRldGVjdCBhIGNsaWNrIG9uIHRoZSBiYWNrZ3JvdW5kLlxuICAgICAgICAgICAgICAgIC8vIFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8yMjk0MTc5NlxuICAgICAgICAgICAgICAgIGlmIChkMy5ldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBkMy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGJhY2tncm91bmRjbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNEZWYoJHNjb3BlLmNsaWNrZWRMb2NhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRGVmKCRzY29wZS5jbGlja2VkTG9jYXRpb24ubG9jYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1bmZvY3VzKCRzY29wZS5jbGlja2VkTG9jYXRpb24ubG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRGVmKCRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZm9jdXMoJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgIC8vVE9ETzogU2hvdyBnZW5lcmljIGRldGFpbHMgYW5kIG5vdCBpbmRpdmlkdWFsIGVudGl0eSBkZXRhaWxzLlxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBkYmxjbGljayAgICAgICAgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbnRpdHkuZml4ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LnggICAgICAgICAgICAgICAgICAgID0gd2lkdGggLyAyO1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkueSAgICAgICAgICAgICAgICAgICAgPSBoZWlnaHQgLyAyO1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkucHggICAgICAgICAgICAgICAgICAgPSB3aWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5weSAgICAgICAgICAgICAgICAgICA9IGhlaWdodCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5maXhlZCAgICAgICAgICAgICAgICA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSA9IGVudGl0eTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1bmZvY3VzKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRzY29wZS5hY3Rpb25zLmludGVyYWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIG5vZGUub24oJ21vdXNlb3ZlcicsIGhvdmVyKTtcbiAgICAgICAgICAgIG5vZGUub24oJ21vdXNlb3V0JywgdW5ob3Zlcik7XG4gICAgICAgICAgICBub2RlLm9uKCdjbGljaycsIGNsaWNrKTtcbiAgICAgICAgICAgIG5vZGUub24oJ2RibGNsaWNrJywgZGJsY2xpY2spO1xuICAgICAgICAgICAgc3ZnLm9uKCdjbGljaycsIGJhY2tncm91bmRjbGljayk7XG5cbiAgICAgICAgICAgIG5vZGVcbiAgICAgICAgICAgICAgICAuY2xhc3NlZCgnd2VsbGNvbm5lY3RlZCcsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmhhc093blByb3BlcnR5KCd3ZWxsY29ubmVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRzY29wZS4kb24oJ2NoYW5nZVNpemVCeScsIGZ1bmN0aW9uIChldmVudCwgc2l6ZUJ5KSB7XG4gICAgICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnY2lyY2xlJylcbiAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oMjUwKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cigncicsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZFtzaXplQnldID8gc2NhbGVbc2l6ZUJ5XShkW3NpemVCeV0pIDogZGVmYXVsdE5vZGVTaXplO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJHNjb3BlLiRvbigndG9nZ2xlTGluaycsIGZ1bmN0aW9uIChldmVudCwgbGluaykge1xuICAgICAgICAgICAgICAgIC8vIGxpbmtzW2xpbmsubmFtZV1cbiAgICAgICAgICAgICAgICAvLyAuY2xhc3NlZCh7J3Zpc2libGUnOiBsaW5rLmVuYWJsZWQsICdoaWRkZW4nOiAhbGluay5lbmFibGVkfSk7XG4gICAgICAgICAgICAgICAgXy5tYXAoJHNjb3BlLmVudGl0eVR5cGVzLCBmdW5jdGlvbiAodmFsLCBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCcuJyArIGtleSArICctbGluaycpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Zpc2libGUnOiBmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb25uZWN0aW9uVHlwZSBlbmFibGVkLCBjb25uZWN0aW9uIHNvdXJjZSBlbnRpdHkgdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpcyBlbmFibGVkLCBjb25uZWN0aW9uIHRhcmdldCBlbnRpdHkgdHlwZSBpcyBlbmFibGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gISRzY29wZS5jb25uZWN0aW9uVHlwZXNbbC50eXBlXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKCRzY29wZS5lbnRpdHlUeXBlc1tsLnNvdXJjZS50eXBlXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICRzY29wZS5lbnRpdHlUeXBlc1tsLnRhcmdldC50eXBlXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGlkZGVuJyA6IGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGFueSBvZiBDb25uZWN0aW9uVHlwZSwgc291cmNlIGVudGl0eSB0eXBlLCBvciB0YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW50aXR5IHR5cGUgYXJlIGRpc2FibGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gISRzY29wZS5jb25uZWN0aW9uVHlwZXNbbC50eXBlXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKCEkc2NvcGUuZW50aXR5VHlwZXNbbC5zb3VyY2UudHlwZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICEkc2NvcGUuZW50aXR5VHlwZXNbbC50YXJnZXQudHlwZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICRzY29wZS4kb24oJ3RvZ2dsZU5vZGUnLCBmdW5jdGlvbiAoZXZlbnQsIHR5cGUpIHtcbiAgICAgICAgICAgICAgICBzdmdcbiAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnLicgKyB0eXBlLm5hbWUgKyAnLW5vZGUnKVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCh7J3Zpc2libGUnOiB0eXBlLmVuYWJsZWQsICdoaWRkZW4nOiAhdHlwZS5lbmFibGVkfSk7XG5cbiAgICAgICAgICAgICAgICBzdmdcbiAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnLicgKyB0eXBlLm5hbWUgKyAnLWxpbmsnKVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmlzaWJsZSc6IGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29ubmVjdGlvblR5cGUgZW5hYmxlZCwgY29ubmVjdGlvbiBzb3VyY2UgZW50aXR5IHR5cGUgaXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbmFibGVkLCBjb25uZWN0aW9uIHRhcmdldCBlbnRpdHkgdHlwZSBpcyBlbmFibGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuY29ubmVjdGlvblR5cGVzW2wudHlwZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgKCRzY29wZS5lbnRpdHlUeXBlc1tsLnNvdXJjZS50eXBlXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAkc2NvcGUuZW50aXR5VHlwZXNbbC50YXJnZXQudHlwZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoaWRkZW4nIDogZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBhbnkgb2YgQ29ubmVjdGlvblR5cGUsIHNvdXJjZSBlbnRpdHkgdHlwZSwgb3IgdGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW50aXR5IHR5cGUgYXJlIGRpc2FibGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhJHNjb3BlLmNvbm5lY3Rpb25UeXBlc1tsLnR5cGVdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICghJHNjb3BlLmVudGl0eVR5cGVzW2wuc291cmNlLnR5cGVdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICEkc2NvcGUuZW50aXR5VHlwZXNbbC50YXJnZXQudHlwZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRzY29wZS4kb24oJ3NlbGVjdEl0ZW0nLCBmdW5jdGlvbiAoZXZlbnQsIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbG9jYXRpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodExvY2F0aW9uKCRzY29wZS5jdXJyZW50TG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2soJHNjb3BlLmN1cnJlbnRFbnRpdHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5jb250cm9sbGVyKCduZXR3b3JrQ3RybCcsIGRlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIsIFJUUCk7XG4iXX0=
