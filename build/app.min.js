!function(i){"use strict";var t=["ui.bootstrap","leaflet-directive","ngAnimate"];i.module("civic-graph",t)}(angular);
!function(t){"use strict";function a(){return{templateUrl:"/js/analytic/analytics.html",restrict:"E",scope:{},controller:"analyticsCtrl"}}var c=[a];t.module("civic-graph").directive("analytics",c)}(angular);
!function(o){"use strict";function r(){return{templateUrl:"/js/control/controls.html",restrict:"E",scope:{toggleNetwork:"="},controller:"controlCtrl",controllerAs:"control",bindToController:{minConnections:"="}}}var t=[r];o.module("civic-graph").directive("control",t)}(angular);
!function(t){"use strict";function e(){return{templateUrl:"/js/edit-entity/edit.html",restrict:"E",scope:{entity:"=",entities:"=",isOpen:"="},controller:"editCtrl"}}var i=[e];t.module("civic-graph").directive("editEntity",i)}(angular);
!function(i,t){"use strict";function s(i){function s(){var i=t(this);i.css("height","55vh")}function c(){var i=t(this);window.innerHeight/3>parseInt(i.css("height"))?i.css("height","55vh"):i.css("height","30vh")}var e;i.mobile&&(e=t("#details-panel"),e.css("height","30vh"),e.scrollTop(0),e.scroll(s),e.click(c))}function c(){return{restrict:"A",link:s}}i.module("civic-graph").directive("addMobileEvents",[c])}(angular,$);
!function(o){"use strict";function c(o,c){o.closeWindow=function(){c.close()}}o.module("civic-graph").controller("modalCtrl",["$scope","$modalInstance",c])}(angular);
!function(t){"use strict";t.module("civic-graph").constant("_",window._).config(["$locationProvider","$httpProvider","$compileProvider",function(t,o,e){t.html5Mode(!0),o.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",e.debugInfoEnabled(!0)}]).filter("thousandSuffix",function(){return function(t,o){var e,n=["k","M","G","T","P","E"];return window.isNaN(t)?null:t<1e3?t:(e=Math.floor(Math.log(t)/Math.log(1e3)),(t/Math.pow(1e3,e)).toFixed(o)+n[e-1])}})}(angular);
!function(t){"use strict";function i(t,i,e,n,o){t.random=(new Date).getTime(),t.entities=[],t.searchItems=null,t.categories=[],t.currentLocation=null,t.clickedLocation={},t.clickedLocation.location=null,t.clickedEntity={},t.clickedEntity.entity=null,t.editing=!1,t.actions={interacted:!1},t.showsearchMB=!1,t.showAnalytics=!1,t.entityTypes=n.getEntityTypes(),t.connectionTypes=o.getConnectionTypes(),t.status={isNetworkShown:!0,license:!0,networkLoading:!0},t.toggleAnalytics=function(){t.showAnalytics=!t.showAnalytics},this.minConnections=t.minConnections=2;var a=this;t.$watch("minConnections",function(){t.$broadcast("entitiesLoaded")}),t.connectionChange=function(){console.log(a.minConnections),t.minConnections=a.minConnections,t.$broadcast("entitiesLoaded")},t.hydePartials=function(i){"search"===i?(t.editing=!1,t.settingsEnabled=!1):"settings"===i?(t.editing=!1,t.showsearchMB=!1):"edit"===i?(t.settingsEnabled=!1,t.showsearchMB=!1):(t.editing=!1,t.settingsEnabled=!1,t.showsearchMB=!1)},t.showSearch=function(){t.hydePartials("search"),t.showsearchMB=!t.showsearchMB,t.status.license=!1},t.toggleSettings=function(){t.hydePartials("settings"),t.settingsEnabled=!t.settingsEnabled},t.startEdit=function(i){t.currentEntity=i,t.mobile&&t.hydePartials("edit"),t.editing=!0},t.switchView=function(){t.changeView(t.status.isNetworkShown?"Map":"Network")},window.mobilecheck=function(){var t=!1,i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,e=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;return function(n){(i.test(n)||e.test(n.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t},t.mobile=window.mobilecheck(),t.settingsEnabled=!t.mobile,setTimeout(function(){i.get("api/entities").success(function(i){t.entities=i.nodes;var n=e.uniq(e.pluck(e.flatten(e.pluck(t.entities,"locations")),"locality")),o=e.map(n,function(i){var n=e.filter(t.entities,e.flow(e.property("locations"),e.partialRight(e.any,{locality:i})));return{name:i,type:"location",entities:n,dict:e.zipObject(e.pluck(n,"name"),e.pluck(n,"index"))}});t.searchItems=o.concat(t.entities),t.overviewUrl="js/overview/overview.html?i="+t.random,t.$broadcast("entitiesLoaded")})},100),t.overviewUrl=null,t.setEntity=function(i){t.currentLocation=null,t.currentEntity=i,t.editing&&t.stopEdit(),t.$broadcast("entityChange")},t.setEntityID=function(i){t.setEntity(e.find(t.entities,{id:i}))},t.setLocation=function(i){t.currentLocation=i,t.editing&&t.stopEdit(),t.$broadcast("itemChange")},t.selectItem=function(i){"location"===i.type?t.setLocation(i):t[i%1===0?"setEntityID":"setEntity"](i),t.$broadcast("selectItem",i)},t.$on("setCurrentEntity",function(i,e){t.currentEntity=e.value}),t.$on("setCurrentLocation",function(i,e){t.currentLocation=e.value}),t.setEntities=function(i){t.entities=i},t.stopEdit=function(){t.editing=!1},t.$on("editEntitySuccess",function(i){t.setEntities(i.nodes),t.$broadcast("entitiesLoaded")}),t.animationsEnabled=!0}var e=["$scope","$http","_","entityService","connectionService",i];t.module("civic-graph").controller("homeCtrl",e)}(angular);
!function(i){"use strict";var a=[];i.module("civic-graph").directive("map",a)}(angular);
!function(r){"use strict";function t(){return{restrict:"E",templateUrl:"/js/network/network.html",controller:"networkCtrl"}}var e=[t];r.module("civic-graph").directive("network",e)}(angular);
!function(e){"use strict";e.module("civic-graph").directive("input",function(){return{restict:"E",require:"?ngModel",link:function(e,r,t,i){"type"in t&&"range"===t.type.toLowerCase()&&i.$parsers.push(parseFloat)}}})}(angular);
!function(e){"use strict";function t(e,t){e.categorizedEntities={},t.forEach(t.keys(e.entityTypes),function(i){e.categorizedEntities[i]=t.filter(e.entities,{type:i})})}e.module("civic-graph").controller("overviewCtrl",["$scope","_",t])}(angular);
!function(c){"use strict";function n(c){}c.module("civic-graph").controller("analyticsCtrl",["$scope",n])}(angular);
!function(e){"use strict";function o(e,o,n,t,i){var a=this;a.entityTypes=e.getEntityTypes(),a.connectionTypes=o.getConnectionTypes(),a.sizeByList=[{name:"Employees",value:"employees"},{name:"Twitter Followers",value:"followers"}],a.sizeBy="employees",a.showView={Network:!0,Map:!1},a.changeView=function(e){t.forEach(t.keys(a.showView),function(o){a.showView[o]=e===o}),n.$broadcast("viewChange")},a.showAbout=function(){i.open({animation:!1,templateUrl:"control/about.html",controller:"modalCtrl"})},a.toggleNode=function(e){n.$broadcast("toggleNode",{name:e,enabled:a.entityTypes[e]})},a.toggleLink=function(e){n.$broadcast("toggleLink",{name:e,enabled:a.connectionTypes[e]})},a.changeSizeBy=function(){n.$broadcast("changeSizeBy",a.sizeBy)}}var n=["entityService","connectionService","$rootScope","_","$modal",o];e.module("civic-graph").controller("controlCtrl",n)}(angular);
!function(e){"use strict";function n(e,n){e.itemsShownDefault={key_people:3,grants_given:3,grants_received:3,investments_made:3,investments_received:3,collaborations:3,employments:3,relations:3,data_given:3,data_received:3,revenues:3,expenses:3},e.itemsShown=n.clone(e.itemsShownDefault),e.$on("entityChange",function(){e.itemsShown=n.clone(e.itemsShownDefault)}),e.showMore=function(n){e.itemsShown[n]=e.currentEntity[n].length},e.showLess=function(n){e.itemsShown[n]=e.itemsShownDefault[n]}}e.module("civic-graph").controller("detailsCtrl",["$scope","_",n])}(angular);
!function(t){"use strict";function e(t){return void 0!==t&&null!==t}function n(n,i,o,s,c,r){function a(){var t,e,i,o;for(e in n.categories)if(n.categories.hasOwnProperty(e)){t=n.categories[e];for(i in n.editEntity.categories)n.editEntity.categories.hasOwnProperty(i)&&(o=n.editEntity.categories[i],t.id===o.id&&(t.enabled=o.enabled))}}n.isEditing=!1,n.editEntity=c.getEntityModel(n.entity),n.entityTypes=c.getEntityTypes(),n.influenceTypes=c.getInfluenceTypes();var d;n.categories=[],n.addressSearch=function(t){return i.jsonp("https://dev.virtualearth.net/REST/v1/Locations",{params:{query:t,key:"Ai58581yC-Sr7mcFbYTtUkS3ixE7f6ZuJnbFJCVI4hAtW1XoDEeZyidQz2gLCCyD",jsonp:"JSON_CALLBACK",include:"ciso2"}}).then(function(t){if(e(t.data.resourceSets)&&t.data.resourceSets.length>0)return t.data.resourceSets[0].resources})},n.toggleCategory=function(t){if(0===n.editEntity.categories.length)n.editEntity.categories.push(t);else{var e=!1;for(var i in n.editEntity.categories)if(n.editEntity.categories.hasOwnProperty(i)){var o=n.editEntity.categories[i];if(o.id===t.id){e=!0,o.enabled=t.enabled;break}}e||n.editEntity.categories.push(t)}},n.setLocation=function(t,i){n.addressSearch(t.formattedAddress).then(function(o){var s=o[0],c=s.address,r=s.point;n.addLocation(i),t.address_line=e(c.addressLine)?c.addressLine:"",t.locality=e(c.locality)?c.locality:"",t.district=e(c.adminDistrict)?c.adminDistrict:"",t.country=e(c.countryRegion)?c.countryRegion:null,t.country_code=e(c.countryRegionIso2)?c.countryRegionIso2:"",t.coordinates=e(r.coordinates)?r.coordinates:null,t.postal_code=e(c.postalCode)?c.postalCode:null})},n.addLocation=function(t){t&&n.editEntity.locations.push(r.getLocationModel())},n.addKeyPerson=function(){s.some(n.editEntity.key_people,{name:"",id:null})||n.editEntity.key_people.push({name:"",id:null})},n.setFundingConnection=function(t,e){e.entity_id=t.id},n.addFundingConnection=function(t){s.some(t,{entity:""})||t.push({entity:"",amount:null,year:null,id:null})},n.setConnection=function(t,e){e.entity_id=t.id},n.addConnection=function(t){s.some(t,{entity:"",id:null})||t.push({entity:"",id:null,details:null})},n.addFinance=function(t){s.every(t,function(t){return t.amount>0&&t.year>1750})&&t.push({amount:null,year:null,id:null})},n.save=function(){n.isSaving=!0,console.log(n.editEntity.generateDBModel()),i.post("api/save",{entity:n.editEntity.generateDBModel()}).success(function(t){n.isSaving=!1,n.$emit("editEntitySuccess",t),n.cancelEdit()}).error(function(){n.isError=!0,o(function(){n.isError=!1},2e3)})},n.cancelEdit=function(){n.isOpen=!1},n.$watch("entity",function(i,o){t.equals(i,o)||(console.log(n.entity),n.editEntity=c.getEntityModel(i),n.categories=t.copy(d),a(),n.isEditing=e(n.editEntity.id))}),i.get("api/categories").success(function(e){d=e.categories,n.categories=t.copy(d)})}var i=["$scope","$http","$timeout","_","entityService","locationService",n];t.module("civic-graph").controller("editCtrl",i)}(angular);
!function(n){"use strict";function e(){function n(n){return void 0!==n&&null!==n}function e(e){var i=n(e)?e:{};this.name=n(i.name)?i.name:null,this.enabled=!n(i.enable)||i.enabled,this.id=n(i.id)?i.id:null}this.getCategoryModel=function(n){return new e(n)}}var i=[e];n.module("civic-graph").service("categoryService",i)}(angular);
!function(n){"use strict";function t(n){return void 0!==n&&null!==n}function i(){function n(n){var i=t(n);this.entity=i&&t(n.entity)?n.entity:null,this.id=i&&t(n.id)?n.id:null,this.details=i&&t(n.details)?n.details:null,this.name=i&&t(n.name)?n.name:null,this.entity_id=i&&t(n.entity_id)?n.entity_id:null}this.getConnectionModel=function(t){return new n(t)},this.getConnectionTypes=function(){return l}}var e=[i],l={Funding:!0,Data:!0,Employment:!0,Collaboration:!0};n.module("civic-graph").service("connectionService",e)}(angular);
!function(e){"use strict";function n(n,t,i,o,s){function p(e){return void 0!==e&&null!==e}function r(n,t){if(!p(n)&&!e.isArray(n))return[t()];var i,o,s=[];for(i in n)n.hasOwnProperty(i)&&(o=n[i],e.isObject(o)&&s.push(t(o)));return s.push(t()),s}function a(e){var l=this,c=p(e)?e:{};this.id=p(c.id)?c.id:null,this.name=p(c.name)?c.name:null,this.locations=r(c.locations,o.getLocationModel),this.influence=p(c.influence)?c.influence:null,this.grants_received=r(c.grants_received,n.getFundingConnectionModel),this.investments_received=r(c.investments_received,n.getFundingConnectionModel),this.grants_given=r(c.grants_given,n.getFundingConnectionModel),this.investments_made=r(c.investments_made,n.getFundingConnectionModel),this.data_given=r(c.data_given,t.getConnectionModel),this.data_received=r(c.data_received,t.getConnectionModel),this.collaborations=r(c.collaborations,t.getConnectionModel),this.key_people=r(c.key_people,t.getConnectionModel),this.employments=r(c.employments,t.getConnectionModel),this.revenues=r(c.revenues,i.getFinanceModel),this.expenses=r(c.expenses,i.getFinanceModel),this.categories=r(c.categories,s.getCategoryModel),this.type=p(c.type)?c.type:null,this.nickname=p(c.nickname)?c.nickname:null,this.url=p(c.url)?c.url:null,this.twitter_handle=p(c.twitter_handle)?c.twitter_handle:null,this.employees=p(c.employees)?c.employees:null,this.generateDBModel=function(){var e=new a(l);return e.locations.pop(),e.locations.pop(),e.grants_received.pop(),e.grants_received.pop(),e.grants_given.pop(),e.grants_given.pop(),e.investments_received.pop(),e.investments_received.pop(),e.investments_made.pop(),e.investments_made.pop(),e.data_given.pop(),e.data_given.pop(),e.data_received.pop(),e.data_received.pop(),e.collaborations.pop(),e.collaborations.pop(),e.key_people.pop(),e.key_people.pop(),e.employments.pop(),e.employments.pop(),e.revenues.pop(),e.revenues.pop(),e.expenses.pop(),e.expenses.pop(),e.categories.pop(),e.categories.pop(),e.description="",console.log(e),e}}var l={Government:!0,"For-Profit":!0,"Non-Profit":!0,Individual:!0},c=["Local","National","Global"];this.getEntityModel=function(e){return new a(e)},this.getEntityTypes=function(){return l},this.getInfluenceTypes=function(){return c}}var t=["fundingConnectionService","connectionService","financeService","locationService","categoryService",n];e.module("civic-graph").service("entityService",t)}(angular);
!function(n){"use strict";function i(n){return void 0!==n&&null!==n}function t(){function n(n){var t=i(n)?n:{};this.amount=i(t.amount)&&t.amount>=0?t.amount:0,this.year=i(t.year)&&t.year>=1750?t.year:null,this.id=i(t.id)?t.id:null}this.getFinanceModel=function(i){return new n(i)}}var e=[t];n.module("civic-graph").service("financeService",e)}(angular);
!function(n){"use strict";function i(n){return void 0!==n&&null!==n}function t(){function n(n){var t=i(n);this.entity=t&&i(n.entity)?n.entity:"",this.amount=t&&i(n.amount)?n.amount:null,this.year=t&&i(n.year)?n.year:null,this.id=t&&i(n.id)?n.id:null}this.getFundingConnectionModel=function(i){return new n(i)}}var e=[t];n.module("civic-graph").service("fundingConnectionService",e)}(angular);
!function(t){"use strict";function i(){function t(t){return void 0!==t&&null!==t}function i(i){var s=t(i)?i:{};this.address_line=t(s.address_line)?s.address_line:null,this.locality=t(s.locality)?s.locality:null,this.district=t(s.district)?s.district:null,this.postal_code=t(s.postal_code)?s.postal_code:null,this.country=t(s.country)?s.country:null,this.country_code=t(s.country_code)?s.country_code:null,this.coordinates=t(s.coordinates)?s.coordinates:null,this.id=t(s.id)?s.id:null,this.formattedAddress=(t(this.address_line)?this.address_line+" ":"")+(t(this.locality)?this.locality+", ":"")+(t(this.country_code)?this.country_code+" ":"")+(t(this.postal_code)?this.postal_code:""),this.formattedAddress=this.formattedAddress.trim()}this.getLocationModel=function(t){return new i(t)}}var s=[i];t.module("civic-graph").service("locationService",s)}(angular);
!function(t,e,n){"use strict";function i(t,i,o,r,a){t.options={center:{lat:20,lng:-40,zoom:3},defaults:{tileLayer:"https://api.tiles.mapbox.com/v4/mapbox.light/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiZGF2aWRscm50IiwiYSI6IjA0M2RkNzMzZWJmNzEzNGYzMTdhYTExYzAyZmU4ZTE1In0.TNYlFta2VItrkn4L0Z9BJQ",tileLayerOptions:{detectRetina:!0,reuseTiles:!1},zoomControl:!1,attributionControl:!1}},i(function(){var i=function(t){var n=t.data,i=e.layout.pie().sort(null).value(function(t){return t.value}),o=e.svg.arc().outerRadius(t.r).innerRadius(t.r-10),r=t.r+t.strokeWidth,a=2*r,c=a,l=document.createElementNS(e.ns.prefix.svg,"svg"),s=e.select(l).data(n).attr("class","piechart").attr("width",a).attr("height",c),u=s.selectAll(".arc").data(i(n)).enter().append("g").attr("class","arc").attr("transform","translate("+r+","+r+")");return u.append("path").attr("d",o).attr("class",function(t){return t.data.type+"-arc"}),u.append("svg:text").text(function(e,n){if(0===n)return t.count}).attr("x",-4*t.count.toString().length).attr("dy",5).attr("class","arcText"),window.XMLSerializer?(new window.XMLSerializer).serializeToString(l):l.xml?l.xml:""};o.getMap().then(function(e){function o(t){var e=t.getAllChildMarkers(),o=e.length,a=r.pluck(e,"options"),c=r.map(r.countBy(a,"type"),function(t,e){return{type:e,value:t}}),l=28,s=1,u=2*(l+s),d=i({data:c,r:l,strokeWidth:s,count:o});return new n.DivIcon({html:d,className:"marker-cluster",iconSize:new n.point(u,u)})}function c(t){function e(e){if(r.every(e.coordinates)){"40.78200"===e.coordinates[0].toFixed(5)&&"-73.83170"===e.coordinates[1].toFixed(5)&&(e.coordinates[0]=40.77065,e.coordinates[1]=-73.97406);var i=n.marker(e.coordinates,{icon:u[t.type],title:t.name,entity_id:t.id,message:t.name,type:t.type});d.addLayer(i)}}r.forEach(t.locations,e)}function l(t){console.error(t.message+"  %O",t)}var s=a("filter")(t.entities,function(t){return t.collaborations.length>4});e.invalidateSize(),new n.Control.Zoom({position:"topright"}).addTo(e),n.control.locate({position:"topright",showPopup:!1,icon:"fa fa-location-arrow"}).addTo(e);var u={"Non-Profit":n.icon({iconUrl:"img/marker-nonprof.svg",iconSize:[60,60]}),"For-Profit":n.icon({iconUrl:"img/marker-prof.svg",iconSize:[60,60]}),Individual:n.icon({iconUrl:"img/marker-ind.svg",iconSize:[60,60]}),Government:n.icon({iconUrl:"img/marker-gov.svg",iconSize:[60,60]})},d=n.markerClusterGroup({spiderfyOnMaxZoom:!0,showCoverageOnHover:!1,iconCreateFunction:o,maxClusterRadius:30,spiderfyDistanceMultiplier:1.3});console.log("Original: %O",t.entities),console.log("Filtered: %O",s),r.forEach(s,c),e.addLayer(d),e.on("locationerror",l),d.on("click",function(e){t.setEntityID(e.layer.options.entity_id),t.clickedEntity.entity=t.currentEntity,t.actions.interacted=!0,t.settingsEnabled&&t.mobile&&t.toggleSettings(),t.safeApply()}),e.on("click",function(){t.clickedEntity.entity=null,t.actions.interacted=!0,t.safeApply()}),t.$on("selectItem",function(){var n=t.currentEntity.locations.length>0?r.pluck(t.currentEntity.locations,"coordinates"):null;n.length>0&&e.setView(n[0],11),t.actions.interacted=!0,t.safeApply()})})})}var o=["$scope","$timeout","leafletData","_","$filter",i];t.module("civic-graph").controller("mapCtrl",o)}(angular,d3,L);
!function(t,e){"use strict";function n(t){return void 0!==t&&null!==t}function i(t,i,o,c){t.isLoading=!0,t.connections={},t.safeApply=function(t){var e=this.$root.$$phase;"$apply"===e||"$digest"===e?t&&"function"==typeof t&&t():this.$apply(t)},t.$on("entitiesLoaded",function(e){e.targetScope;i.get("api/connections").success(function(e){var i=c("filter")(t.entities,function(e){return e.collaborations.length>=t.minConnections}),s={};o.forEach(o.keys(e.connections),function(t){s[t]=[]}),o.forEach(e.connections,function(t,e){o.forEach(t,function(t){var c=o.find(i,{id:t.source}),a=o.find(i,{id:t.target});n(c)&&n(a)&&s[e].push({source:c,target:a})})}),o.forEach(o.keys(t.entityTypes),function(e){var n=o.takeRight(o.sortBy(o.filter(t.entities,{type:e}),"collaborations.length"),5);o.forEach(n,function(t){t.wellconnected=!0})}),i=o.sortBy(i,function(t){return t.wellconnected?1:0}),t.mobile?a(i):r(i,s)})});var a=function(i){var c={nodes:t.entities,links:o.flatten(o.values(t.connections))},a={Government:{focused:"rgba(242, 80, 34, 1)",unfocused:"rgba(242, 80, 34, 0.1)"},"Non-Profit":{focused:"rgba(30, 144, 255, 1)",unfocused:"rgba(30, 144, 255, 0.1)"},"For-Profit":{focused:"rgba(127, 186, 0, 1)",unfocused:"rgba(127, 186, 0, 0.1)"},Individual:{focused:"rgba(255, 175, 44, 1)",unfocused:"rgba(255, 175, 44, 0.1)"},Funding:{focused:"#FF7460",unfocused:"#E3DFE4"},Data:{focused:"#84C2FF",unfocused:"#E3DFE4"},Employment:{focused:"#EE73FF",unfocused:"#E3DFE4"},Collaboration:{focused:"#FFD955",unfocused:"#E3DFE4"}},r=$("#canvas-force"),s=r.width(),u=r.height(),l={Government:[-90,-90-u/7],"Non-Profit":[-90,90-u/7],"For-Profit":[90,-90-u/7],Individual:[90,90-u/7]},d=function(t,e,n,i,o){var c=t-n,a=e-i;return c*c+a*a<=o*o},y={employees:function(t){return t>10?Math.log(t)/3:1.5},followers:function(t){return t>0&&t<=500?1.5:t>500&&t<=5e3?1.8:t>5e3&&t<=1e4?2:t>1e4&&t<=25e3?2.5:t>25e3&&t<=9e5?3:t>9e5?5:1}},f=d3.select("div#canvas-force").append("canvas"),p=f.node().getContext("2d"),h=window.devicePixelRatio||1,m=p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1,g=h/m;f.attr("width",s*g).attr("height",u*g).attr("id","networkCanvas");var k=document.getElementById("networkCanvas");k.style.width=s+"px",k.style.height=u+"px",p.scale(g,g),t.loading=!1;var x=1;$("#networkCanvas").click(function(e){var n=e.offsetX/x,i=e.offsetY/x;t.showLicense=!1,t.clickedEntity.entity=null;var o=!1;c.nodes.forEach(function(e){var c=y[t.sizeBy](e[t.sizeBy]);d(n,i,e.x+l[e.type][0],e.y+l[e.type][1],4.5*c)&&(t.hydePartials(),t.$emit("setCurrentEntity",{value:e}),o=!0,t.setEntity(e),t.clickedEntity.entity=e,focus(e))}),o||(t.$emit("setCurrentLocation",{value:null}),t.$emit("setCurrentEntity",{value:null})),T(),t.actions.interacted=!0,t.safeApply(),$("#details-panel").scrollTop(0)});var v,E=0,L=!0,w=[],M=[];c.nodes.forEach(function(e){n(i[e.type])&&(t.currentLocation?e.name in t.currentLocation.dict&&w.push(e):t.currentEntity&&!v[e.id]&&e!==t.currentEntity||(t.currentEntity||e.wellconnected?w.push(e):M.push(e)))}),M=M.concat(w);var T=function(){var i;E++,E>70&&L&&(L=!1,b.stop(),i=new e.PinchZoom($("#networkCanvas"),{})),p.clearRect(0,0,s,u),v={},p.strokeStyle="#ccc",o.forEach(t.connections,function(e,i){e.forEach(function(e){var o,c=n(t.connectionTypes[i]),r=n(t.entityTypes[e.target.type]),d=n(t.entityTypes[e.source.type]);c&&r&&d&&(n(t.currentLocation)?e.source.name in t.currentLocation.dict&&e.target.name in t.currentLocation.dict&&(p.beginPath(),o=y[t.sizeBy](e.source[t.sizeBy]),p.moveTo(Math.max(4.5*o,Math.min(s-4.5*o,e.source.x+l[e.source.type][0])),Math.max(4.5*o,Math.min(u-4.5*o,e.source.y+l[e.source.type][1]))),p.lineTo(Math.max(4.5*o,Math.min(s-4.5*o,e.target.x+l[e.target.type][0])),Math.max(4.5*o,Math.min(u-4.5*o,e.target.y+l[e.target.type][1]))),p.strokeStyle=a[i].focused,p.stroke(),p.closePath()):n(t.currentEntity)&&e.source!==t.currentEntity&&e.target!==t.currentEntity||(p.beginPath(),o=y[t.sizeBy](e.source[t.sizeBy]),p.moveTo(Math.max(4.5*o,Math.min(s-4.5*o,e.source.x+l[e.source.type][0])),Math.max(4.5*o,Math.min(u-4.5*o,e.source.y+l[e.source.type][1]))),p.lineTo(Math.max(4.5*o,Math.min(s-4.5*o,e.target.x+l[e.target.type][0])),Math.max(4.5*o,Math.min(u-4.5*o,e.target.y+l[e.target.type][1]))),p.strokeStyle=a[i].focused,p.stroke(),p.closePath(),v[e.source.id]=!0,v[e.target.id]=!0))})});var c=[];M.forEach(function(e){if(t.entityTypes[e.type]){var n;t.currentLocation?e.name in t.currentLocation.dict?(n="focused",p.strokeStyle="white",c.push(e)):(p.strokeStyle="rgba(255, 255, 255, 0.1)",n="unfocused"):!t.currentEntity||v[e.id]||e===t.currentEntity?(n="focused",p.strokeStyle="white",t.currentEntity?c.push(e):e.wellconnected&&c.push(e)):(p.strokeStyle="rgba(255, 255, 255, 0.1)",n="unfocused");var i=y[t.sizeBy](e[t.sizeBy]);p.beginPath(),p.fillStyle=a[e.type][n],p.arc(Math.max(4.5*i,Math.min(s-4.5*i,e.x+l[e.type][0])),Math.max(4.5*i,Math.min(u-4.5*i,e.y+l[e.type][1])),4.5*i,0,2*Math.PI),p.fill(),p.lineWidth=1,p.stroke(),p.closePath()}}),o.forEach(c,function(e){var n=y[t.sizeBy](e[t.sizeBy]);p.strokeStyle="#333333";var i=e.nickname?e.nickname:e.name;p.font="lighter 11px Segoe UI, HelveticaNeue-Light, sans-serif-light, sans-serif",p.strokeText(i,Math.max(4.5*n,Math.min(s-4.5*n,e.x+l[e.type][0]))-2*i.length,Math.max(4.5*n,Math.min(u-4.5*n,e.y+l[e.type][1]))+10,100)})},b=d3.layout.force().size([s,u]).nodes(c.nodes).links(c.links).on("tick",T).charge(-2).linkStrength(.1).linkDistance(50).start();t.$on("toggleNode",function(){T()}),t.$on("toggleLink",function(){T(),console.log("network found")}),t.$on("changeSizeBy",function(){T()}),t.$on("selectItem",function(e,n){"location"===n.type?(t.clickedLocation.location=t.currentLocation,t.$emit("setCurrentEntity",{value:null})):(t.clickedEntity.entity=t.currentEntity,t.$emit("setCurrentLocation",{value:null})),t.actions.interacted=!0,t.safeApply(),T()})},r=function(e,i){t.isLoading=!1;var c=d3.select("#network");c.selectAll("*").remove();var a=c.node().getBoundingClientRect(),r=a.height,s=a.width,u=6,l=7,d={Individual:{x:1,y:1},"For-Profit":{x:1,y:-1},"Non-Profit":{x:-1,y:1},Government:{x:-1,y:-1}},y=10,f=50,p=d3.max(e,function(t){return parseInt(t.employees)}),h=d3.max(e,function(t){return parseInt(t.followers)}),m={employees:d3.scale.sqrt().domain([10,p]).range([y,f]),followers:d3.scale.sqrt().domain([10,h]).range([y,f])},g={},k=d3.layout.force().size([s,r]).nodes(e).links(o.flatten(o.values(i))).charge(function(t){return t.employees?-2*m.employees(t.employees):-20}).linkStrength(0).linkDistance(50);o.forEach(i,function(t,e){g[e]=c.selectAll(".link ."+e+"-link").data(t).enter().append("line").attr("class",function(t){return n(t.source)&&n(t.target)?(t.type=e,"link "+e+"-link "+t.source.type+"-link "+t.target.type+"-link"):""})});var x=c.selectAll(".node").data(e).enter().append("g").attr("class",function(t){return"node "+t.type+"-node"}).call(k.drag);x.append("circle").attr("r",function(t){return t.employees?m.employees(t.employees):l}),x.append("text").text(function(t){return t.nickname?t.nickname:t.name}).attr("dx",function(){return-.065*this.getComputedTextLength()/2+"em"}).attr("dy",function(){return.08*this.parentNode.getBBox().height/2+.5+"em"}),k.on("tick",function(t){var n=u*t.alpha;o.forEach(e,function(t){t.x&&d[t.type]&&(t.x+=d[t.type].x*n,t.y+=d[t.type].y*n,t.x=Math.max(f,Math.min(s-f,t.x)),t.y=Math.max(f,Math.min(r-f,t.y)))}),o.forEach(g,function(t){t.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y})}),x.attr("transform",function(t){return"translate("+t.x+","+t.y+")"})});var v=function(t){requestAnimationFrame(function e(){for(var n=0;n<t;n++)k.tick();k.alpha()>0&&requestAnimationFrame(e)})};t.mobile||v(7),k.start();var E={};o.forEach(g,function(t){o.forEach(t[0],function(t){var e=t.__data__.source,n=t.__data__.target;E[e.index+","+n.index]=!0,E[n.index+","+e.index]=!0})});var L,w=function(t,e){return E[t.index+","+e.index]||t.index===e.index},M=function(t){x.classed("focused",function(e){return w(t,e)}).classed("unfocused",function(e){return!w(t,e)}),o.forEach(g,function(e){e.classed("focused",function(e){return t.index===e.source.index||t.index===e.target.index}).classed("unfocused",function(e){return!(t.index===e.source.index||t.index===e.target.index)})})},T=function(e){t.currentEntity!==e&&t.setEntity(e),t.safeApply(),M(e)},$=function(e){x.classed("focused",!1).classed("unfocused",!1),o.forEach(g,function(t){t.classed("focused",!1).classed("unfocused",!1)}),e.fixed=!1,t.clickedEntity.entity&&k.resume()},b=function(e){t.clickedEntity.entity||t.editing||t.currentLocation||(L=setTimeout(function(){T(e)},500)),t.actions.interacted=!0,t.safeApply()},P=function(e){t.clickedEntity.entity||t.currentLocation||($(e),clearTimeout(L)),t.actions.interacted=!0,t.safeApply()},B=function(e){t.safeApply(),x.classed("focused",function(t){return t.name in e.dict}).classed("unfocused",function(t){return!(t.name in e.dict)}),o.forEach(g,function(t){t.classed("focused",function(t){return t.source.name in e.dict&&t.target.name in e.dict}).classed("unfocused",function(t){return!(t.source.name in e.dict&&t.target.name in e.dict)})})},A=function(){x.classed("focused",!1).classed("unfocused",!1),o.forEach(g,function(t){t.classed("focused",!1).classed("unfocused",!1)}),t.clickedLocation.location&&k.resume()},S=function(e){t.showLicense=!1,t.clickedEntity.entity&&($(t.clickedEntity.entity),t.clickedEntity.entity=null),t.clickedLocation.location!==e&&(A(t.clickedLocation.location),t.clickedLocation.location=e,B(e)),d3.event&&d3.event.stopPropagation(),t.actions.interacted=!0,t.safeApply()},F=function(e){t.showLicense=!1,n(t.clickedLocation)&&(n(t.clickedLocation.location)&&(A(t.clickedLocation.entity),t.clickedLocation.location=null),t.clickedEntity.entity===e?t.clickedEntity.entity=null:(t.clickedEntity.entity&&$(t.clickedEntity.entity),t.clickedEntity.entity=e,T(e))),d3.event&&d3.event.stopPropagation(),t.actions.interacted=!0,t.safeApply()},C=function(){n(t.clickedLocation)&&(n(t.clickedLocation.location)&&($(t.clickedLocation.location),t.clickedLocation.location=null),n(t.clickedEntity.entity)&&($(t.clickedEntity.entity),t.clickedEntity.entity=null)),t.safeApply()},z=function(e){e.fixed?$(e):(e.x=s/2,e.y=r/2,e.px=s/2,e.py=r/2,e.fixed=!0,t.clickedEntity.entity=e),t.actions.interacted=!0,t.safeApply()};x.on("mouseover",b),x.on("mouseout",P),x.on("click",F),x.on("dblclick",z),c.on("click",C),x.classed("wellconnected",function(t){return t.hasOwnProperty("wellconnected")}),t.$on("changeSizeBy",function(t,e){c.selectAll("circle").transition().duration(250).attr("r",function(t){return t[e]?m[e](t[e]):l})}),t.$on("toggleLink",function(e,n){o.map(t.entityTypes,function(e,n){c.selectAll("."+n+"-link").classed({visible:function(e){return!t.connectionTypes[e.type]||t.entityTypes[e.source.type]&&t.entityTypes[e.target.type]},hidden:function(e){return!t.connectionTypes[e.type]||!t.entityTypes[e.source.type]||!t.entityTypes[e.target.type]}})})}),t.$on("toggleNode",function(e,n){c.selectAll("."+n.name+"-node").classed({visible:n.enabled,hidden:!n.enabled}),c.selectAll("."+n.name+"-link").classed({visible:function(e){return t.connectionTypes[e.type]&&t.entityTypes[e.source.type]&&t.entityTypes[e.target.type]},hidden:function(e){return!t.connectionTypes[e.type]||!t.entityTypes[e.source.type]||!t.entityTypes[e.target.type]}})}),t.$on("selectItem",function(e,n){"location"===n.type?S(t.currentLocation):F(t.currentEntity)})}}var o=["$scope","$http","_","$filter",i];t.module("civic-graph").controller("networkCtrl",o)}(angular,RTP);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNpdmljLWdyYXBoLm1vZHVsZS5qcyIsImFuYWx5dGljL2FuYWx5dGljc0RpcmVjdGl2ZS5qcyIsImNvbnRyb2wvY29udHJvbERpcmVjdGl2ZS5qcyIsImVkaXQtZW50aXR5L2VkaXRFbnRpdHlEaXJlY3RpdmUuanMiLCJleHRyYS9hZGRNb2JpbGVFdmVudHMuanMiLCJleHRyYS9tb2RhbEN0cmwuanMiLCJtYWluL2FwcC5qcyIsIm1haW4vaG9tZUN0cmwuanMiLCJtYXAvbWFwRGlyZWN0aXZlLmpzIiwibmV0d29yay9uZXR3b3JrRGlyZWN0aXZlLmpzIiwibmV0d29yay9zbGlkZXJCYXIuanMiLCJvdmVydmlldy9vdmVydmlld0N0cmwuanMiLCJhbmFseXRpYy9jb250cm9sbGVyL2FuYWx5dGljc0N0cmwuanMiLCJjb250cm9sL2NvbnRyb2xsZXIvY29udHJvbEN0cmwuanMiLCJkZXRhaWwvY29udHJvbGxlci9kZXRhaWxzQ3RybC5qcyIsImVkaXQtZW50aXR5L2NvbnRyb2xsZXIvZWRpdEN0cmwuanMiLCJlZGl0LWVudGl0eS9zZXJ2aWNlL2NhdGVnb3J5U2VydmljZS5qcyIsImVkaXQtZW50aXR5L3NlcnZpY2UvY29ubmVjdGlvblNlcnZpY2UuanMiLCJlZGl0LWVudGl0eS9zZXJ2aWNlL2VudGl0eVNlcnZpY2UuanMiLCJlZGl0LWVudGl0eS9zZXJ2aWNlL2ZpbmFuY2VTZXJ2aWNlLmpzIiwiZWRpdC1lbnRpdHkvc2VydmljZS9mdW5kaW5nQ29ubmVjdGlvblNlcnZpY2UuanMiLCJlZGl0LWVudGl0eS9zZXJ2aWNlL2xvY2F0aW9uU2VydmljZS5qcyIsIm1hcC9jb250cm9sbGVyL21hcEN0cmwuanMiLCJuZXR3b3JrL2NvbnRyb2xsZXIvbmV0d29ya0N0cmwuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1haW5EZXBlbmRlbmNpZXMiLCJtb2R1bGUiLCJhbmFseXRpY3NEaXJlY3RpdmUiLCJ0ZW1wbGF0ZVVybCIsInJlc3RyaWN0Iiwic2NvcGUiLCJjb250cm9sbGVyIiwiYW5hbHl0aWNzRGVwZW5kZW5jaWVzIiwiZGlyZWN0aXZlIiwiY29udHJvbERpcmVjdGl2ZSIsInRvZ2dsZU5ldHdvcmsiLCJjb250cm9sbGVyQXMiLCJiaW5kVG9Db250cm9sbGVyIiwibWluQ29ubmVjdGlvbnMiLCJjb250cm9sRGVwZW5kZW5jaWVzIiwiZWRpdEVudGl0eURpcmVjdGl2ZSIsImVudGl0eSIsImVudGl0aWVzIiwiaXNPcGVuIiwiZWRpdEVudGl0eURlcGVuZGVuY2llcyIsIiQiLCJsaW5rRnVuY3Rpb24iLCJzY3JvbGwiLCJzZWxmIiwidGhpcyIsImNzcyIsImNsaWNrIiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJwYXJzZUludCIsImRldGFpbHNQYW5lbCIsIm1vYmlsZSIsInNjcm9sbFRvcCIsImFkZE1vYmlsZUV2ZW50cyIsImxpbmsiLCJtb2RhbEN0cmwiLCIkc2NvcGUiLCIkbW9kYWxJbnN0YW5jZSIsImNsb3NlV2luZG93IiwiY2xvc2UiLCJjb25zdGFudCIsIl8iLCJjb25maWciLCIkbG9jYXRpb25Qcm92aWRlciIsIiRodHRwUHJvdmlkZXIiLCIkY29tcGlsZVByb3ZpZGVyIiwiaHRtbDVNb2RlIiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiY29tbW9uIiwiZGVidWdJbmZvRW5hYmxlZCIsImZpbHRlciIsImlucHV0IiwiZGVjaW1hbHMiLCJleHAiLCJzdWZmaXhlcyIsImlzTmFOIiwiTWF0aCIsImZsb29yIiwibG9nIiwicG93IiwidG9GaXhlZCIsImhvbWVDdHJsIiwiJGh0dHAiLCJlbnRpdHlTZXJ2aWNlIiwiY29ubmVjdGlvblNlcnZpY2UiLCJyYW5kb20iLCJEYXRlIiwiZ2V0VGltZSIsInNlYXJjaEl0ZW1zIiwiY2F0ZWdvcmllcyIsImN1cnJlbnRMb2NhdGlvbiIsImNsaWNrZWRMb2NhdGlvbiIsImxvY2F0aW9uIiwiY2xpY2tlZEVudGl0eSIsImVkaXRpbmciLCJhY3Rpb25zIiwiaW50ZXJhY3RlZCIsInNob3dzZWFyY2hNQiIsInNob3dBbmFseXRpY3MiLCJlbnRpdHlUeXBlcyIsImdldEVudGl0eVR5cGVzIiwiY29ubmVjdGlvblR5cGVzIiwiZ2V0Q29ubmVjdGlvblR5cGVzIiwic3RhdHVzIiwiaXNOZXR3b3JrU2hvd24iLCJsaWNlbnNlIiwibmV0d29ya0xvYWRpbmciLCJ0b2dnbGVBbmFseXRpY3MiLCIkd2F0Y2giLCIkYnJvYWRjYXN0IiwiY29ubmVjdGlvbkNoYW5nZSIsImNvbnNvbGUiLCJoeWRlUGFydGlhbHMiLCJleGNlcHQiLCJzZXR0aW5nc0VuYWJsZWQiLCJzaG93U2VhcmNoIiwidG9nZ2xlU2V0dGluZ3MiLCJzdGFydEVkaXQiLCJjdXJyZW50RW50aXR5Iiwic3dpdGNoVmlldyIsImNoYW5nZVZpZXciLCJtb2JpbGVjaGVjayIsImNoZWNrIiwicmVnZXgiLCJyZWdleDIiLCJhIiwidGVzdCIsInN1YnN0ciIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInZlbmRvciIsIm9wZXJhIiwic2V0VGltZW91dCIsImdldCIsInN1Y2Nlc3MiLCJkYXRhIiwibm9kZXMiLCJsb2NhdGlvbnMiLCJ1bmlxIiwicGx1Y2siLCJmbGF0dGVuIiwiZW50aXRpZXNCeUxvY2F0aW9uIiwibWFwIiwibG9jIiwiZmluZGluZ3MiLCJmbG93IiwicHJvcGVydHkiLCJwYXJ0aWFsUmlnaHQiLCJhbnkiLCJsb2NhbGl0eSIsIm5hbWUiLCJ0eXBlIiwiZGljdCIsInppcE9iamVjdCIsImNvbmNhdCIsIm92ZXJ2aWV3VXJsIiwic2V0RW50aXR5Iiwic3RvcEVkaXQiLCJzZXRFbnRpdHlJRCIsImlkIiwiZmluZCIsInNldExvY2F0aW9uIiwic2VsZWN0SXRlbSIsIml0ZW0iLCIkb24iLCJldmVudCIsImFyZ3MiLCJ2YWx1ZSIsInNldEVudGl0aWVzIiwicmVzcG9uc2UiLCJhbmltYXRpb25zRW5hYmxlZCIsImhvbWVEZXBlbmRlbmNpZXMiLCJkZXBlbmRlbmNpZXMiLCJyZXN0aWN0IiwicmVxdWlyZSIsImVsZW1lbnQiLCJhdHRycyIsIm5nTW9kZWwiLCJ0b0xvd2VyQ2FzZSIsIiRwYXJzZXJzIiwicHVzaCIsInBhcnNlRmxvYXQiLCJvdmVydmlld0N0cmwiLCJjYXRlZ29yaXplZEVudGl0aWVzIiwiZm9yRWFjaCIsImtleXMiLCJhbmFseXRpY3NDdHJsIiwiY29udHJvbEN0cmwiLCIkcm9vdFNjb3BlIiwiJG1vZGFsIiwidm0iLCJzaXplQnlMaXN0Iiwic2l6ZUJ5Iiwic2hvd1ZpZXciLCJOZXR3b3JrIiwiTWFwIiwidmlldyIsInNob3dBYm91dCIsIm9wZW4iLCJhbmltYXRpb24iLCJ0b2dnbGVOb2RlIiwiZW5hYmxlZCIsInRvZ2dsZUxpbmsiLCJjaGFuZ2VTaXplQnkiLCJjb250cm9sRGVwcyIsImRldGFpbHNDdHJsIiwiaXRlbXNTaG93bkRlZmF1bHQiLCJrZXlfcGVvcGxlIiwiZ3JhbnRzX2dpdmVuIiwiZ3JhbnRzX3JlY2VpdmVkIiwiaW52ZXN0bWVudHNfbWFkZSIsImludmVzdG1lbnRzX3JlY2VpdmVkIiwiY29sbGFib3JhdGlvbnMiLCJlbXBsb3ltZW50cyIsInJlbGF0aW9ucyIsImRhdGFfZ2l2ZW4iLCJkYXRhX3JlY2VpdmVkIiwicmV2ZW51ZXMiLCJleHBlbnNlcyIsIml0ZW1zU2hvd24iLCJjbG9uZSIsInNob3dNb3JlIiwibGVuZ3RoIiwic2hvd0xlc3MiLCJpc0RlZiIsIm9iaiIsInVuZGVmaW5lZCIsImVkaXRDdHJsIiwiJHRpbWVvdXQiLCJsb2NhdGlvblNlcnZpY2UiLCJpbml0Q2F0ZWdvcnlBcnJheSIsImNhdGVnb3J5IiwiY2F0ZWdvcnlJbmRleCIsImVudGl0eUNhdGVnb3J5SW5kZXgiLCJlbnRpdHlDYXRlZ29yeSIsImhhc093blByb3BlcnR5IiwiZWRpdEVudGl0eSIsImlzRWRpdGluZyIsImdldEVudGl0eU1vZGVsIiwiaW5mbHVlbmNlVHlwZXMiLCJnZXRJbmZsdWVuY2VUeXBlcyIsImNhdGVnb3J5QmFja3VwIiwiYWRkcmVzc1NlYXJjaCIsInNlYXJjaCIsImpzb25wIiwicGFyYW1zIiwicXVlcnkiLCJrZXkiLCJpbmNsdWRlIiwidGhlbiIsInJlc291cmNlU2V0cyIsInJlc291cmNlcyIsInRvZ2dsZUNhdGVnb3J5IiwiZm91bmQiLCJpc0xhc3QiLCJmb3JtYXR0ZWRBZGRyZXNzIiwiYXBpQ2FsbFJlc3VsdCIsInJlc3VsdCIsImFkZHJlc3MiLCJwb2ludCIsImFkZExvY2F0aW9uIiwiYWRkcmVzc19saW5lIiwiYWRkcmVzc0xpbmUiLCJkaXN0cmljdCIsImFkbWluRGlzdHJpY3QiLCJjb3VudHJ5IiwiY291bnRyeVJlZ2lvbiIsImNvdW50cnlfY29kZSIsImNvdW50cnlSZWdpb25Jc28yIiwiY29vcmRpbmF0ZXMiLCJwb3N0YWxfY29kZSIsInBvc3RhbENvZGUiLCJnZXRMb2NhdGlvbk1vZGVsIiwiYWRkS2V5UGVyc29uIiwic29tZSIsInNldEZ1bmRpbmdDb25uZWN0aW9uIiwiZnVuZGluZyIsImVudGl0eV9pZCIsImFkZEZ1bmRpbmdDb25uZWN0aW9uIiwiYW1vdW50IiwieWVhciIsInNldENvbm5lY3Rpb24iLCJjb25uZWN0aW9uIiwiYWRkQ29ubmVjdGlvbiIsImNvbm5lY3Rpb25zIiwiZGV0YWlscyIsImFkZEZpbmFuY2UiLCJyZWNvcmRzIiwiZXZlcnkiLCJyIiwic2F2ZSIsImlzU2F2aW5nIiwiZ2VuZXJhdGVEQk1vZGVsIiwicG9zdCIsIiRlbWl0IiwiY2FuY2VsRWRpdCIsImVycm9yIiwiaXNFcnJvciIsIm5ld1ZhbCIsIm9sZFZhbCIsImVxdWFscyIsImNvcHkiLCJlZGl0Q29udHJvbGxlckRlcHMiLCJDYXRlZ29yeVNlcnZpY2UiLCJvIiwiQ2F0ZWdvcnkiLCJkZWZPYmoiLCJlbmFibGUiLCJnZXRDYXRlZ29yeU1vZGVsIiwiY2F0ZWdvcnlTZXJ2aWNlRGVwZW5kZW5jaWVzIiwic2VydmljZSIsIkNvbm5lY3Rpb25zIiwiQ29ubmVjdGlvbiIsIm9iaklzRGVmIiwiZ2V0Q29ubmVjdGlvbk1vZGVsIiwiRnVuZGluZyIsIkRhdGEiLCJFbXBsb3ltZW50IiwiQ29sbGFib3JhdGlvbiIsIkVudGl0eVNlcnZpY2UiLCJmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2UiLCJmaW5hbmNlU2VydmljZSIsImNhdGVnb3J5U2VydmljZSIsImxvb3BBbmRJbml0IiwibW9kZWxBcnJheSIsImluaXRNb2RlbEZ1bmN0aW9uIiwiaXNBcnJheSIsImFycmF5SW5kZXgiLCJhcnJheVZhbHVlIiwibmV3TW9kZWxBcnJheSIsImlzT2JqZWN0IiwiRW50aXR5IiwiaW5mbHVlbmNlIiwiZ2V0RnVuZGluZ0Nvbm5lY3Rpb25Nb2RlbCIsImdldEZpbmFuY2VNb2RlbCIsIm5pY2tuYW1lIiwidXJsIiwidHdpdHRlcl9oYW5kbGUiLCJlbXBsb3llZXMiLCJkYk1vZGVsIiwicG9wIiwiZGVzY3JpcHRpb24iLCJHb3Zlcm5tZW50IiwiRm9yLVByb2ZpdCIsIk5vbi1Qcm9maXQiLCJJbmRpdmlkdWFsIiwiZW50aXR5U2VydmljZURlcGVuZGVuY2llcyIsIkZpbmFuY2VTZXJ2aWNlIiwiRmluYW5jZSIsIkZ1bmRpbmdDb25uZWN0aW9ucyIsIkZ1bmRpbmdDb25uZWN0aW9uIiwiZnVuZGluZ0Nvbm5lY3Rpb25TZXJ2aWNlRGVwZW5kZW5jaWVzIiwiTG9jYXRpb25TZXJ2aWNlIiwiTG9jYXRpb24iLCJ0cmltIiwibG9jYXRpb25TZXJ2aWNlRGVwZW5kZW5jaWVzIiwiZDMiLCJMIiwibWFwQ3RybCIsImxlYWZsZXREYXRhIiwiJGZpbHRlciIsIm9wdGlvbnMiLCJjZW50ZXIiLCJsYXQiLCJsbmciLCJ6b29tIiwidGlsZUxheWVyIiwidGlsZUxheWVyT3B0aW9ucyIsImRldGVjdFJldGluYSIsInJldXNlVGlsZXMiLCJ6b29tQ29udHJvbCIsImF0dHJpYnV0aW9uQ29udHJvbCIsImNyZWF0ZVBpZUNoYXJ0IiwicGllIiwibGF5b3V0Iiwic29ydCIsImQiLCJhcmMiLCJzdmciLCJvdXRlclJhZGl1cyIsImlubmVyUmFkaXVzIiwic3Ryb2tlV2lkdGgiLCJ3IiwiaCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwibnMiLCJwcmVmaXgiLCJ2aXMiLCJzZWxlY3QiLCJhdHRyIiwiYXJjcyIsInNlbGVjdEFsbCIsImVudGVyIiwiYXBwZW5kIiwidGV4dCIsImkiLCJjb3VudCIsInRvU3RyaW5nIiwiWE1MU2VyaWFsaXplciIsInNlcmlhbGl6ZVRvU3RyaW5nIiwieG1sIiwiZ2V0TWFwIiwiY2x1c3Rlckljb24iLCJjbHVzdGVyIiwiY2hpbGRyZW4iLCJnZXRBbGxDaGlsZE1hcmtlcnMiLCJ0b3RhbCIsImNsdXN0ZXJNYXJrZXJzIiwiY291bnRzIiwiY291bnRCeSIsImljb25EaW0iLCJodG1sIiwiRGl2SWNvbiIsImNsYXNzTmFtZSIsImljb25TaXplIiwib3V0ZXJMb29wIiwiaW5uZXJMb29wIiwibSIsIm1hcmtlciIsImljb24iLCJtYXJrZXJJY29uIiwidGl0bGUiLCJtZXNzYWdlIiwibWFya2VycyIsImFkZExheWVyIiwib25Mb2NhdGlvbkVycm9yIiwibGVhZmxldEVycm9yIiwiZmlsdGVyZWRFbnRpdGllcyIsImludmFsaWRhdGVTaXplIiwiQ29udHJvbCIsIlpvb20iLCJwb3NpdGlvbiIsImFkZFRvIiwiY29udHJvbCIsImxvY2F0ZSIsInNob3dQb3B1cCIsImljb25VcmwiLCJtYXJrZXJDbHVzdGVyR3JvdXAiLCJzcGlkZXJmeU9uTWF4Wm9vbSIsInNob3dDb3ZlcmFnZU9uSG92ZXIiLCJpY29uQ3JlYXRlRnVuY3Rpb24iLCJtYXhDbHVzdGVyUmFkaXVzIiwic3BpZGVyZnlEaXN0YW5jZU11bHRpcGxpZXIiLCJvbiIsImxheWVyIiwic2FmZUFwcGx5Iiwic2V0VmlldyIsIlJUUCIsIm5ldHdvcmtDdHJsIiwiaXNMb2FkaW5nIiwiZm4iLCJwaGFzZSIsIiRyb290IiwiJCRwaGFzZSIsIiRhcHBseSIsInRhcmdldFNjb3BlIiwiZmlsdGVyZWRDb25uZWN0aW9ucyIsInNvdXJjZU5vZGUiLCJzb3VyY2UiLCJ0YXJnZXROb2RlIiwidGFyZ2V0IiwidG9wNSIsInRha2VSaWdodCIsInNvcnRCeSIsIndlbGxjb25uZWN0ZWQiLCJlIiwiZHJhd05ldHdvcmtNb2JpbGUiLCJkcmF3TmV0d29yayIsImVudGl0eUFycmF5IiwibGlua3MiLCJ2YWx1ZXMiLCJjb2xvcnMiLCJmb2N1c2VkIiwidW5mb2N1c2VkIiwiY2FudmFzRm9yY2UiLCJ3aWR0aCIsImhlaWdodCIsIm9mZnNldHMiLCJpc0luc2lkZUNpcmNsZSIsIngiLCJ5IiwiY3giLCJjeSIsInJhZGl1cyIsImR4IiwiZHkiLCJzY2FsZSIsImZvbGxvd2VycyIsImYiLCJjYW52YXMiLCJjb250ZXh0Iiwibm9kZSIsImdldENvbnRleHQiLCJkZXZpY2VQaXhlbFJhdGlvIiwiYmFja2luZ1N0b3JlUmF0aW8iLCJ3ZWJraXRCYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwibW96QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyIsIm1zQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyIsIm9CYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwiYmFja2luZ1N0b3JlUGl4ZWxSYXRpbyIsInJhdGlvIiwiY2FudmFzRWwiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwibG9hZGluZyIsInNjYWxlem9vbSIsIm9YIiwib2Zmc2V0WCIsIm9ZIiwib2Zmc2V0WSIsInNob3dMaWNlbnNlIiwiZW50aXR5Rm91bmQiLCJrIiwiZm9jdXMiLCJ0aWNrIiwic2hvd0VudGl0aWVzIiwiaW5pdGlhbExvYWQiLCJkcmF3T25Ub3AiLCJhbGxOb2RlcyIsInBpbmNoWm9vbSIsImZvcmNlIiwic3RvcCIsIlBpbmNoWm9vbSIsImNsZWFyUmVjdCIsInN0cm9rZVN0eWxlIiwiaXNDb25UeXBlRGVmaW5lZCIsImlzRW50aXR5VGFyZ2V0VHlwZURlZmluZWQiLCJpc0VudGl0eVNvdXJjZVR5cGVEZWZpbmVkIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibWF4IiwibWluIiwibGluZVRvIiwic3Ryb2tlIiwiY2xvc2VQYXRoIiwiZW50aXR5TmFtZXMiLCJmaWxsU3R5bGUiLCJQSSIsImZpbGwiLCJsaW5lV2lkdGgiLCJmb250Iiwic3Ryb2tlVGV4dCIsInNpemUiLCJjaGFyZ2UiLCJsaW5rU3RyZW5ndGgiLCJsaW5rRGlzdGFuY2UiLCJzdGFydCIsImNvbm5lY3Rpb25BcnJheSIsInJlbW92ZSIsImJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm9mZnNldFNjYWxlIiwiZGVmYXVsdE5vZGVTaXplIiwibG93ZXJCb3VuZFJhZGl1cyIsInVwcGVyQm91bmRSYWRpdXMiLCJtYXhFbXBsb3llZXMiLCJlbCIsIm1heEZvbGxvd2VycyIsInNxcnQiLCJkb21haW4iLCJyYW5nZSIsImNhbGwiLCJkcmFnIiwiZ2V0Q29tcHV0ZWRUZXh0TGVuZ3RoIiwicGFyZW50Tm9kZSIsImdldEJCb3giLCJhbHBoYSIsInNwZWVkQW5pbWF0ZSIsInRpY2tzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicmVuZGVyIiwibGlua2VkQnlJbmRleCIsImwiLCJfX2RhdGFfXyIsImluZGV4IiwiaG92ZXJUaW1lciIsIm5laWdoYm9yaW5nIiwiYiIsImZvY3VzbmVpZ2hib3JzIiwiY2xhc3NlZCIsIm4iLCJ1bmZvY3VzIiwiZml4ZWQiLCJyZXN1bWUiLCJob3ZlciIsInVuaG92ZXIiLCJjbGVhclRpbWVvdXQiLCJmb2N1c0xvY2F0aW9uIiwidW5mb2N1c0xvY2F0aW9uIiwiaGlnaGxpZ2h0TG9jYXRpb24iLCJzdG9wUHJvcGFnYXRpb24iLCJiYWNrZ3JvdW5kY2xpY2siLCJkYmxjbGljayIsInB4IiwicHkiLCJ0cmFuc2l0aW9uIiwiZHVyYXRpb24iLCJ2YWwiLCJ2aXNpYmxlIiwiaGlkZGVuIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFVQSxHQUVOLFlBRUEsSUFBSUMsSUFDQSxlQUNBLG9CQUNBLFlBR0pELEdBQVFFLE9BQU8sY0FBZUQsSUFFL0JEO0NDUEgsU0FBV0EsR0FFUCxZQUlBLFNBQVNHLEtBQ0wsT0FDSUMsWUFBYSw4QkFDYkMsU0FBYSxJQUNiQyxTQUNBQyxXQUFlLGlCQVB2QixHQUFJQyxJQUF5QkwsRUFXN0JILEdBQVFFLE9BQU8sZUFDVk8sVUFBVSxZQUFhRCxJQUU3QlI7Q0Nu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QU9wVCxRQUM3QmhHLEVBQU80QyxZQUFZMGQsRUFBRWhILE9BQU90VCxhQU1wRWhHLEVBQU82RyxJQUFJLGFBQWMsU0FBVUMsRUFBT2QsR0FDdENtTyxFQUNLYyxVQUFVLElBQU1qUCxFQUFLRCxLQUFPLFNBQzVCOGEsU0FBU21CLFFBQVdoYyxFQUFLa0QsUUFBUytZLFFBQVdqYyxFQUFLa0QsVUFFdkRpTCxFQUNLYyxVQUFVLElBQU1qUCxFQUFLRCxLQUFPLFNBQzVCOGEsU0FDWW1CLFFBQVcsU0FBVTFCLEdBR2pCLE1BQU90Z0IsR0FBTzhDLGdCQUFnQndkLEVBQUV0YSxPQUNyQmhHLEVBQU80QyxZQUFZMGQsRUFBRWxILE9BQU9wVCxPQUM3QmhHLEVBQU80QyxZQUFZMGQsRUFBRWhILE9BQU90VCxPQUUxQ2ljLE9BQVcsU0FBVTNCLEdBR2pCLE9BQVF0Z0IsRUFBTzhDLGdCQUFnQndkLEVBQUV0YSxRQUNyQmhHLEVBQU80QyxZQUFZMGQsRUFBRWxILE9BQU9wVCxRQUM3QmhHLEVBQU80QyxZQUFZMGQsRUFBRWhILE9BQU90VCxXQU1oRWhHLEVBQU82RyxJQUFJLGFBQWMsU0FBVUMsRUFBT0YsR0FDcEIsYUFBZEEsRUFBS1osS0FDTHViLEVBQWtCdmhCLEVBQU9tQyxpQkFHekI3QyxFQUFNVSxFQUFPK0Qsa0JBOXlCN0IsR0FBSXNELElBQ0EsU0FDQSxRQUNBLElBQ0EsVUFDQXFSLEVBK3lCSi9hLEdBQVFFLE9BQU8sZUFDVkssV0FBVyxjQUFlbUosSUFFaEMxSixRQUFTOGEiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbihhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgbWFpbkRlcGVuZGVuY2llcyA9IFtcbiAgICAgICAgJ3VpLmJvb3RzdHJhcCcsXG4gICAgICAgICdsZWFmbGV0LWRpcmVjdGl2ZScsXG4gICAgICAgICduZ0FuaW1hdGUnXG4gICAgXTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcsIG1haW5EZXBlbmRlbmNpZXMpO1xuXG59KShhbmd1bGFyKTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNy8xLzE2LlxuICovXG5cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgYW5hbHl0aWNzRGVwZW5kZW5jaWVzID0gW2FuYWx5dGljc0RpcmVjdGl2ZV07XG5cbiAgICBmdW5jdGlvbiBhbmFseXRpY3NEaXJlY3RpdmUoKXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2pzL2FuYWx5dGljL2FuYWx5dGljcy5odG1sJyxcbiAgICAgICAgICAgIHJlc3RyaWN0ICAgOiAnRScsXG4gICAgICAgICAgICBzY29wZSAgICAgIDoge30sXG4gICAgICAgICAgICBjb250cm9sbGVyICAgOiAnYW5hbHl0aWNzQ3RybCdcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuZGlyZWN0aXZlKCdhbmFseXRpY3MnLCBhbmFseXRpY3NEZXBlbmRlbmNpZXMpO1xuXG59KShhbmd1bGFyKTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNy8xMC8xNi5cbiAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBjb250cm9sRGVwZW5kZW5jaWVzID0gW2NvbnRyb2xEaXJlY3RpdmVdO1xuXG4gICAgZnVuY3Rpb24gY29udHJvbERpcmVjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2pzL2NvbnRyb2wvY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICByZXN0cmljdCAgIDogJ0UnLFxuICAgICAgICAgICAgc2NvcGUgICAgICA6IHtcbiAgICAgICAgICAgICAgICB0b2dnbGVOZXR3b3JrIDogJz0nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgICA6ICdjb250cm9sQ3RybCcsXG4gICAgICAgICAgICBjb250cm9sbGVyQXMgOiAnY29udHJvbCcsXG4gICAgICAgICAgICBiaW5kVG9Db250cm9sbGVyIDoge1xuICAgICAgICAgICAgICAgIG1pbkNvbm5lY3Rpb25zIDogXCI9XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuZGlyZWN0aXZlKCdjb250cm9sJywgY29udHJvbERlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiLyoqXG4gKlxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNi8yNy8xNi5cbiAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBlZGl0RW50aXR5RGVwZW5kZW5jaWVzID0gW2VkaXRFbnRpdHlEaXJlY3RpdmVdO1xuXG4gICAgZnVuY3Rpb24gZWRpdEVudGl0eURpcmVjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2pzL2VkaXQtZW50aXR5L2VkaXQuaHRtbCcsXG4gICAgICAgICAgICByZXN0cmljdCAgIDogJ0UnLFxuICAgICAgICAgICAgc2NvcGUgICAgICA6IHtcbiAgICAgICAgICAgICAgICAnZW50aXR5JyAgOiBcIj1cIixcbiAgICAgICAgICAgICAgICAnZW50aXRpZXMnOiBcIj1cIixcbiAgICAgICAgICAgICAgICAnaXNPcGVuJyAgOiBcIj1cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiAnZWRpdEN0cmwnXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnZWRpdEVudGl0eScsIGVkaXRFbnRpdHlEZXBlbmRlbmNpZXMpO1xuXG59KShhbmd1bGFyKTtcblxuXG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIsICQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGZ1bmN0aW9uIGxpbmtGdW5jdGlvbihzY29wZSkge1xuXG4gICAgICAgIGZ1bmN0aW9uIHNjcm9sbCgpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gJCh0aGlzKTtcbiAgICAgICAgICAgIHNlbGYuY3NzKCdoZWlnaHQnLCAnNTV2aCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY2xpY2soKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9ICQodGhpcyk7XG4gICAgICAgICAgICBpZiAod2luZG93LmlubmVySGVpZ2h0IC8gMyA+IHBhcnNlSW50KHNlbGYuY3NzKCdoZWlnaHQnKSkpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmNzcygnaGVpZ2h0JywgJzU1dmgnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VsZi5jc3MoJ2hlaWdodCcsICczMHZoJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGV0YWlsc1BhbmVsO1xuICAgICAgICBpZiAoc2NvcGUubW9iaWxlKSB7XG4gICAgICAgICAgICBkZXRhaWxzUGFuZWwgPSAkKFwiI2RldGFpbHMtcGFuZWxcIik7XG4gICAgICAgICAgICBkZXRhaWxzUGFuZWwuY3NzKFwiaGVpZ2h0XCIsIFwiMzB2aFwiKTtcbiAgICAgICAgICAgIGRldGFpbHNQYW5lbC5zY3JvbGxUb3AoMCk7XG4gICAgICAgICAgICBkZXRhaWxzUGFuZWwuc2Nyb2xsKHNjcm9sbCk7XG4gICAgICAgICAgICBkZXRhaWxzUGFuZWwuY2xpY2soY2xpY2spO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkTW9iaWxlRXZlbnRzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIGxpbms6IGxpbmtGdW5jdGlvblxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2FkZE1vYmlsZUV2ZW50cycsIFthZGRNb2JpbGVFdmVudHNdKTtcbn0pKGFuZ3VsYXIsICQpO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGZ1bmN0aW9uIG1vZGFsQ3RybCgkc2NvcGUsICRtb2RhbEluc3RhbmNlKSB7XG4gICAgICAgICRzY29wZS5jbG9zZVdpbmRvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRtb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ21vZGFsQ3RybCcsIFsnJHNjb3BlJywgJyRtb2RhbEluc3RhbmNlJywgbW9kYWxDdHJsXSk7XG5cbn0pKGFuZ3VsYXIpOyIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmNvbnN0YW50KCdfJywgd2luZG93Ll8pXG4gICAgICAgIC5jb25maWcoWyckbG9jYXRpb25Qcm92aWRlcicsICckaHR0cFByb3ZpZGVyJywgJyRjb21waWxlUHJvdmlkZXInLFxuICAgICAgICAgICAgZnVuY3Rpb24gKCRsb2NhdGlvblByb3ZpZGVyLCAkaHR0cFByb3ZpZGVyLCAkY29tcGlsZVByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xuICAgICAgICAgICAgICAgICRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtUmVxdWVzdGVkLVdpdGgnXSA9ICdYTUxIdHRwUmVxdWVzdCc7XG4gICAgICAgICAgICAgICAgLy8gJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnRXZlbnQtTmFtZSddID0gJ1Rlc3RfRXZlbnQnO1xuICAgICAgICAgICAgICAgICRjb21waWxlUHJvdmlkZXIuZGVidWdJbmZvRW5hYmxlZCh0cnVlKTtcbiAgICAgICAgICAgIH1dKVxuICAgICAgICAuZmlsdGVyKCd0aG91c2FuZFN1ZmZpeCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoaW5wdXQsIGRlY2ltYWxzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV4cCxcbiAgICAgICAgICAgICAgICAgICAgc3VmZml4ZXMgPSBbJ2snLCAnTScsICdHJywgJ1QnLCAnUCcsICdFJ107XG5cbiAgICAgICAgICAgICAgICBpZiAod2luZG93LmlzTmFOKGlucHV0KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPCAxMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBleHAgPSBNYXRoLmZsb29yKE1hdGgubG9nKGlucHV0KSAvIE1hdGgubG9nKDEwMDApKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiAoaW5wdXQgLyBNYXRoLnBvdygxMDAwLCBleHApKS50b0ZpeGVkKGRlY2ltYWxzKSArIHN1ZmZpeGVzW2V4cCAtIDFdO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgaG9tZURlcGVuZGVuY2llcyA9IFtcbiAgICAgICAgJyRzY29wZScsXG4gICAgICAgICckaHR0cCcsXG4gICAgICAgICdfJyxcbiAgICAgICAgJ2VudGl0eVNlcnZpY2UnLFxuICAgICAgICAnY29ubmVjdGlvblNlcnZpY2UnLFxuICAgICAgICBob21lQ3RybFxuICAgIF07XG5cbiAgICBmdW5jdGlvbiBob21lQ3RybCgkc2NvcGUsICRodHRwLCBfLCBlbnRpdHlTZXJ2aWNlLCBjb25uZWN0aW9uU2VydmljZSkge1xuICAgICAgICAkc2NvcGUucmFuZG9tICAgICAgICAgICAgICAgICAgID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICRzY29wZS5lbnRpdGllcyAgICAgICAgICAgICAgICAgPSBbXTtcbiAgICAgICAgJHNjb3BlLnNlYXJjaEl0ZW1zICAgICAgICAgICAgICA9IG51bGw7XG4gICAgICAgICRzY29wZS5jYXRlZ29yaWVzICAgICAgICAgICAgICAgPSBbXTtcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRMb2NhdGlvbiAgICAgICAgICA9IG51bGw7XG4gICAgICAgICRzY29wZS5jbGlja2VkTG9jYXRpb24gICAgICAgICAgPSB7fTtcbiAgICAgICAgJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbiA9IG51bGw7XG4gICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5ICAgICAgICAgICAgPSB7fTtcbiAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ICAgICA9IG51bGw7XG4gICAgICAgICRzY29wZS5lZGl0aW5nICAgICAgICAgICAgICAgICAgPSBmYWxzZTtcbiAgICAgICAgJHNjb3BlLmFjdGlvbnMgICAgICAgICAgICAgICAgICA9IHsnaW50ZXJhY3RlZCc6IGZhbHNlfTtcbiAgICAgICAgJHNjb3BlLnNob3dzZWFyY2hNQiAgICAgICAgICAgICA9IGZhbHNlO1xuICAgICAgICAkc2NvcGUuc2hvd0FuYWx5dGljcyAgICAgICAgICAgID0gZmFsc2U7XG4gICAgICAgICRzY29wZS5lbnRpdHlUeXBlcyAgICAgICAgICAgICAgPSBlbnRpdHlTZXJ2aWNlLmdldEVudGl0eVR5cGVzKCk7XG4gICAgICAgICRzY29wZS5jb25uZWN0aW9uVHlwZXMgICAgICAgICAgPSBjb25uZWN0aW9uU2VydmljZS5nZXRDb25uZWN0aW9uVHlwZXMoKTtcbiAgICAgICAgJHNjb3BlLnN0YXR1cyAgICAgICAgICAgICAgICAgICA9IHtcbiAgICAgICAgICAgIFwiaXNOZXR3b3JrU2hvd25cIjogdHJ1ZSxcbiAgICAgICAgICAgIFwibGljZW5zZVwiICAgICAgIDogdHJ1ZSxcbiAgICAgICAgICAgIFwibmV0d29ya0xvYWRpbmdcIjogdHJ1ZVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS50b2dnbGVBbmFseXRpY3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2hvd0FuYWx5dGljcyA9ICEkc2NvcGUuc2hvd0FuYWx5dGljcztcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm1pbkNvbm5lY3Rpb25zID0gJHNjb3BlLm1pbkNvbm5lY3Rpb25zID0gMjtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ21pbkNvbm5lY3Rpb25zJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnZW50aXRpZXNMb2FkZWQnKTtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICAkc2NvcGUuY29ubmVjdGlvbkNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHNlbGYubWluQ29ubmVjdGlvbnMpO1xuICAgICAgICAgICAgJHNjb3BlLm1pbkNvbm5lY3Rpb25zID0gc2VsZi5taW5Db25uZWN0aW9ucztcbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdlbnRpdGllc0xvYWRlZCcpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5oeWRlUGFydGlhbHMgPSBmdW5jdGlvbiAoZXhjZXB0KSB7XG4gICAgICAgICAgICBpZiAoZXhjZXB0ID09PSBcInNlYXJjaFwiKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmVkaXRpbmcgICAgICAgICA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zZXR0aW5nc0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhjZXB0ID09PSBcInNldHRpbmdzXCIpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdGluZyAgICAgID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dzZWFyY2hNQiA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChleGNlcHQgPT09IFwiZWRpdFwiKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zaG93c2VhcmNoTUIgICAgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmVkaXRpbmcgICAgICAgICA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zZXR0aW5nc0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd3NlYXJjaE1CICAgID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2hvd1NlYXJjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRzY29wZS5oeWRlUGFydGlhbHMoXCJzZWFyY2hcIik7XG4gICAgICAgICAgICAkc2NvcGUuc2hvd3NlYXJjaE1CICAgPSAkc2NvcGUuc2hvd3NlYXJjaE1CID8gZmFsc2UgOiB0cnVlO1xuICAgICAgICAgICAgLy8gJHNjb3BlLiRicm9hZGNhc3QoJ2hpZGVMaWNlbnNlJyk7XG4gICAgICAgICAgICAkc2NvcGUuc3RhdHVzLmxpY2Vuc2UgPSBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUudG9nZ2xlU2V0dGluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkc2NvcGUuaHlkZVBhcnRpYWxzKFwic2V0dGluZ3NcIik7XG4gICAgICAgICAgICAkc2NvcGUuc2V0dGluZ3NFbmFibGVkID0gISRzY29wZS5zZXR0aW5nc0VuYWJsZWQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnN0YXJ0RWRpdCA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50RW50aXR5ID0gZW50aXR5O1xuICAgICAgICAgICAgaWYgKCRzY29wZS5tb2JpbGUpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHlkZVBhcnRpYWxzKFwiZWRpdFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS5lZGl0aW5nID0gdHJ1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc3dpdGNoVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRzY29wZS5jaGFuZ2VWaWV3KCRzY29wZS5zdGF0dXMuaXNOZXR3b3JrU2hvd24gPyAnTWFwJyA6ICdOZXR3b3JrJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgd2luZG93Lm1vYmlsZWNoZWNrICAgICA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjaGVjayAgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICByZWdleCAgPSAvKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vL2ksXG4gICAgICAgICAgICAgICAgcmVnZXgyID0gLzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2k7XG4gICAgICAgICAgICAoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVnZXgudGVzdChhKSB8fCByZWdleDIudGVzdChhLnN1YnN0cigwLCA0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKG5hdmlnYXRvci51c2VyQWdlbnQgfHwgbmF2aWdhdG9yLnZlbmRvciB8fCB3aW5kb3cub3BlcmEpO1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUubW9iaWxlICAgICAgICAgID0gd2luZG93Lm1vYmlsZWNoZWNrKCk7XG4gICAgICAgICRzY29wZS5zZXR0aW5nc0VuYWJsZWQgPSAhJHNjb3BlLm1vYmlsZTtcblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRodHRwLmdldCgnYXBpL2VudGl0aWVzJylcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZW50aXRpZXMgPSBkYXRhLm5vZGVzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb25zICAgPSBfLnVuaXEoXG4gICAgICAgICAgICAgICAgICAgICAgICBfLnBsdWNrKF8uZmxhdHRlbihfLnBsdWNrKCRzY29wZS5lbnRpdGllcywgJ2xvY2F0aW9ucycpKSwgJ2xvY2FsaXR5JykpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbnRpdGllc0J5TG9jYXRpb24gPSBfLm1hcChsb2NhdGlvbnMsIGZ1bmN0aW9uIChsb2MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaW5kaW5ncyA9IF8uZmlsdGVyKCRzY29wZS5lbnRpdGllcywgXy5mbG93KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ucHJvcGVydHkoJ2xvY2F0aW9ucycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ucGFydGlhbFJpZ2h0KF8uYW55LCB7bG9jYWxpdHk6IGxvY30pXG4gICAgICAgICAgICAgICAgICAgICAgICApKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lICAgIDogbG9jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgICAgOiAnbG9jYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0aWVzOiBmaW5kaW5ncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWN0ICAgIDogXy56aXBPYmplY3QoXy5wbHVjayhmaW5kaW5ncywgJ25hbWUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5wbHVjayhmaW5kaW5ncywgJ2luZGV4JykpXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2VhcmNoSXRlbXMgPSBlbnRpdGllc0J5TG9jYXRpb24uY29uY2F0KCRzY29wZS5lbnRpdGllcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKCRzY29wZS5nZXRVUkxJRCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyBTZXQgdGhlIGVudGl0eSB0byB0aGUgSUQgaW4gdGhlIFVSTCBpZiBpdCBleGlzdHMuXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAkc2NvcGUuc2V0RW50aXR5SUQoJHNjb3BlLmdldFVSTElEKCkpO1xuICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5vdmVydmlld1VybCA9ICdqcy9vdmVydmlldy9vdmVydmlldy5odG1sP2k9JyArICRzY29wZS5yYW5kb207XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdlbnRpdGllc0xvYWRlZCcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCAxMDApO1xuXG4gICAgICAgICRzY29wZS5vdmVydmlld1VybCA9IG51bGw7XG5cbiAgICAgICAgJHNjb3BlLnNldEVudGl0eSAgID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRMb2NhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudEVudGl0eSAgID0gZW50aXR5O1xuICAgICAgICAgICAgaWYgKCRzY29wZS5lZGl0aW5nKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0b3BFZGl0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnZW50aXR5Q2hhbmdlJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnNldEVudGl0eUlEID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2V0RW50aXR5KF8uZmluZCgkc2NvcGUuZW50aXRpZXMsIHsnaWQnOiBpZH0pKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2V0TG9jYXRpb24gPSBmdW5jdGlvbiAobG9jYXRpb24pIHtcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50TG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgICAgIGlmICgkc2NvcGUuZWRpdGluZykge1xuICAgICAgICAgICAgICAgICRzY29wZS5zdG9wRWRpdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ2l0ZW1DaGFuZ2UnKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2VsZWN0SXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbG9jYXRpb24nKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNldExvY2F0aW9uKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlW2l0ZW0gJSAxID09PSAwID8gJ3NldEVudGl0eUlEJyA6ICdzZXRFbnRpdHknXShpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdzZWxlY3RJdGVtJywgaXRlbSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLiRvbignc2V0Q3VycmVudEVudGl0eScsIGZ1bmN0aW9uIChldmVudCwgYXJncykge1xuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRFbnRpdHkgPSBhcmdzLnZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICAkc2NvcGUuJG9uKCdzZXRDdXJyZW50TG9jYXRpb24nLCBmdW5jdGlvbiAoZXZlbnQsIGFyZ3MpIHtcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50TG9jYXRpb24gPSBhcmdzLnZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICAkc2NvcGUuc2V0RW50aXRpZXMgPSBmdW5jdGlvbiAoZW50aXRpZXMpIHtcbiAgICAgICAgICAgICRzY29wZS5lbnRpdGllcyA9IGVudGl0aWVzO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zdG9wRWRpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRzY29wZS5lZGl0aW5nID0gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLiRvbihcImVkaXRFbnRpdHlTdWNjZXNzXCIsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgJHNjb3BlLnNldEVudGl0aWVzKHJlc3BvbnNlLm5vZGVzKTtcbiAgICAgICAgICAgIC8vICRzY29wZS5zZXRFbnRpdHlJRCgkc2NvcGUuY3VycmVudEVudGl0eS5pZCk7XG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnZW50aXRpZXNMb2FkZWQnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLmFuaW1hdGlvbnNFbmFibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuY29udHJvbGxlcignaG9tZUN0cmwnLCBob21lRGVwZW5kZW5jaWVzKTtcblxufSkoYW5ndWxhcik7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDcvMTQvMTYuXG4gKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgZGVwZW5kZW5jaWVzID0gW107XG5cbiAgICBmdW5jdGlvbiBkaXJlY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBcInJlc3RyaWN0XCI6IFwiRVwiLFxuICAgICAgICAgICAgXCJ0ZW1wbGF0ZVVybFwiOiBcIi9tYXAvbWFwLmh0bWxcIixcbiAgICAgICAgICAgIFwiY29udHJvbGxlclwiOiBcIm1hcEN0cmxcIlxuICAgICAgICB9O1xuICAgIH1cbiAgICAgICAgYW5ndWxhci5tb2R1bGUoXCJjaXZpYy1ncmFwaFwiKVxuICAgICAgICAgICAgLmRpcmVjdGl2ZShcIm1hcFwiLCBkZXBlbmRlbmNpZXMpO1xuXG59KShhbmd1bGFyKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDcvMTEvMTYuXG4gKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgZGVwZW5kZW5jaWVzID0gW1xuICAgICAgICBkaXJlY3RpdmVcbiAgICBdO1xuXG4gICAgZnVuY3Rpb24gZGlyZWN0aXZlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgXCJyZXN0cmljdFwiOiBcIkVcIixcbiAgICAgICAgICAgIFwidGVtcGxhdGVVcmxcIjogXCIvanMvbmV0d29yay9uZXR3b3JrLmh0bWxcIixcbiAgICAgICAgICAgIFwiY29udHJvbGxlclwiOiBcIm5ldHdvcmtDdHJsXCJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImNpdmljLWdyYXBoXCIpXG4gICAgICAgIC5kaXJlY3RpdmUoXCJuZXR3b3JrXCIsIGRlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI2LzE2LlxuICovXG4oZnVuY3Rpb24oYW5ndWxhcikge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2lucHV0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdGljdDogJ0UnLFxuICAgICAgICAgICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xuICAgICAgICAgICAgICAgIGlmICggJ3R5cGUnIGluIGF0dHJzICYmIGF0dHJzLnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ3JhbmdlJyApIHtcbiAgICAgICAgICAgICAgICAgICAgbmdNb2RlbC4kcGFyc2Vycy5wdXNoKHBhcnNlRmxvYXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcbn0pKGFuZ3VsYXIpOyIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZnVuY3Rpb24gb3ZlcnZpZXdDdHJsKCRzY29wZSwgXykge1xuICAgICAgICAkc2NvcGUuY2F0ZWdvcml6ZWRFbnRpdGllcyA9IHt9O1xuICAgICAgICBfLmZvckVhY2goXy5rZXlzKCRzY29wZS5lbnRpdHlUeXBlcyksIGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAkc2NvcGUuY2F0ZWdvcml6ZWRFbnRpdGllc1t0eXBlXSA9IF8uZmlsdGVyKCRzY29wZS5lbnRpdGllcywgeyd0eXBlJzogdHlwZX0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuY29udHJvbGxlcignb3ZlcnZpZXdDdHJsJywgWyckc2NvcGUnLCAnXycsIG92ZXJ2aWV3Q3RybF0pO1xufSkoYW5ndWxhcik7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDcvMS8xNi5cbiAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGZ1bmN0aW9uIGFuYWx5dGljc0N0cmwoJHNjb3BlKSB7XG5cbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuY29udHJvbGxlcignYW5hbHl0aWNzQ3RybCcsIFsnJHNjb3BlJywgYW5hbHl0aWNzQ3RybF0pO1xufSkoYW5ndWxhcik7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA3LzEwLzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGNvbnRyb2xEZXBzID0gW1xuICAgICAgICAnZW50aXR5U2VydmljZScsXG4gICAgICAgICdjb25uZWN0aW9uU2VydmljZScsXG4gICAgICAgICckcm9vdFNjb3BlJyxcbiAgICAgICAgJ18nLFxuICAgICAgICAnJG1vZGFsJyxcbiAgICAgICAgY29udHJvbEN0cmxcbiAgICBdO1xuXG4gICAgZnVuY3Rpb24gY29udHJvbEN0cmwoZW50aXR5U2VydmljZSwgY29ubmVjdGlvblNlcnZpY2UsICRyb290U2NvcGUsIF8sICRtb2RhbCkge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuICAgICAgICB2bS5lbnRpdHlUeXBlcyA9IGVudGl0eVNlcnZpY2UuZ2V0RW50aXR5VHlwZXMoKTtcbiAgICAgICAgdm0uY29ubmVjdGlvblR5cGVzID0gY29ubmVjdGlvblNlcnZpY2UuZ2V0Q29ubmVjdGlvblR5cGVzKCk7XG4gICAgICAgIHZtLnNpemVCeUxpc3QgPSBbXG4gICAgICAgICAgICB7J25hbWUnOiAnRW1wbG95ZWVzJywgJ3ZhbHVlJzogJ2VtcGxveWVlcyd9LFxuICAgICAgICAgICAgeyduYW1lJzogJ1R3aXR0ZXIgRm9sbG93ZXJzJywgJ3ZhbHVlJzogJ2ZvbGxvd2Vycyd9XG4gICAgICAgIF07XG4gICAgICAgIHZtLnNpemVCeSA9ICdlbXBsb3llZXMnO1xuICAgICAgICB2bS5zaG93VmlldyA9IHtcbiAgICAgICAgICAgICdOZXR3b3JrJzogdHJ1ZSxcbiAgICAgICAgICAgICdNYXAnOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICB2bS5jaGFuZ2VWaWV3ID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgICAgICAgICAgIF8uZm9yRWFjaChfLmtleXModm0uc2hvd1ZpZXcpLCBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIHZtLnNob3dWaWV3W25hbWVdID0gdmlldyA9PT0gbmFtZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCd2aWV3Q2hhbmdlJyk7XG4gICAgICAgIH07XG4gICAgICAgIHZtLnNob3dBYm91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRtb2RhbC5vcGVuKHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29udHJvbC9hYm91dC5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbW9kYWxDdHJsJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHZtLnRvZ2dsZU5vZGUgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCd0b2dnbGVOb2RlJywgeyduYW1lJzogdHlwZSwgJ2VuYWJsZWQnOiB2bS5lbnRpdHlUeXBlc1t0eXBlXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHZtLnRvZ2dsZUxpbmsgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCd0b2dnbGVMaW5rJywgeyduYW1lJzogdHlwZSwgJ2VuYWJsZWQnOiB2bS5jb25uZWN0aW9uVHlwZXNbdHlwZV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB2bS5jaGFuZ2VTaXplQnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2NoYW5nZVNpemVCeScsIHZtLnNpemVCeSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2NvbnRyb2xDdHJsJywgY29udHJvbERlcHMpO1xuXG59KShhbmd1bGFyKTtcbiIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZnVuY3Rpb24gZGV0YWlsc0N0cmwoJHNjb3BlLCBfKSB7XG4gICAgICAgICRzY29wZS5pdGVtc1Nob3duRGVmYXVsdCA9IHtcbiAgICAgICAgICAgICdrZXlfcGVvcGxlJzogMyxcbiAgICAgICAgICAgICdncmFudHNfZ2l2ZW4nOiAzLFxuICAgICAgICAgICAgJ2dyYW50c19yZWNlaXZlZCc6IDMsXG4gICAgICAgICAgICAnaW52ZXN0bWVudHNfbWFkZSc6IDMsXG4gICAgICAgICAgICAnaW52ZXN0bWVudHNfcmVjZWl2ZWQnOiAzLFxuICAgICAgICAgICAgJ2NvbGxhYm9yYXRpb25zJzogMyxcbiAgICAgICAgICAgICdlbXBsb3ltZW50cyc6IDMsXG4gICAgICAgICAgICAncmVsYXRpb25zJzogMyxcbiAgICAgICAgICAgICdkYXRhX2dpdmVuJzogMyxcbiAgICAgICAgICAgICdkYXRhX3JlY2VpdmVkJzogMyxcbiAgICAgICAgICAgICdyZXZlbnVlcyc6IDMsXG4gICAgICAgICAgICAnZXhwZW5zZXMnOiAzXG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLml0ZW1zU2hvd24gPSBfLmNsb25lKCRzY29wZS5pdGVtc1Nob3duRGVmYXVsdCk7XG5cbiAgICAgICAgJHNjb3BlLiRvbignZW50aXR5Q2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gUmVzZXQgaXRlbXMgc2hvd24gaW4gZGV0YWlscyBsaXN0LlxuICAgICAgICAgICAgJHNjb3BlLml0ZW1zU2hvd24gPSBfLmNsb25lKCRzY29wZS5pdGVtc1Nob3duRGVmYXVsdCk7XG4gICAgICAgIH0pO1xuICAgICAgICAkc2NvcGUuc2hvd01vcmUgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgJHNjb3BlLml0ZW1zU2hvd25bdHlwZV0gPSAkc2NvcGUuY3VycmVudEVudGl0eVt0eXBlXS5sZW5ndGg7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5zaG93TGVzcyA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAkc2NvcGUuaXRlbXNTaG93blt0eXBlXSA9ICRzY29wZS5pdGVtc1Nob3duRGVmYXVsdFt0eXBlXTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuY29udHJvbGxlcignZGV0YWlsc0N0cmwnLCBbJyRzY29wZScsIFwiX1wiLCBkZXRhaWxzQ3RybF0pO1xufSkoYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBlZGl0Q29udHJvbGxlckRlcHMgPSBbXG4gICAgICAgICckc2NvcGUnLFxuICAgICAgICAnJGh0dHAnLFxuICAgICAgICAnJHRpbWVvdXQnLFxuICAgICAgICAnXycsXG4gICAgICAgICdlbnRpdHlTZXJ2aWNlJyxcbiAgICAgICAgJ2xvY2F0aW9uU2VydmljZScsXG4gICAgICAgIGVkaXRDdHJsXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIGlzRGVmKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICE9PSB1bmRlZmluZWQgJiYgb2JqICE9PSBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGVkaXRDdHJsKCRzY29wZSwgJGh0dHAsICR0aW1lb3V0LCBfLCBlbnRpdHlTZXJ2aWNlLCBsb2NhdGlvblNlcnZpY2UpIHtcbiAgICAgICAgJHNjb3BlLmlzRWRpdGluZyA9IGZhbHNlO1xuICAgICAgICAkc2NvcGUuZWRpdEVudGl0eSA9IGVudGl0eVNlcnZpY2UuZ2V0RW50aXR5TW9kZWwoJHNjb3BlLmVudGl0eSk7XG4gICAgICAgICRzY29wZS5lbnRpdHlUeXBlcyA9IGVudGl0eVNlcnZpY2UuZ2V0RW50aXR5VHlwZXMoKTtcbiAgICAgICAgJHNjb3BlLmluZmx1ZW5jZVR5cGVzID0gZW50aXR5U2VydmljZS5nZXRJbmZsdWVuY2VUeXBlcygpO1xuXG4gICAgICAgIHZhciBjYXRlZ29yeUJhY2t1cDtcblxuICAgICAgICAkc2NvcGUuY2F0ZWdvcmllcyA9IFtdO1xuXG4gICAgICAgICRzY29wZS5hZGRyZXNzU2VhcmNoID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmpzb25wKCdodHRwczovL2Rldi52aXJ0dWFsZWFydGgubmV0L1JFU1QvdjEvTG9jYXRpb25zJywge1xuICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICBxdWVyeTogc2VhcmNoLFxuICAgICAgICAgICAgICAgICAgICBrZXk6ICdBaTU4NTgxeUMtU3I3bWNGYllUdFVrUzNpeEU3ZjZadUpuYkZKQ1ZJNGhBdFcxWG9ERWVaeWlkUXoyZ0xDQ3lEJyxcbiAgICAgICAgICAgICAgICAgICAgJ2pzb25wJzogJ0pTT05fQ0FMTEJBQ0snLFxuICAgICAgICAgICAgICAgICAgICAnaW5jbHVkZSc6ICdjaXNvMidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNEZWYocmVzcG9uc2UuZGF0YS5yZXNvdXJjZVNldHMpICYmIHJlc3BvbnNlLmRhdGEucmVzb3VyY2VTZXRzLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgICAgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5yZXNvdXJjZVNldHNbMF0ucmVzb3VyY2VzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnRvZ2dsZUNhdGVnb3J5ID0gZnVuY3Rpb24gKGNhdGVnb3J5KSB7XG4gICAgICAgICAgICBpZiAoJHNjb3BlLmVkaXRFbnRpdHkuY2F0ZWdvcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdEVudGl0eS5jYXRlZ29yaWVzLnB1c2goY2F0ZWdvcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjYXRlZ29yeUluZGV4IGluICRzY29wZS5lZGl0RW50aXR5LmNhdGVnb3JpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuZWRpdEVudGl0eS5jYXRlZ29yaWVzLmhhc093blByb3BlcnR5KGNhdGVnb3J5SW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgZW50aXR5Q2F0ZWdvcnkgPSAkc2NvcGUuZWRpdEVudGl0eS5jYXRlZ29yaWVzW2NhdGVnb3J5SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW50aXR5Q2F0ZWdvcnkuaWQgPT09IGNhdGVnb3J5LmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHlDYXRlZ29yeS5lbmFibGVkID0gY2F0ZWdvcnkuZW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVkaXRFbnRpdHkuY2F0ZWdvcmllcy5wdXNoKGNhdGVnb3J5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnNldExvY2F0aW9uID0gZnVuY3Rpb24gKGxvY2F0aW9uLCBpc0xhc3QpIHtcbiAgICAgICAgICAgICRzY29wZS5hZGRyZXNzU2VhcmNoKGxvY2F0aW9uLmZvcm1hdHRlZEFkZHJlc3MpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGFwaUNhbGxSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGFwaUNhbGxSZXN1bHRbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzID0gcmVzdWx0LmFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludCA9IHJlc3VsdC5wb2ludDtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZExvY2F0aW9uKGlzTGFzdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUGFyc2VzIEFQSSBjYWxsIHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5hZGRyZXNzX2xpbmUgPSBpc0RlZihhZGRyZXNzLmFkZHJlc3NMaW5lKSA/IGFkZHJlc3MuYWRkcmVzc0xpbmUgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ubG9jYWxpdHkgPSBpc0RlZihhZGRyZXNzLmxvY2FsaXR5KSA/IGFkZHJlc3MubG9jYWxpdHkgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uZGlzdHJpY3QgPVxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEZWYoYWRkcmVzcy5hZG1pbkRpc3RyaWN0KSA/IGFkZHJlc3MuYWRtaW5EaXN0cmljdCA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5jb3VudHJ5ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRGVmKGFkZHJlc3MuY291bnRyeVJlZ2lvbikgPyBhZGRyZXNzLmNvdW50cnlSZWdpb24gOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5jb3VudHJ5X2NvZGUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEZWYoYWRkcmVzcy5jb3VudHJ5UmVnaW9uSXNvMikgPyBhZGRyZXNzLmNvdW50cnlSZWdpb25Jc28yIDogJyc7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmNvb3JkaW5hdGVzID0gaXNEZWYocG9pbnQuY29vcmRpbmF0ZXMpID8gcG9pbnQuY29vcmRpbmF0ZXMgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5wb3N0YWxfY29kZSA9IGlzRGVmKGFkZHJlc3MucG9zdGFsQ29kZSkgPyBhZGRyZXNzLnBvc3RhbENvZGUgOiBudWxsO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5hZGRMb2NhdGlvbiA9IGZ1bmN0aW9uIChpc0xhc3QpIHtcbiAgICAgICAgICAgIGlmIChpc0xhc3QpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdEVudGl0eS5sb2NhdGlvbnMucHVzaChsb2NhdGlvblNlcnZpY2UuZ2V0TG9jYXRpb25Nb2RlbCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuYWRkS2V5UGVyc29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gQWRkIGJsYW5rIGZpZWxkIHRvIGVkaXQgaWYgdGhlcmUgYXJlIG5vbmUuXG4gICAgICAgICAgICAvLyBXQVRDSCBPVVQhIFRPRE86IElmIHNvbWVvbmUgZGVsZXRlcyBhbiBvbGQgcGVyc29uLCBkZWxldGUgdGhlaXIgaWQgdG9vLlxuICAgICAgICAgICAgLy8gaS5lLiBtYWtlIHN1cmUgb2xkL2NsZWFyZWQgZm9ybSBmaWVsZHMgYXJlbid0IGJlaW5nIGVkaXRlZCBpbnRvIG5ldyBwZW9wbGUuXG4gICAgICAgICAgICBpZiAoIShfLnNvbWUoJHNjb3BlLmVkaXRFbnRpdHkua2V5X3Blb3BsZSwgeyduYW1lJzogJycsICdpZCc6IG51bGx9KSkpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdEVudGl0eS5rZXlfcGVvcGxlLnB1c2goeyduYW1lJzogJycsICdpZCc6IG51bGx9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2V0RnVuZGluZ0Nvbm5lY3Rpb24gPSBmdW5jdGlvbiAoZW50aXR5LCBmdW5kaW5nKSB7XG4gICAgICAgICAgICAvLyBBZGQgb3RoZXIgZW50aXR5J3MgaWQgdG8gdGhpcyBmaW5hbmNlIGNvbm5lY3Rpb24uXG4gICAgICAgICAgICBmdW5kaW5nLmVudGl0eV9pZCA9IGVudGl0eS5pZDtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuYWRkRnVuZGluZ0Nvbm5lY3Rpb24gPSBmdW5jdGlvbiAoZnVuZGluZykge1xuICAgICAgICAgICAgaWYgKCFfLnNvbWUoZnVuZGluZywgeydlbnRpdHknOiAnJ30pKSB7XG4gICAgICAgICAgICAgICAgLy8gTWF5YmUgc2V0IGFtb3VudCB0byAwIGluc3RlYWQgb2YgbnVsbD9cbiAgICAgICAgICAgICAgICBmdW5kaW5nLnB1c2goeydlbnRpdHknOiAnJywgJ2Ftb3VudCc6IG51bGwsICd5ZWFyJzogbnVsbCwgJ2lkJzogbnVsbH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zZXRDb25uZWN0aW9uID0gZnVuY3Rpb24gKGVudGl0eSwgY29ubmVjdGlvbikge1xuICAgICAgICAgICAgY29ubmVjdGlvbi5lbnRpdHlfaWQgPSBlbnRpdHkuaWQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmFkZENvbm5lY3Rpb24gPSBmdW5jdGlvbiAoY29ubmVjdGlvbnMpIHtcbiAgICAgICAgICAgIC8vIEFkZCBhbiBlbXB0eSBjb25uZWN0aW9uIHRvIGVkaXQgaWYgbm9uZSBleGlzdC5cbiAgICAgICAgICAgIGlmICghXy5zb21lKGNvbm5lY3Rpb25zLCB7J2VudGl0eSc6ICcnLCAnaWQnOiBudWxsfSkpIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9ucy5wdXNoKHsnZW50aXR5JzogJycsICdpZCc6IG51bGwsICdkZXRhaWxzJzogbnVsbH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5hZGRGaW5hbmNlID0gZnVuY3Rpb24gKHJlY29yZHMpIHtcbiAgICAgICAgICAgIC8vIEFkZCBuZXcgZmluYW5jZSBmaWVsZCBpZiBhbGwgY3VycmVudCBmaWVsZHMgYXJlIHZhbGlkLlxuICAgICAgICAgICAgaWYgKF8uZXZlcnkocmVjb3JkcywgZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHIuYW1vdW50ID4gMCAmJiByLnllYXIgPiAxNzUwO1xuICAgICAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgcmVjb3Jkcy5wdXNoKHsnYW1vdW50JzogbnVsbCwgJ3llYXInOiBudWxsLCAnaWQnOiBudWxsfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkc2NvcGUuaXNTYXZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLmVkaXRFbnRpdHkuZ2VuZXJhdGVEQk1vZGVsKCkpO1xuXG4gICAgICAgICAgICAkaHR0cC5wb3N0KCdhcGkvc2F2ZScsIHsnZW50aXR5JzogJHNjb3BlLmVkaXRFbnRpdHkuZ2VuZXJhdGVEQk1vZGVsKCl9KVxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNTYXZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KFwiZWRpdEVudGl0eVN1Y2Nlc3NcIiwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAvLyBDYWxsIHRvIGhvbWVDdHJsJ3MgcGFyZW50IHN0b3BFZGl0KCkgdG8gY2hhbmdlIHZpZXcgYmFjayBhbmQgYW55IG90aGVyXG4gICAgICAgICAgICAgICAgICAgIC8vIGhpZ2gtbGV2ZWwgY2hhbmdlcy5cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbEVkaXQoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5pc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmNhbmNlbEVkaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLiR3YXRjaCgnZW50aXR5JywgZnVuY3Rpb24gKG5ld1ZhbCwgb2xkVmFsKSB7XG4gICAgICAgICAgICBpZiAoYW5ndWxhci5lcXVhbHMobmV3VmFsLCBvbGRWYWwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuZW50aXR5KTtcblxuICAgICAgICAgICAgJHNjb3BlLmVkaXRFbnRpdHkgPSBlbnRpdHlTZXJ2aWNlLmdldEVudGl0eU1vZGVsKG5ld1ZhbCk7XG4gICAgICAgICAgICAkc2NvcGUuY2F0ZWdvcmllcyA9IGFuZ3VsYXIuY29weShjYXRlZ29yeUJhY2t1cCk7XG5cbiAgICAgICAgICAgIGluaXRDYXRlZ29yeUFycmF5KCk7XG5cbiAgICAgICAgICAgICRzY29wZS5pc0VkaXRpbmcgPSBpc0RlZigkc2NvcGUuZWRpdEVudGl0eS5pZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbml0aWFsaXplcyBjYXRlZ29yeSBmaWVsZHMgd2l0aCBlbnRpdHkgdmFsdWVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBMb29wcyB0aHJvdWdoIGNhdGVnb3J5IGluIGNhdGVnb3JpZXMgYW5kIGxvb3BzIHRocm91Z2ggY2F0ZWdvcnkgaW4gZW50aXR5LiBJZGVudGlmaWVzXG4gICAgICAgICAqIGNhdGVnb3JpZXMgZW5hYmxlZCBpbiB0aGUgZW50aXR5IGFuZCBzZXRzIGxvY2FsIGRpc3BsYXkgZGF0YS4gVGhpcyBpcyBiZWNhdXNlIHdlIGNyZWF0ZWRcbiAgICAgICAgICogYSBiYWNrdXAgb2YgZW50aXR5IGRhdGEgc28gdGhhdCB0aGUgYXBpIGRhdGEgaXMgbm90IHRhbXBlcmVkIHdpdGggZGlyZWN0bHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRPRE86IHJlcGxhY2Ugd2l0aCBiZXR0ZXIgZGF0YSBzdHJ1Y3R1cmUgZm9yIGNhdGVnb3JpZXMuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBpbml0Q2F0ZWdvcnlBcnJheSgpIHtcbiAgICAgICAgICAgIHZhciBjYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeUluZGV4LFxuICAgICAgICAgICAgICAgIGVudGl0eUNhdGVnb3J5SW5kZXgsXG4gICAgICAgICAgICAgICAgZW50aXR5Q2F0ZWdvcnk7XG5cbiAgICAgICAgICAgIGZvciAoY2F0ZWdvcnlJbmRleCBpbiAkc2NvcGUuY2F0ZWdvcmllcykge1xuICAgICAgICAgICAgICAgIGlmICghJHNjb3BlLmNhdGVnb3JpZXMuaGFzT3duUHJvcGVydHkoY2F0ZWdvcnlJbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGVnb3J5ID0gJHNjb3BlLmNhdGVnb3JpZXNbY2F0ZWdvcnlJbmRleF07XG4gICAgICAgICAgICAgICAgZm9yIChlbnRpdHlDYXRlZ29yeUluZGV4IGluICRzY29wZS5lZGl0RW50aXR5LmNhdGVnb3JpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuZWRpdEVudGl0eS5jYXRlZ29yaWVzLmhhc093blByb3BlcnR5KGVudGl0eUNhdGVnb3J5SW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbnRpdHlDYXRlZ29yeSA9ICRzY29wZS5lZGl0RW50aXR5LmNhdGVnb3JpZXNbZW50aXR5Q2F0ZWdvcnlJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeS5pZCA9PT0gZW50aXR5Q2F0ZWdvcnkuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5LmVuYWJsZWQgPSBlbnRpdHlDYXRlZ29yeS5lbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmV0cmlldmUgQ2F0ZWdvcmllcyBmcm9tIERCXG4gICAgICAgICRodHRwLmdldCgnYXBpL2NhdGVnb3JpZXMnKVxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeUJhY2t1cCA9IGRhdGEuY2F0ZWdvcmllcztcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGVzIGJhY2t1cCBvZiBkYXRhIHVzaW5nIEFuZ3VsYXIgdG8gcHJldmVudCBhcGkgZGF0YSBmcm9tIGJlaW5nIHRhbXBlcmVkXG4gICAgICAgICAgICAgICAgLy8gZGlyZWN0bHlcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2F0ZWdvcmllcyA9IGFuZ3VsYXIuY29weShjYXRlZ29yeUJhY2t1cCk7XG4gICAgICAgICAgICAgICAgLy8gJHNjb3BlLmNhdGVnb3JpZXMgPSBkYXRhLmNhdGVnb3JpZXM7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuY29udHJvbGxlcignZWRpdEN0cmwnLCBlZGl0Q29udHJvbGxlckRlcHMpO1xuXG59KShhbmd1bGFyKTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNi8yOC8xNi5cbiAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBjYXRlZ29yeVNlcnZpY2VEZXBlbmRlbmNpZXMgPSBbXG4gICAgICAgIENhdGVnb3J5U2VydmljZVxuICAgIF07XG5cbiAgICBmdW5jdGlvbiBDYXRlZ29yeVNlcnZpY2UoKSB7XG5cbiAgICAgICAgZnVuY3Rpb24gaXNEZWYobykgeyByZXR1cm4gbyAhPT0gdW5kZWZpbmVkICYmIG8gIT09IG51bGw7IH1cblxuICAgICAgICBmdW5jdGlvbiBDYXRlZ29yeShvYmopIHtcbiAgICAgICAgICAgIHZhciBkZWZPYmogPSBpc0RlZihvYmopID8gb2JqIDoge307XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSAoaXNEZWYoZGVmT2JqLm5hbWUpID8gZGVmT2JqLm5hbWUgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlZCA9IChpc0RlZihkZWZPYmouZW5hYmxlKSA/IGRlZk9iai5lbmFibGVkIDogdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmlkID0gKGlzRGVmKGRlZk9iai5pZCkgPyBkZWZPYmouaWQgOiBudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2V0Q2F0ZWdvcnlNb2RlbCA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDYXRlZ29yeShvYmopO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5zZXJ2aWNlKCdjYXRlZ29yeVNlcnZpY2UnLCBjYXRlZ29yeVNlcnZpY2VEZXBlbmRlbmNpZXMpO1xuXG59KShhbmd1bGFyKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDYvMjcvMTYuXG4gKi9cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGNvbm5lY3Rpb25TZXJ2aWNlID0gW0Nvbm5lY3Rpb25zXTtcbiAgICB2YXIgY29ubmVjdGlvblR5cGVzID0ge1xuICAgICAgICAnRnVuZGluZyc6IHRydWUsXG4gICAgICAgICdEYXRhJzogdHJ1ZSxcbiAgICAgICAgJ0VtcGxveW1lbnQnOiB0cnVlLFxuICAgICAgICAnQ29sbGFib3JhdGlvbic6IHRydWVcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaXNEZWYobykge1xuICAgICAgICByZXR1cm4gbyAhPT0gdW5kZWZpbmVkICYmIG8gIT09IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gQ29ubmVjdGlvbnMoKSB7XG4gICAgICAgIGZ1bmN0aW9uIENvbm5lY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICB2YXIgb2JqSXNEZWYgPSBpc0RlZihvYmopO1xuICAgICAgICAgICAgdGhpcy5lbnRpdHkgPSAob2JqSXNEZWYgJiYgaXNEZWYob2JqLmVudGl0eSkgPyBvYmouZW50aXR5IDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmlkID0gKG9iaklzRGVmICYmIGlzRGVmKG9iai5pZCkgPyBvYmouaWQgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuZGV0YWlscyA9IChvYmpJc0RlZiAmJiBpc0RlZihvYmouZGV0YWlscykgPyBvYmouZGV0YWlscyA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gKG9iaklzRGVmICYmIGlzRGVmKG9iai5uYW1lKSA/IG9iai5uYW1lOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5X2lkID0gKG9iaklzRGVmICYmIGlzRGVmKG9iai5lbnRpdHlfaWQpID8gb2JqLmVudGl0eV9pZDogbnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdldENvbm5lY3Rpb25Nb2RlbCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29ubmVjdGlvbihvYmopO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuZ2V0Q29ubmVjdGlvblR5cGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb25UeXBlcztcbiAgICAgICAgfTtcbiAgICB9XG5cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5zZXJ2aWNlKCdjb25uZWN0aW9uU2VydmljZScsIGNvbm5lY3Rpb25TZXJ2aWNlKTtcblxufSkoYW5ndWxhcik7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI3LzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGVudGl0eVNlcnZpY2VEZXBlbmRlbmNpZXMgPSBbXG4gICAgICAgICdmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2UnLFxuICAgICAgICAnY29ubmVjdGlvblNlcnZpY2UnLFxuICAgICAgICAnZmluYW5jZVNlcnZpY2UnLFxuICAgICAgICAnbG9jYXRpb25TZXJ2aWNlJyxcbiAgICAgICAgJ2NhdGVnb3J5U2VydmljZScsXG4gICAgICAgIEVudGl0eVNlcnZpY2VcbiAgICBdO1xuXG4gICAgZnVuY3Rpb24gRW50aXR5U2VydmljZShmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2UsIGNvbm5lY3Rpb25TZXJ2aWNlLCBmaW5hbmNlU2VydmljZSwgbG9jYXRpb25TZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlTZXJ2aWNlXG4gICAgKSB7XG5cbiAgICAgICAgdmFyIGVudGl0eVR5cGVzID0ge1xuICAgICAgICAgICAgJ0dvdmVybm1lbnQnOiB0cnVlLFxuICAgICAgICAgICAgJ0Zvci1Qcm9maXQnOiB0cnVlLFxuICAgICAgICAgICAgJ05vbi1Qcm9maXQnOiB0cnVlLFxuICAgICAgICAgICAgJ0luZGl2aWR1YWwnOiB0cnVlXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGluZmx1ZW5jZVR5cGVzID0gW1xuICAgICAgICAgICAgJ0xvY2FsJyxcbiAgICAgICAgICAgICdOYXRpb25hbCcsXG4gICAgICAgICAgICAnR2xvYmFsJ1xuICAgICAgICBdO1xuXG4gICAgICAgIGZ1bmN0aW9uIGlzRGVmKG8pIHtcbiAgICAgICAgICAgIHJldHVybiBvICE9PSB1bmRlZmluZWQgJiYgbyAhPT0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGxvb3BBbmRJbml0KG1vZGVsQXJyYXksIGluaXRNb2RlbEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICBpZiggISggaXNEZWYobW9kZWxBcnJheSkgfHwgYW5ndWxhci5pc0FycmF5KG1vZGVsQXJyYXkpICkgKSByZXR1cm4gW2luaXRNb2RlbEZ1bmN0aW9uKCldO1xuICAgICAgICAgICAgdmFyIGFycmF5SW5kZXgsXG4gICAgICAgICAgICAgICAgYXJyYXlWYWx1ZSxcbiAgICAgICAgICAgICAgICBuZXdNb2RlbEFycmF5ID0gW107XG5cbiAgICAgICAgICAgIGZvciAoIGFycmF5SW5kZXggaW4gbW9kZWxBcnJheSApIHtcbiAgICAgICAgICAgICAgICBpZighbW9kZWxBcnJheS5oYXNPd25Qcm9wZXJ0eShhcnJheUluZGV4KSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgYXJyYXlWYWx1ZSA9IG1vZGVsQXJyYXlbYXJyYXlJbmRleF07XG5cbiAgICAgICAgICAgICAgICBpZighYW5ndWxhci5pc09iamVjdChhcnJheVZhbHVlKSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBuZXdNb2RlbEFycmF5LnB1c2goaW5pdE1vZGVsRnVuY3Rpb24oYXJyYXlWYWx1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3TW9kZWxBcnJheS5wdXNoKGluaXRNb2RlbEZ1bmN0aW9uKCkpO1xuXG4gICAgICAgICAgICByZXR1cm4gbmV3TW9kZWxBcnJheTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIEVudGl0eShvYmopIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHZhciBkZWZPYmogPSBpc0RlZihvYmopID8gb2JqIDoge307XG4gICAgICAgICAgICAvLyBUT0RPOiBEbyBhIGxvb3AgdG8gZ2VuZXJhdGUgdGhlc2UgbG9jYXRpb25zIGFzIG1vZGVscywgaW4gb3JkZXIgdG8gdXNlIHRoZSBmdW5jdGlvbnMgaW4gbW9kZWxcbiAgICAgICAgICAgIC8vIHRoaXMubG9jYXRpb25zID0gKGlzRGVmKGRlZk9iai5sb2NhdGlvbnMpID8gZGVmT2JqLmxvY2F0aW9ucyA6IFtsb2NhdGlvblNlcnZpY2UuZ2V0TG9jYXRpb25Nb2RlbCgpXSk7XG4gICAgICAgICAgICAvLyBUT0RPOiBEbyB0aGlzIGZvciBldmVyeSBhcnJheSBpbiB0aGlzIG1vZGVsXG4gICAgICAgICAgICB0aGlzLmlkID0gKGlzRGVmKGRlZk9iai5pZCkgPyBkZWZPYmouaWQgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IChpc0RlZihkZWZPYmoubmFtZSkgPyBkZWZPYmoubmFtZSA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5sb2NhdGlvbnMgPSBsb29wQW5kSW5pdChkZWZPYmoubG9jYXRpb25zLCBsb2NhdGlvblNlcnZpY2UuZ2V0TG9jYXRpb25Nb2RlbCk7XG4gICAgICAgICAgICB0aGlzLmluZmx1ZW5jZSA9IChpc0RlZihkZWZPYmouaW5mbHVlbmNlKSA/IGRlZk9iai5pbmZsdWVuY2UgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuZ3JhbnRzX3JlY2VpdmVkID0gbG9vcEFuZEluaXQoZGVmT2JqLmdyYW50c19yZWNlaXZlZCwgZnVuZGluZ0Nvbm5lY3Rpb25TZXJ2aWNlLmdldEZ1bmRpbmdDb25uZWN0aW9uTW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5pbnZlc3RtZW50c19yZWNlaXZlZCA9IGxvb3BBbmRJbml0KGRlZk9iai5pbnZlc3RtZW50c19yZWNlaXZlZCwgZnVuZGluZ0Nvbm5lY3Rpb25TZXJ2aWNlLmdldEZ1bmRpbmdDb25uZWN0aW9uTW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5ncmFudHNfZ2l2ZW4gPSBsb29wQW5kSW5pdChkZWZPYmouZ3JhbnRzX2dpdmVuLCBmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2UuZ2V0RnVuZGluZ0Nvbm5lY3Rpb25Nb2RlbCk7XG4gICAgICAgICAgICB0aGlzLmludmVzdG1lbnRzX21hZGUgPSBsb29wQW5kSW5pdChkZWZPYmouaW52ZXN0bWVudHNfbWFkZSwgZnVuZGluZ0Nvbm5lY3Rpb25TZXJ2aWNlLmdldEZ1bmRpbmdDb25uZWN0aW9uTW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5kYXRhX2dpdmVuID0gbG9vcEFuZEluaXQoZGVmT2JqLmRhdGFfZ2l2ZW4sIGNvbm5lY3Rpb25TZXJ2aWNlLmdldENvbm5lY3Rpb25Nb2RlbCk7XG4gICAgICAgICAgICB0aGlzLmRhdGFfcmVjZWl2ZWQgPSBsb29wQW5kSW5pdChkZWZPYmouZGF0YV9yZWNlaXZlZCwgY29ubmVjdGlvblNlcnZpY2UuZ2V0Q29ubmVjdGlvbk1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMuY29sbGFib3JhdGlvbnMgPSBsb29wQW5kSW5pdChkZWZPYmouY29sbGFib3JhdGlvbnMsIGNvbm5lY3Rpb25TZXJ2aWNlLmdldENvbm5lY3Rpb25Nb2RlbCk7XG4gICAgICAgICAgICB0aGlzLmtleV9wZW9wbGUgPSBsb29wQW5kSW5pdChkZWZPYmoua2V5X3Blb3BsZSwgY29ubmVjdGlvblNlcnZpY2UuZ2V0Q29ubmVjdGlvbk1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMuZW1wbG95bWVudHMgPSBsb29wQW5kSW5pdChkZWZPYmouZW1wbG95bWVudHMsIGNvbm5lY3Rpb25TZXJ2aWNlLmdldENvbm5lY3Rpb25Nb2RlbCk7XG4gICAgICAgICAgICB0aGlzLnJldmVudWVzID0gbG9vcEFuZEluaXQoZGVmT2JqLnJldmVudWVzLCBmaW5hbmNlU2VydmljZS5nZXRGaW5hbmNlTW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5leHBlbnNlcyA9IGxvb3BBbmRJbml0KGRlZk9iai5leHBlbnNlcywgZmluYW5jZVNlcnZpY2UuZ2V0RmluYW5jZU1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMuY2F0ZWdvcmllcyA9IGxvb3BBbmRJbml0KGRlZk9iai5jYXRlZ29yaWVzLCBjYXRlZ29yeVNlcnZpY2UuZ2V0Q2F0ZWdvcnlNb2RlbCk7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSAoaXNEZWYoZGVmT2JqLnR5cGUpID8gZGVmT2JqLnR5cGUgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMubmlja25hbWUgPSAoaXNEZWYoZGVmT2JqLm5pY2tuYW1lKSA/IGRlZk9iai5uaWNrbmFtZSA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy51cmwgPSAoaXNEZWYoZGVmT2JqLnVybCkgPyBkZWZPYmoudXJsIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLnR3aXR0ZXJfaGFuZGxlID0gKGlzRGVmKGRlZk9iai50d2l0dGVyX2hhbmRsZSkgPyBkZWZPYmoudHdpdHRlcl9oYW5kbGUgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuZW1wbG95ZWVzID0gKGlzRGVmKGRlZk9iai5lbXBsb3llZXMpID8gZGVmT2JqLmVtcGxveWVlcyA6IG51bGwpO1xuICAgICAgICAgICAgLy8gdGhpcy5yZWxhdGlvbnMgPSBsb29wQW5kSW5pdChkZWZPYmoucmVsYXRpb25zLCBjb25uZWN0aW9uU2VydmljZS5nZXRDb25uZWN0aW9uTW9kZWwpO1xuXG5cbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVEQk1vZGVsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRiTW9kZWwgPSBuZXcgRW50aXR5KHNlbGYpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwubG9jYXRpb25zLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwubG9jYXRpb25zLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZ3JhbnRzX3JlY2VpdmVkLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZ3JhbnRzX3JlY2VpdmVkLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZ3JhbnRzX2dpdmVuLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZ3JhbnRzX2dpdmVuLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuaW52ZXN0bWVudHNfcmVjZWl2ZWQucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5pbnZlc3RtZW50c19yZWNlaXZlZC5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmludmVzdG1lbnRzX21hZGUucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5pbnZlc3RtZW50c19tYWRlLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZGF0YV9naXZlbi5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmRhdGFfZ2l2ZW4ucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5kYXRhX3JlY2VpdmVkLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZGF0YV9yZWNlaXZlZC5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmNvbGxhYm9yYXRpb25zLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuY29sbGFib3JhdGlvbnMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5rZXlfcGVvcGxlLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwua2V5X3Blb3BsZS5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmVtcGxveW1lbnRzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZW1wbG95bWVudHMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5yZXZlbnVlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLnJldmVudWVzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZXhwZW5zZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5leHBlbnNlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmNhdGVnb3JpZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5jYXRlZ29yaWVzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZGVzY3JpcHRpb24gPSAnJztcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYk1vZGVsKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBkYk1vZGVsO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nZXRFbnRpdHlNb2RlbCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRW50aXR5KG9iaik7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5nZXRFbnRpdHlUeXBlcyA9IGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgcmV0dXJuIGVudGl0eVR5cGVzO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuZ2V0SW5mbHVlbmNlVHlwZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5mbHVlbmNlVHlwZXM7XG4gICAgICAgIH07XG5cbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuc2VydmljZSgnZW50aXR5U2VydmljZScsIGVudGl0eVNlcnZpY2VEZXBlbmRlbmNpZXMpO1xuXG5cbn0pKGFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI3LzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGZpbmFuY2VTZXJ2aWNlID0gW0ZpbmFuY2VTZXJ2aWNlXTtcblxuICAgIGZ1bmN0aW9uIGlzRGVmKG8pIHtcbiAgICAgICAgcmV0dXJuIG8gIT09IHVuZGVmaW5lZCAmJiBvICE9PSBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIEZpbmFuY2VTZXJ2aWNlKCkge1xuICAgICAgICBmdW5jdGlvbiBGaW5hbmNlKG9iaikge1xuICAgICAgICAgICAgdmFyIGRlZk9iaiA9IGlzRGVmKG9iaikgPyBvYmogOiB7fTtcbiAgICAgICAgICAgIHRoaXMuYW1vdW50ID0gKGlzRGVmKGRlZk9iai5hbW91bnQpICYmIGRlZk9iai5hbW91bnQgPj0gMCA/IGRlZk9iai5hbW91bnQgOiAwKTtcbiAgICAgICAgICAgIHRoaXMueWVhciA9IChpc0RlZihkZWZPYmoueWVhcikgJiYgZGVmT2JqLnllYXIgPj0gMTc1MCA/IGRlZk9iai55ZWFyIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmlkID0gKGlzRGVmKGRlZk9iai5pZCkgPyBkZWZPYmouaWQgOiBudWxsKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nZXRGaW5hbmNlTW9kZWwgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZpbmFuY2Uob2JqKTtcbiAgICAgICAgfTtcbiAgICB9XG5cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5zZXJ2aWNlKCdmaW5hbmNlU2VydmljZScsIGZpbmFuY2VTZXJ2aWNlKTtcblxufSkoYW5ndWxhcik7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI3LzE2LlxuICovXG5cbihmdW5jdGlvbihhbmd1bGFyKXtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2VEZXBlbmRlbmNpZXMgPSBbRnVuZGluZ0Nvbm5lY3Rpb25zXTtcblxuICAgIGZ1bmN0aW9uIGlzRGVmKG8pIHsgcmV0dXJuIG8gIT09IHVuZGVmaW5lZCAmJiBvICE9PSBudWxsOyB9XG5cbiAgICBmdW5jdGlvbiBGdW5kaW5nQ29ubmVjdGlvbnMoKSB7XG4gICAgICAgIGZ1bmN0aW9uIEZ1bmRpbmdDb25uZWN0aW9uKG9iaikge1xuICAgICAgICAgICAgdmFyIG9iaklzRGVmID0gaXNEZWYob2JqKTtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5ID0gKG9iaklzRGVmICYmIGlzRGVmKG9iai5lbnRpdHkpID8gb2JqLmVudGl0eSA6ICcnKTtcbiAgICAgICAgICAgIHRoaXMuYW1vdW50ID0gKG9iaklzRGVmICYmIGlzRGVmKG9iai5hbW91bnQpID8gb2JqLmFtb3VudDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLnllYXIgPSAob2JqSXNEZWYgJiYgaXNEZWYob2JqLnllYXIpID8gb2JqLnllYXIgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuaWQgPSAob2JqSXNEZWYgJiYgaXNEZWYob2JqLmlkKSA/IG9iai5pZCA6IG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nZXRGdW5kaW5nQ29ubmVjdGlvbk1vZGVsID0gZnVuY3Rpb24ob2JqKXtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRnVuZGluZ0Nvbm5lY3Rpb24ob2JqKTtcbiAgICAgICAgfTtcblxuXG5cbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuc2VydmljZSgnZnVuZGluZ0Nvbm5lY3Rpb25TZXJ2aWNlJywgZnVuZGluZ0Nvbm5lY3Rpb25TZXJ2aWNlRGVwZW5kZW5jaWVzKTtcblxuXG5cbn0pKGFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI3LzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGxvY2F0aW9uU2VydmljZURlcGVuZGVuY2llcyA9IFtMb2NhdGlvblNlcnZpY2VdO1xuXG5cblxuICAgIGZ1bmN0aW9uIExvY2F0aW9uU2VydmljZSgpe1xuXG4gICAgICAgIGZ1bmN0aW9uIGlzRGVmKG8pIHtcbiAgICAgICAgICAgIHJldHVybiBvICE9PSB1bmRlZmluZWQgJiYgbyAhPT0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIExvY2F0aW9uKG9iaikge1xuICAgICAgICAgICAgdmFyIGRlZk9iaiA9IGlzRGVmKG9iaikgPyBvYmogOiB7fTtcbiAgICAgICAgICAgIHRoaXMuYWRkcmVzc19saW5lID0gKGlzRGVmKGRlZk9iai5hZGRyZXNzX2xpbmUpID8gZGVmT2JqLmFkZHJlc3NfbGluZSA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5sb2NhbGl0eSA9IChpc0RlZihkZWZPYmoubG9jYWxpdHkpID8gZGVmT2JqLmxvY2FsaXR5IDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmRpc3RyaWN0ID0gKGlzRGVmKGRlZk9iai5kaXN0cmljdCkgPyBkZWZPYmouZGlzdHJpY3QgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMucG9zdGFsX2NvZGUgPSAoaXNEZWYoZGVmT2JqLnBvc3RhbF9jb2RlKSA/IGRlZk9iai5wb3N0YWxfY29kZSA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5jb3VudHJ5ID0gKGlzRGVmKGRlZk9iai5jb3VudHJ5KSA/IGRlZk9iai5jb3VudHJ5IDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmNvdW50cnlfY29kZSA9IChpc0RlZihkZWZPYmouY291bnRyeV9jb2RlKSA/IGRlZk9iai5jb3VudHJ5X2NvZGUgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZXMgPSAoaXNEZWYoZGVmT2JqLmNvb3JkaW5hdGVzKSA/IGRlZk9iai5jb29yZGluYXRlcyA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5pZCA9IChpc0RlZihkZWZPYmouaWQpID8gZGVmT2JqLmlkIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmZvcm1hdHRlZEFkZHJlc3MgPSAoaXNEZWYodGhpcy5hZGRyZXNzX2xpbmUpID8gdGhpcy5hZGRyZXNzX2xpbmUgKyAgJyAnIDogJycpXG4gICAgICAgICAgICAgICAgKyAoaXNEZWYodGhpcy5sb2NhbGl0eSkgPyB0aGlzLmxvY2FsaXR5ICsgJywgJyA6ICcnKVxuICAgICAgICAgICAgICAgICsgKGlzRGVmKHRoaXMuY291bnRyeV9jb2RlKSA/IHRoaXMuY291bnRyeV9jb2RlICsgJyAnIDogJycpXG4gICAgICAgICAgICAgICAgKyAoaXNEZWYodGhpcy5wb3N0YWxfY29kZSkgPyB0aGlzLnBvc3RhbF9jb2RlIDogJycpO1xuICAgICAgICAgICAgdGhpcy5mb3JtYXR0ZWRBZGRyZXNzID0gdGhpcy5mb3JtYXR0ZWRBZGRyZXNzLnRyaW0oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2V0TG9jYXRpb25Nb2RlbCA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBMb2NhdGlvbihvYmopO1xuICAgICAgICB9O1xuXG4gICAgfVxuXG5cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5zZXJ2aWNlKCdsb2NhdGlvblNlcnZpY2UnLCBsb2NhdGlvblNlcnZpY2VEZXBlbmRlbmNpZXMpO1xuXG59KShhbmd1bGFyKTsiLCIoZnVuY3Rpb24gKGFuZ3VsYXIsIGQzLCBMKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IFtcbiAgICAgICAgJyRzY29wZScsXG4gICAgICAgICckdGltZW91dCcsXG4gICAgICAgICdsZWFmbGV0RGF0YScsXG4gICAgICAgICdfJyxcbiAgICAgICAgJyRmaWx0ZXInLFxuICAgICAgICBtYXBDdHJsXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIG1hcEN0cmwoJHNjb3BlLCAkdGltZW91dCwgbGVhZmxldERhdGEsIF8sICRmaWx0ZXIpIHtcblxuICAgICAgICAkc2NvcGUub3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGNlbnRlciAgOiB7XG4gICAgICAgICAgICAgICAgbGF0IDogMjAuMDAsXG4gICAgICAgICAgICAgICAgbG5nIDogLTQwLjAwLFxuICAgICAgICAgICAgICAgIHpvb206IDNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgICAgIHRpbGVMYXllciAgICAgICAgIDogJ2h0dHBzOi8vYXBpLnRpbGVzLm1hcGJveC5jb20vdjQvbWFwYm94LmxpZ2h0L3t6fS97eH0ve3l9LnBuZz9hY2Nlc3NfdG9rZW49cGsuZXlKMUlqb2laR0YyYVdSc2NtNTBJaXdpWVNJNklqQTBNMlJrTnpNelpXSm1OekV6TkdZek1UZGhZVEV4WXpBeVptVTRaVEUxSW4wLlROWWxGdGEyVkl0cmtuNEwwWjlCSlEnLFxuICAgICAgICAgICAgICAgIHRpbGVMYXllck9wdGlvbnMgIDoge1xuICAgICAgICAgICAgICAgICAgICBkZXRlY3RSZXRpbmE6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHJldXNlVGlsZXMgIDogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHpvb21Db250cm9sICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRpb25Db250cm9sOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjcmVhdGVQaWVDaGFydCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgICA9IG9wdGlvbnMuZGF0YTtcbiAgICAgICAgICAgICAgICB2YXIgcGllICAgID0gZDMubGF5b3V0LnBpZSgpLnNvcnQobnVsbCkudmFsdWUoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQudmFsdWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGFyYyAgICA9IGQzLnN2Zy5hcmMoKS5vdXRlclJhZGl1cyhvcHRpb25zLnIpLmlubmVyUmFkaXVzKG9wdGlvbnMuciAtIDEwKTtcbiAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gb3B0aW9ucy5yICsgb3B0aW9ucy5zdHJva2VXaWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgdyAgICAgID0gY2VudGVyICogMjtcbiAgICAgICAgICAgICAgICB2YXIgaCAgICAgID0gdztcbiAgICAgICAgICAgICAgICB2YXIgc3ZnICAgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGQzLm5zLnByZWZpeC5zdmcsICdzdmcnKTtcbiAgICAgICAgICAgICAgICB2YXIgdmlzICAgID0gZDMuc2VsZWN0KHN2ZylcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEoZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3BpZWNoYXJ0JylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgdylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGFyY3MgPSB2aXMuc2VsZWN0QWxsKCcuYXJjJylcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEocGllKGRhdGEpKVxuICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnYXJjJylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIGNlbnRlciArICcsJyArIGNlbnRlciArICcpJyk7XG5cbiAgICAgICAgICAgICAgICAvLyB2YXIgbWFwID0gTC5tYXBib3gubWFwKCdtYXAnLCAnZXhhbXBsZXMubWFwLTlpanVrMjR5Jywge1xuICAgICAgICAgICAgICAgIC8vICAgICBtaW5ab29tOiAxLFxuICAgICAgICAgICAgICAgIC8vICAgICBtYXhab29tOiAyXG4gICAgICAgICAgICAgICAgLy8gfSkuc2V0VmlldyhbNDAsIC03NC41MF0sIDkpO1xuXG4gICAgICAgICAgICAgICAgYXJjcy5hcHBlbmQoJ3BhdGgnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZCcsIGFyYylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmRhdGEudHlwZSArICctYXJjJztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBhcmNzLmFwcGVuZChcInN2Zzp0ZXh0XCIpXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInhcIiwgLTQgKiBvcHRpb25zLmNvdW50LnRvU3RyaW5nKCkubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImR5XCIsIDUpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJhcmNUZXh0XCIpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5YTUxTZXJpYWxpemVyID8gKG5ldyB3aW5kb3cuWE1MU2VyaWFsaXplcigpKS5zZXJpYWxpemVUb1N0cmluZyhzdmcpXG4gICAgICAgICAgICAgICAgICAgIDogc3ZnLnhtbCA/IHN2Zy54bWwgOiAnJztcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJlZEVudGl0aWVzID0gJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmVudGl0aWVzLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRpdHkuY29sbGFib3JhdGlvbnMubGVuZ3RoID4gNDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBtYXAuaW52YWxpZGF0ZVNpemUoKTtcblxuICAgICAgICAgICAgICAgIG5ldyBMLkNvbnRyb2wuWm9vbSh7cG9zaXRpb246ICd0b3ByaWdodCd9KS5hZGRUbyhtYXApO1xuICAgICAgICAgICAgICAgIEwuY29udHJvbC5sb2NhdGUoXG4gICAgICAgICAgICAgICAgICAgIHtwb3NpdGlvbjogJ3RvcHJpZ2h0Jywgc2hvd1BvcHVwOiBmYWxzZSwgaWNvbjogJ2ZhIGZhLWxvY2F0aW9uLWFycm93J31cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC5hZGRUbyhtYXApO1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY2x1c3Rlckljb24oY2x1c3Rlcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gICAgICAgPSBjbHVzdGVyLmdldEFsbENoaWxkTWFya2VycygpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG90YWwgICAgICAgICAgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjbHVzdGVyTWFya2VycyA9IF8ucGx1Y2soY2hpbGRyZW4sICdvcHRpb25zJyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudHMgICAgICAgICA9IF8ubWFwKF8uY291bnRCeShjbHVzdGVyTWFya2VycywgJ3R5cGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGNvdW50LCB0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyd0eXBlJzogdHlwZSwgJ3ZhbHVlJzogY291bnR9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgICAgICAgICAgICAgID0gMjg7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHJva2VXaWR0aCAgICA9IDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpY29uRGltICAgICAgICA9IChyICsgc3Ryb2tlV2lkdGgpICogMjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGh0bWwgICAgICAgICAgID0gY3JlYXRlUGllQ2hhcnQoXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZGF0YTogY291bnRzLCByOiByLCBzdHJva2VXaWR0aDogc3Ryb2tlV2lkdGgsIGNvdW50OiB0b3RhbH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEwuRGl2SWNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sICAgICA6IGh0bWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdtYXJrZXItY2x1c3RlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZSA6IG5ldyBMLnBvaW50KGljb25EaW0sIGljb25EaW0pXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbWFya2VySWNvbiAgPSB7XG4gICAgICAgICAgICAgICAgICAgICdOb24tUHJvZml0JzogTC5pY29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25VcmwgOiAnaW1nL21hcmtlci1ub25wcm9mLnN2ZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzYwLCA2MF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICdGb3ItUHJvZml0JzogTC5pY29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25VcmwgOiAnaW1nL21hcmtlci1wcm9mLnN2ZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzYwLCA2MF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICdJbmRpdmlkdWFsJzogTC5pY29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25VcmwgOiAnaW1nL21hcmtlci1pbmQuc3ZnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbNjAsIDYwXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgJ0dvdmVybm1lbnQnOiBMLmljb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVybCA6ICdpbWcvbWFya2VyLWdvdi5zdmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFs2MCwgNjBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBtYXJrZXJzID0gTC5tYXJrZXJDbHVzdGVyR3JvdXAoe1xuXG4gICAgICAgICAgICAgICAgICAgIHNwaWRlcmZ5T25NYXhab29tOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzaG93Q292ZXJhZ2VPbkhvdmVyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaWNvbkNyZWF0ZUZ1bmN0aW9uOiBjbHVzdGVySWNvbixcbiAgICAgICAgICAgICAgICAgICAgbWF4Q2x1c3RlclJhZGl1czogMzAsXG4gICAgICAgICAgICAgICAgICAgIHNwaWRlcmZ5RGlzdGFuY2VNdWx0aXBsaWVyOiAxLjNcbiAgICAgICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gb3V0ZXJMb29wKGVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBpbm5lckxvb3AobG9jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV8uZXZlcnkobG9jLmNvb3JkaW5hdGVzKSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvYy5jb29yZGluYXRlc1swXS50b0ZpeGVkKDUpID09PSAnNDAuNzgyMDAnICYmIGxvYy5jb29yZGluYXRlc1sxXS50b0ZpeGVkKDUpID09PSAnLTczLjgzMTcwJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYy5jb29yZGluYXRlc1swXSA9IDQwLjc3MDY1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYy5jb29yZGluYXRlc1sxXSA9IC03My45NzQwNjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtID0gTC5tYXJrZXIobG9jLmNvb3JkaW5hdGVzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogbWFya2VySWNvbltlbnRpdHkudHlwZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RpdGxlJzogZW50aXR5Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VudGl0eV9pZCc6IGVudGl0eS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWVzc2FnZSc6IGVudGl0eS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0eXBlJzogZW50aXR5LnR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2Vycy5hZGRMYXllcihtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaChlbnRpdHkubG9jYXRpb25zLCBpbm5lckxvb3ApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiT3JpZ2luYWw6ICVPXCIsICRzY29wZS5lbnRpdGllcyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGaWx0ZXJlZDogJU9cIiwgZmlsdGVyZWRFbnRpdGllcyk7XG5cbiAgICAgICAgICAgICAgICBfLmZvckVhY2goZmlsdGVyZWRFbnRpdGllcywgb3V0ZXJMb29wKTtcbiAgICAgICAgICAgICAgICBtYXAuYWRkTGF5ZXIobWFya2Vycyk7XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBvbkxvY2F0aW9uRXJyb3IobGVhZmxldEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobGVhZmxldEVycm9yLm1lc3NhZ2UgKyBcIiAgJU9cIiwgbGVhZmxldEVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBtYXAub24oJ2xvY2F0aW9uZXJyb3InLCBvbkxvY2F0aW9uRXJyb3IpO1xuICAgICAgICAgICAgICAgIC8vIG1hcC5sb2NhdGUoe3NldFZpZXc6IHRydWUsIG1heFpvb206IDExfSk7XG4gICAgICAgICAgICAgICAgbWFya2Vycy5vbignY2xpY2snLCBmdW5jdGlvbiAobWFya2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXRFbnRpdHlJRChtYXJrZXIubGF5ZXIub3B0aW9ucy5lbnRpdHlfaWQpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPSAkc2NvcGUuY3VycmVudEVudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCAgID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zZXR0aW5nc0VuYWJsZWQgJiYgJHNjb3BlLm1vYmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvZ2dsZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbWFwLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCAgID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICRzY29wZS4kb24oJ3NlbGVjdEl0ZW0nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb29yZGluYXRlcyA9ICRzY29wZS5jdXJyZW50RW50aXR5LmxvY2F0aW9ucy5sZW5ndGggPiAwID8gXy5wbHVjayhcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jdXJyZW50RW50aXR5LmxvY2F0aW9ucywgJ2Nvb3JkaW5hdGVzJykgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29vcmRpbmF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnNldFZpZXcoY29vcmRpbmF0ZXNbMF0sIDExKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG5cbiAgICAgICAgLmNvbnRyb2xsZXIoJ21hcEN0cmwnLCBkZXBlbmRlbmNpZXMpO1xufSkoYW5ndWxhciwgZDMsIEwpO1xuIiwiKGZ1bmN0aW9uIChhbmd1bGFyLCBSVFApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBkZXBlbmRlbmNpZXMgPSBbXG4gICAgICAgICckc2NvcGUnLFxuICAgICAgICAnJGh0dHAnLFxuICAgICAgICAnXycsXG4gICAgICAgICckZmlsdGVyJyxcbiAgICAgICAgbmV0d29ya0N0cmxcbiAgICBdO1xuXG4gICAgZnVuY3Rpb24gaXNEZWYobykge1xuICAgICAgICByZXR1cm4gbyAhPT0gdW5kZWZpbmVkICYmIG8gIT09IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbmV0d29ya0N0cmwoJHNjb3BlLCAkaHR0cCwgXywgJGZpbHRlcikge1xuICAgICAgICAvLyBUT0RPOiBNYWtlIGEgaGFzaG1hcCBvbiB0aGUgYmFja2VuZCBvZiBpZCAtPiBwb3NpdGlvbiwgdGhlbiB1c2Ugc291cmNlOlxuICAgICAgICAvLyBlbnRpdGllc1ttYXBbc291cmNlaWRdXSB0byBnZXQgbm9kZXMuIFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8xNjgyNDMwOFxuICAgICAgICAkc2NvcGUuaXNMb2FkaW5nICAgPSB0cnVlO1xuICAgICAgICAkc2NvcGUuY29ubmVjdGlvbnMgPSB7fTtcblxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9jb2RlcndhbGwuY29tL3Avbmdpc21hL3NhZmUtYXBwbHktaW4tYW5ndWxhci1qc1xuICAgICAgICAkc2NvcGUuc2FmZUFwcGx5ID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICB2YXIgcGhhc2UgPSB0aGlzLiRyb290LiQkcGhhc2U7XG4gICAgICAgICAgICBpZiAocGhhc2UgPT09ICckYXBwbHknIHx8IHBoYXNlID09PSAnJGRpZ2VzdCcpIHtcbiAgICAgICAgICAgICAgICBpZiAoZm4gJiYgKHR5cGVvZihmbikgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRhcHBseShmbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLiRvbignZW50aXRpZXNMb2FkZWQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRTY29wZSA9IGV2ZW50LnRhcmdldFNjb3BlO1xuICAgICAgICAgICAgJGh0dHAuZ2V0KCdhcGkvY29ubmVjdGlvbnMnKS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlcmVkRW50aXRpZXMgICAgPSAkZmlsdGVyKCdmaWx0ZXInKSgkc2NvcGUuZW50aXRpZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVudGl0eS5jb2xsYWJvcmF0aW9ucy5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPj0gJHNjb3BlLm1pbkNvbm5lY3Rpb25zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlcmVkQ29ubmVjdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICBfLmZvckVhY2goXy5rZXlzKGRhdGEuY29ubmVjdGlvbnMpLCBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyAkc2NvcGUuY29ubmVjdGlvbnNbdHlwZV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRDb25uZWN0aW9uc1t0eXBlXSA9IFtdO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChkYXRhLmNvbm5lY3Rpb25zLCBmdW5jdGlvbiAoY29ubmVjdGlvbnMsIHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgXy5mb3JFYWNoKGNvbm5lY3Rpb25zLCBmdW5jdGlvbiAoY29ubmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZU5vZGUgPSBfLmZpbmQoZmlsdGVyZWRFbnRpdGllcywgeydpZCc6IGNvbm5lY3Rpb24uc291cmNlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0Tm9kZSA9IF8uZmluZChmaWx0ZXJlZEVudGl0aWVzLCB7J2lkJzogY29ubmVjdGlvbi50YXJnZXR9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKCBpc0RlZihzb3VyY2VOb2RlKSAmJiBpc0RlZih0YXJnZXROb2RlKSApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZENvbm5lY3Rpb25zW3R5cGVdLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeydzb3VyY2UnOiBzb3VyY2VOb2RlLCAndGFyZ2V0JzogdGFyZ2V0Tm9kZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJHNjb3BlLmNvbm5lY3Rpb25zW3R5cGVdLnB1c2goeydzb3VyY2UnOiBzb3VyY2VOb2RlLCAndGFyZ2V0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRhcmdldE5vZGV9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gT25seSBzaG93IGxhYmVscyBvbiB0b3AgNSBtb3N0IGNvbm5lY3RlZCBlbnRpdGllcyBpbml0aWFsbHkuXG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKF8ua2V5cygkc2NvcGUuZW50aXR5VHlwZXMpLCBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSB0b3AgNSBtb3N0LWNvbm5lY3RlZCBlbnRpdGllcy5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvcDUgPSBfLnRha2VSaWdodChfLnNvcnRCeShfLmZpbHRlcigkc2NvcGUuZW50aXRpZXMsIHsndHlwZSc6IHR5cGV9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY29sbGFib3JhdGlvbnMubGVuZ3RoJyksIDUpO1xuICAgICAgICAgICAgICAgICAgICBfLmZvckVhY2godG9wNSwgZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LndlbGxjb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGZpbHRlcmVkRW50aXRpZXMgPSBfLnNvcnRCeShmaWx0ZXJlZEVudGl0aWVzLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGUud2VsbGNvbm5lY3RlZCkgPyAxIDogMDtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUubW9iaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRyYXdOZXR3b3JrTW9iaWxlKGZpbHRlcmVkRW50aXRpZXMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRyYXdOZXR3b3JrKGZpbHRlcmVkRW50aXRpZXMsIGZpbHRlcmVkQ29ubmVjdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgZHJhd05ldHdvcmtNb2JpbGUgPSBmdW5jdGlvbiAoZW50aXR5QXJyYXkpIHtcbiAgICAgICAgICAgIHZhciBkYXRhICAgICAgICA9IHtcbiAgICAgICAgICAgICAgICBub2RlczogJHNjb3BlLmVudGl0aWVzLFxuICAgICAgICAgICAgICAgIGxpbmtzOiBfLmZsYXR0ZW4oXy52YWx1ZXMoJHNjb3BlLmNvbm5lY3Rpb25zKSlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgY29sb3JzICAgICAgPSB7XG4gICAgICAgICAgICAgICAgJ0dvdmVybm1lbnQnICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICdmb2N1c2VkJyAgOiAncmdiYSgyNDIsIDgwLCAzNCwgMSknLFxuICAgICAgICAgICAgICAgICAgICAndW5mb2N1c2VkJzogJ3JnYmEoMjQyLCA4MCwgMzQsIDAuMSknXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnTm9uLVByb2ZpdCcgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2ZvY3VzZWQnICA6ICdyZ2JhKDMwLCAxNDQsIDI1NSwgMSknLFxuICAgICAgICAgICAgICAgICAgICAndW5mb2N1c2VkJzogJ3JnYmEoMzAsIDE0NCwgMjU1LCAwLjEpJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ0Zvci1Qcm9maXQnICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICdmb2N1c2VkJyAgOiAncmdiYSgxMjcsIDE4NiwgMCwgMSknLFxuICAgICAgICAgICAgICAgICAgICAndW5mb2N1c2VkJzogJ3JnYmEoMTI3LCAxODYsIDAsIDAuMSknXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnSW5kaXZpZHVhbCcgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2ZvY3VzZWQnICA6ICdyZ2JhKDI1NSwgMTc1LCA0NCwgMSknLFxuICAgICAgICAgICAgICAgICAgICAndW5mb2N1c2VkJzogJ3JnYmEoMjU1LCAxNzUsIDQ0LCAwLjEpJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ0Z1bmRpbmcnICAgICAgOiB7J2ZvY3VzZWQnOiAnI0ZGNzQ2MCcsICd1bmZvY3VzZWQnOiAnI0UzREZFNCd9LFxuICAgICAgICAgICAgICAgICdEYXRhJyAgICAgICAgIDogeydmb2N1c2VkJzogJyM4NEMyRkYnLCAndW5mb2N1c2VkJzogJyNFM0RGRTQnfSxcbiAgICAgICAgICAgICAgICAnRW1wbG95bWVudCcgICA6IHsnZm9jdXNlZCc6ICcjRUU3M0ZGJywgJ3VuZm9jdXNlZCc6ICcjRTNERkU0J30sXG4gICAgICAgICAgICAgICAgJ0NvbGxhYm9yYXRpb24nOiB7J2ZvY3VzZWQnOiAnI0ZGRDk1NScsICd1bmZvY3VzZWQnOiAnI0UzREZFNCd9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGNhbnZhc0ZvcmNlID0gJCgnI2NhbnZhcy1mb3JjZScpLFxuICAgICAgICAgICAgICAgIHdpZHRoICAgICAgID0gY2FudmFzRm9yY2Uud2lkdGgoKSxcbiAgICAgICAgICAgICAgICBoZWlnaHQgICAgICA9IGNhbnZhc0ZvcmNlLmhlaWdodCgpO1xuXG4gICAgICAgICAgICB2YXIgb2Zmc2V0cyAgICAgICAgPSB7XG4gICAgICAgICAgICAgICAgJ0dvdmVybm1lbnQnOiBbLTkwLCAtOTAgLSAoaGVpZ2h0IC8gNyldLFxuICAgICAgICAgICAgICAgICdOb24tUHJvZml0JzogWy05MCwgOTAgLSAoaGVpZ2h0IC8gNyldLFxuICAgICAgICAgICAgICAgICdGb3ItUHJvZml0JzogWzkwLCAtOTAgLSAoaGVpZ2h0IC8gNyldLFxuICAgICAgICAgICAgICAgICdJbmRpdmlkdWFsJzogWzkwLCA5MCAtIChoZWlnaHQgLyA3KV1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgaXNJbnNpZGVDaXJjbGUgPSBmdW5jdGlvbiAoeCwgeSwgY3gsIGN5LCByYWRpdXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZHggPSB4IC0gY3gsXG4gICAgICAgICAgICAgICAgICAgIGR5ID0geSAtIGN5O1xuICAgICAgICAgICAgICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeSA8PSByYWRpdXMgKiByYWRpdXM7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHNjYWxlICAgICAgICAgID0ge1xuICAgICAgICAgICAgICAgICdlbXBsb3llZXMnOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZSA+IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5sb2coZSkgLyAzO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEuNTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2ZvbGxvd2Vycyc6IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmID4gMCAmJiBmIDw9IDUwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEuNTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChmID4gNTAwICYmIGYgPD0gNTAwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEuODtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChmID4gNTAwMCAmJiBmIDw9IDEwMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChmID4gMTAwMDAgJiYgZiA8PSAyNTAwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDIuNTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChmID4gMjUwMDAgJiYgZiA8PSA5MDAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGYgPiA5MDAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA1O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgY2FudmFzICAgICAgICAgICAgPSBkMy5zZWxlY3QoJ2RpdiNjYW52YXMtZm9yY2UnKS5hcHBlbmQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgICAgICAgICAgID0gY2FudmFzLm5vZGUoKS5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgdmFyIGRldmljZVBpeGVsUmF0aW8gID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSxcbiAgICAgICAgICAgICAgICBiYWNraW5nU3RvcmVSYXRpbyA9IGNvbnRleHQud2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3pCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1zQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5vQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8IDEsXG4gICAgICAgICAgICAgICAgcmF0aW8gICAgICAgICAgICAgPSBkZXZpY2VQaXhlbFJhdGlvIC8gYmFja2luZ1N0b3JlUmF0aW87XG5cbiAgICAgICAgICAgIGNhbnZhc1xuICAgICAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIHdpZHRoICogcmF0aW8pXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGhlaWdodCAqIHJhdGlvKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdpZCcsICduZXR3b3JrQ2FudmFzJyk7XG5cbiAgICAgICAgICAgIHZhciBjYW52YXNFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXR3b3JrQ2FudmFzJyk7XG5cbiAgICAgICAgICAgIGNhbnZhc0VsLnN0eWxlLndpZHRoICA9IHdpZHRoICsgJ3B4JztcbiAgICAgICAgICAgIGNhbnZhc0VsLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XG4gICAgICAgICAgICBjb250ZXh0LnNjYWxlKHJhdGlvLCByYXRpbyk7XG4gICAgICAgICAgICAkc2NvcGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHNjYWxlem9vbSAgPSAxO1xuICAgICAgICAgICAgJCgnI25ldHdvcmtDYW52YXMnKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHZhciBvWCAgICAgICAgICAgICAgICAgICAgICA9IGUub2Zmc2V0WCAvIHNjYWxlem9vbSxcbiAgICAgICAgICAgICAgICAgICAgb1kgICAgICAgICAgICAgICAgICAgICAgPSBlLm9mZnNldFkgLyBzY2FsZXpvb207XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dMaWNlbnNlICAgICAgICAgID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgZW50aXR5Rm91bmQgICAgICAgICAgICAgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBkYXRhLm5vZGVzLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGsgPSBzY2FsZVskc2NvcGUuc2l6ZUJ5XShkWyRzY29wZS5zaXplQnldKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSW5zaWRlQ2lyY2xlKG9YLCBvWSwgZC54ICsgb2Zmc2V0c1tkLnR5cGVdWzBdLCBkLnkgKyBvZmZzZXRzW2QudHlwZV1bMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA0LjUgKiBrKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh5ZGVQYXJ0aWFscygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdzZXRDdXJyZW50RW50aXR5Jywge3ZhbHVlOiBkfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHlGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2V0RW50aXR5KGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzKGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFlbnRpdHlGb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ3NldEN1cnJlbnRMb2NhdGlvbicsIHt2YWx1ZTogbnVsbH0pO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ3NldEN1cnJlbnRFbnRpdHknLCB7dmFsdWU6IG51bGx9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGljaygpO1xuICAgICAgICAgICAgICAgICRzY29wZS5hY3Rpb25zLmludGVyYWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcbiAgICAgICAgICAgICAgICAkKFwiI2RldGFpbHMtcGFuZWxcIikuc2Nyb2xsVG9wKDApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgY291bnQgICAgICAgPSAwO1xuICAgICAgICAgICAgdmFyIGluaXRpYWxMb2FkID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBkcmF3T25Ub3AgICA9IFtdO1xuICAgICAgICAgICAgdmFyIGFsbE5vZGVzICAgID0gW107XG4gICAgICAgICAgICB2YXIgc2hvd0VudGl0aWVzO1xuICAgICAgICAgICAgZGF0YS5ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzRGVmKGVudGl0eUFycmF5W2QudHlwZV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY3VycmVudExvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZC5uYW1lIGluICRzY29wZS5jdXJyZW50TG9jYXRpb24uZGljdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdPblRvcC5wdXNoKGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCEkc2NvcGUuY3VycmVudEVudGl0eSB8fCBzaG93RW50aXRpZXNbZC5pZF0gfHwgZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPT09ICRzY29wZS5jdXJyZW50RW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmN1cnJlbnRFbnRpdHkgfHwgZC53ZWxsY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd09uVG9wLnB1c2goZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbE5vZGVzLnB1c2goZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgYWxsTm9kZXMgID0gYWxsTm9kZXMuY29uY2F0KGRyYXdPblRvcCk7XG4gICAgICAgICAgICB2YXIgdGljayAgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgcGluY2hab29tO1xuXG4gICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPiA3MCAmJiBpbml0aWFsTG9hZCkge1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsTG9hZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBmb3JjZS5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIHBpbmNoWm9vbSA9IG5ldyBSVFAuUGluY2hab29tKCQoJyNuZXR3b3JrQ2FudmFzJyksIHt9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgc2hvd0VudGl0aWVzICAgICAgICA9IHt9O1xuICAgICAgICAgICAgICAgIC8vIERyYXcgbGlua3MuXG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICcjY2NjJztcbiAgICAgICAgICAgICAgICBfLmZvckVhY2goJHNjb3BlLmNvbm5lY3Rpb25zLCBmdW5jdGlvbiAoY29ubmVjdGlvbnMsIHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzQ29uVHlwZURlZmluZWQgICAgICAgICAgPSBpc0RlZigkc2NvcGUuY29ubmVjdGlvblR5cGVzW3R5cGVdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0VudGl0eVRhcmdldFR5cGVEZWZpbmVkID0gaXNEZWYoJHNjb3BlLmVudGl0eVR5cGVzW2QudGFyZ2V0LnR5cGVdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0VudGl0eVNvdXJjZVR5cGVEZWZpbmVkID0gaXNEZWYoJHNjb3BlLmVudGl0eVR5cGVzW2Quc291cmNlLnR5cGVdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShpc0NvblR5cGVEZWZpbmVkICYmIGlzRW50aXR5VGFyZ2V0VHlwZURlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIGlzRW50aXR5U291cmNlVHlwZURlZmluZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNEZWYoJHNjb3BlLmN1cnJlbnRMb2NhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZC5zb3VyY2UubmFtZSBpbiAkc2NvcGUuY3VycmVudExvY2F0aW9uLmRpY3QgJiYgZC50YXJnZXQubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiAkc2NvcGUuY3VycmVudExvY2F0aW9uLmRpY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgTW9kaWZpY2F0aW9uIC0gQm91bmRhcmllcyAgICAgIHZhciBrID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2NhbGVbJHNjb3BlLnNpemVCeV0oZFskc2NvcGUuc2l6ZUJ5XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGsgPSBzY2FsZVskc2NvcGUuc2l6ZUJ5XSgoZC5zb3VyY2UpWyRzY29wZS5zaXplQnldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oTWF0aC5tYXgoNC41ICogaywgTWF0aC5taW4od2lkdGggLSA0LjUgKiBrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnNvdXJjZS54XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgb2Zmc2V0c1tkLnNvdXJjZS50eXBlXVswXSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCg0LjUgKiBrLCBNYXRoLm1pbihoZWlnaHQgLSA0LjUgKiBrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnNvdXJjZS55XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgb2Zmc2V0c1tkLnNvdXJjZS50eXBlXVsxXSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oTWF0aC5tYXgoNC41ICogaywgTWF0aC5taW4od2lkdGggLSA0LjUgKiBrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnRhcmdldC54XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgb2Zmc2V0c1tkLnRhcmdldC50eXBlXVswXSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCg0LjUgKiBrLCBNYXRoLm1pbihoZWlnaHQgLSA0LjUgKiBrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnRhcmdldC55XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgb2Zmc2V0c1tkLnRhcmdldC50eXBlXVsxXSkpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gY29sb3JzW3R5cGVdWydmb2N1c2VkJ107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0RlZigkc2NvcGUuY3VycmVudEVudGl0eSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgZC5zb3VyY2UgPT09ICRzY29wZS5jdXJyZW50RW50aXR5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGQudGFyZ2V0ID09PSAkc2NvcGUuY3VycmVudEVudGl0eSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIE1vZGlmaWNhdGlvbiAtIEJvdW5kYXJpZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgayA9IHNjYWxlWyRzY29wZS5zaXplQnldKChkLnNvdXJjZSlbJHNjb3BlLnNpemVCeV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhNYXRoLm1heCg0LjUgKiBrLCBNYXRoLm1pbih3aWR0aCAtIDQuNSAqIGssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQuc291cmNlLnhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBvZmZzZXRzW2Quc291cmNlLnR5cGVdWzBdKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KDQuNSAqIGssIE1hdGgubWluKGhlaWdodCAtIDQuNSAqIGssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQuc291cmNlLnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBvZmZzZXRzW2Quc291cmNlLnR5cGVdWzFdKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhNYXRoLm1heCg0LjUgKiBrLCBNYXRoLm1pbih3aWR0aCAtIDQuNSAqIGssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQudGFyZ2V0LnhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBvZmZzZXRzW2QudGFyZ2V0LnR5cGVdWzBdKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KDQuNSAqIGssIE1hdGgubWluKGhlaWdodCAtIDQuNSAqIGssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQudGFyZ2V0LnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBvZmZzZXRzW2QudGFyZ2V0LnR5cGVdWzFdKSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBjb2xvcnNbdHlwZV1bJ2ZvY3VzZWQnXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0VudGl0aWVzW2Quc291cmNlLmlkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFbnRpdGllc1tkLnRhcmdldC5pZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGVudGl0eU5hbWVzID0gW107XG4gICAgICAgICAgICAgICAgYWxsTm9kZXMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmVudGl0eVR5cGVzW2QudHlwZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmb2N1cztcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jdXJyZW50TG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZC5uYW1lIGluICRzY29wZS5jdXJyZW50TG9jYXRpb24uZGljdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1cyAgICAgICAgICAgICAgID0gJ2ZvY3VzZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5TmFtZXMucHVzaChkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXMgICAgICAgICAgICAgICA9ICd1bmZvY3VzZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHNjb3BlLmN1cnJlbnRFbnRpdHkgfHwgc2hvd0VudGl0aWVzW2QuaWRdIHx8IGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9PT0gJHNjb3BlLmN1cnJlbnRFbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXMgICAgICAgICAgICAgICA9ICdmb2N1c2VkJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY3VycmVudEVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5TmFtZXMucHVzaChkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkLndlbGxjb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHlOYW1lcy5wdXNoKGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1cyAgICAgICAgICAgICAgID0gJ3VuZm9jdXNlZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGsgPSBzY2FsZVskc2NvcGUuc2l6ZUJ5XShkWyRzY29wZS5zaXplQnldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yc1tkLnR5cGVdW2ZvY3VzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KDQuNSAqIGssIE1hdGgubWluKHdpZHRoIC0gNC41ICogaywgZC54ICsgb2Zmc2V0c1tkLnR5cGVdWzBdKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoNC41ICogaywgTWF0aC5taW4oaGVpZ2h0IC0gNC41ICogaywgZC55ICsgb2Zmc2V0c1tkLnR5cGVdWzFdKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNC41ICogaywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChlbnRpdHlOYW1lcywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGsgICAgICAgICAgICAgICA9IHNjYWxlWyRzY29wZS5zaXplQnldKGRbJHNjb3BlLnNpemVCeV0pO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJyMzMzMzMzMnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSAgICAgICAgICAgID0gZC5uaWNrbmFtZSA/IGQubmlja25hbWUgOiBkLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZm9udCAgICAgICAgPVxuICAgICAgICAgICAgICAgICAgICAgICAgJ2xpZ2h0ZXIgMTFweCBTZWdvZSBVSSwgSGVsdmV0aWNhTmV1ZS1MaWdodCwgc2Fucy1zZXJpZi1saWdodCwgc2Fucy1zZXJpZic7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlVGV4dChuYW1lLCBNYXRoLm1heCg0LjUgKiBrLCBNYXRoLm1pbih3aWR0aCAtIDQuNSAqIGssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnggKyBvZmZzZXRzW2QudHlwZV1bMF0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLSBuYW1lLmxlbmd0aCAqIDIsIE1hdGgubWF4KDQuNSAqIGssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4oaGVpZ2h0IC0gNC41ICogayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnkgKyBvZmZzZXRzW2QudHlwZV1bMV0pKSArIDEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTAwKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgZm9yY2UgPSBkMy5sYXlvdXQuZm9yY2UoKVxuICAgICAgICAgICAgICAgIC5zaXplKFt3aWR0aCwgaGVpZ2h0XSlcbiAgICAgICAgICAgICAgICAubm9kZXMoZGF0YS5ub2RlcylcbiAgICAgICAgICAgICAgICAubGlua3MoZGF0YS5saW5rcylcbiAgICAgICAgICAgICAgICAub24oXCJ0aWNrXCIsIHRpY2spXG4gICAgICAgICAgICAgICAgLmNoYXJnZSgtMilcbiAgICAgICAgICAgICAgICAubGlua1N0cmVuZ3RoKDAuMSlcbiAgICAgICAgICAgICAgICAubGlua0Rpc3RhbmNlKDUwKVxuICAgICAgICAgICAgICAgIC5zdGFydCgpO1xuXG4gICAgICAgICAgICAkc2NvcGUuJG9uKCd0b2dnbGVOb2RlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRpY2soKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJHNjb3BlLiRvbigndG9nZ2xlTGluaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aWNrKCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ25ldHdvcmsgZm91bmQnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJHNjb3BlLiRvbignY2hhbmdlU2l6ZUJ5JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRpY2soKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJHNjb3BlLiRvbignc2VsZWN0SXRlbScsIGZ1bmN0aW9uIChldmVudCwgaXRlbSkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdsb2NhdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbiA9ICRzY29wZS5jdXJyZW50TG9jYXRpb247XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnc2V0Q3VycmVudEVudGl0eScsIHt2YWx1ZTogbnVsbH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gJHNjb3BlLmN1cnJlbnRFbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnc2V0Q3VycmVudExvY2F0aW9uJywge3ZhbHVlOiBudWxsfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRzY29wZS5hY3Rpb25zLmludGVyYWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcbiAgICAgICAgICAgICAgICB0aWNrKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZHJhd05ldHdvcmsgPSBmdW5jdGlvbiAoZW50aXR5QXJyYXksIGNvbm5lY3Rpb25BcnJheSkge1xuICAgICAgICAgICAgJHNjb3BlLmlzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICB2YXIgc3ZnID0gZDMuc2VsZWN0KCcjbmV0d29yaycpO1xuICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG4gICAgICAgICAgICB2YXIgYm91bmRzICAgICAgICAgICA9IHN2Zy5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ICAgICAgICAgICA9IGJvdW5kcy5oZWlnaHQ7XG4gICAgICAgICAgICB2YXIgd2lkdGggICAgICAgICAgICA9IGJvdW5kcy53aWR0aDtcbiAgICAgICAgICAgIHZhciBvZmZzZXRTY2FsZSAgICAgID0gNjtcbiAgICAgICAgICAgIHZhciBkZWZhdWx0Tm9kZVNpemUgID0gNztcbiAgICAgICAgICAgIHZhciBvZmZzZXRzICAgICAgICAgID0ge1xuICAgICAgICAgICAgICAgICdJbmRpdmlkdWFsJzogeyd4JzogMSwgJ3knOiAxfSxcbiAgICAgICAgICAgICAgICAnRm9yLVByb2ZpdCc6IHsneCc6IDEsICd5JzogLTF9LFxuICAgICAgICAgICAgICAgICdOb24tUHJvZml0Jzogeyd4JzogLTEsICd5JzogMX0sXG4gICAgICAgICAgICAgICAgJ0dvdmVybm1lbnQnOiB7J3gnOiAtMSwgJ3knOiAtMX1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgbG93ZXJCb3VuZFJhZGl1cyA9IDEwO1xuICAgICAgICAgICAgdmFyIHVwcGVyQm91bmRSYWRpdXMgPSA1MDtcbiAgICAgICAgICAgIHZhciBtYXhFbXBsb3llZXMgICAgID0gZDMubWF4KGVudGl0eUFycmF5LCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoZWwuZW1wbG95ZWVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIG1heEZvbGxvd2VycyAgICAgPSBkMy5tYXgoZW50aXR5QXJyYXksIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChlbC5mb2xsb3dlcnMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgc2NhbGUgICAgICAgICAgICA9IHtcbiAgICAgICAgICAgICAgICAnZW1wbG95ZWVzJzogZDMuc2NhbGUuc3FydCgpLmRvbWFpbihbMTAsIG1heEVtcGxveWVlc10pXG4gICAgICAgICAgICAgICAgICAgIC5yYW5nZShbbG93ZXJCb3VuZFJhZGl1cywgdXBwZXJCb3VuZFJhZGl1c10pLFxuICAgICAgICAgICAgICAgICdmb2xsb3dlcnMnOiBkMy5zY2FsZS5zcXJ0KCkuZG9tYWluKFsxMCwgbWF4Rm9sbG93ZXJzXSlcbiAgICAgICAgICAgICAgICAgICAgLnJhbmdlKFtsb3dlckJvdW5kUmFkaXVzLCB1cHBlckJvdW5kUmFkaXVzXSlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgbGlua3MgICAgICAgICAgICA9IHt9O1xuICAgICAgICAgICAgdmFyIGZvcmNlICAgICAgICAgICAgPSBkMy5sYXlvdXQuZm9yY2UoKVxuICAgICAgICAgICAgICAgIC5zaXplKFt3aWR0aCwgaGVpZ2h0XSlcbiAgICAgICAgICAgICAgICAubm9kZXMoZW50aXR5QXJyYXkpXG4gICAgICAgICAgICAgICAgLmxpbmtzKF8uZmxhdHRlbihfLnZhbHVlcyhjb25uZWN0aW9uQXJyYXkpKSlcbiAgICAgICAgICAgICAgICAuY2hhcmdlKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmVtcGxveWVlcyA/IC0yICogc2NhbGUuZW1wbG95ZWVzKGQuZW1wbG95ZWVzKSA6IC0yMDtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5saW5rU3RyZW5ndGgoMClcbiAgICAgICAgICAgICAgICAubGlua0Rpc3RhbmNlKDUwKTtcblxuICAgICAgICAgICAgXy5mb3JFYWNoKGNvbm5lY3Rpb25BcnJheSwgZnVuY3Rpb24gKGNvbm5lY3Rpb25zLCB0eXBlKSB7XG4gICAgICAgICAgICAgICAgbGlua3NbdHlwZV0gPSBzdmcuc2VsZWN0QWxsKCcubGluayAuJyArIHR5cGUgKyAnLWxpbmsnKVxuICAgICAgICAgICAgICAgICAgICAuZGF0YShjb25uZWN0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdsaW5lJylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNEZWYoZC5zb3VyY2UpIHx8ICFpc0RlZihkLnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGQudHlwZSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2xpbmsgJyArIHR5cGUgKyAnLWxpbmsgJyArIGQuc291cmNlLnR5cGUgKyAnLWxpbmsgJyArIGQudGFyZ2V0LnR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICctbGluayc7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciBub2RlID0gc3ZnLnNlbGVjdEFsbCgnLm5vZGUnKVxuICAgICAgICAgICAgICAgIC5kYXRhKGVudGl0eUFycmF5KVxuICAgICAgICAgICAgICAgIC5lbnRlcigpLmFwcGVuZCgnZycpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdub2RlICcgKyBkLnR5cGUgKyAnLW5vZGUnO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhbGwoZm9yY2UuZHJhZyk7XG5cbiAgICAgICAgICAgIG5vZGUuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdyJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuZW1wbG95ZWVzID8gc2NhbGVbJ2VtcGxveWVlcyddKGQuZW1wbG95ZWVzKSA6IGRlZmF1bHROb2RlU2l6ZTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbm9kZS5hcHBlbmQoJ3RleHQnKVxuICAgICAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLm5pY2tuYW1lID8gZC5uaWNrbmFtZSA6IGQubmFtZTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5hdHRyKCdkeCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgtMC4wNjUgKiB0aGlzLmdldENvbXB1dGVkVGV4dExlbmd0aCgpIC8gMikgKyAnZW0nO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2R5JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKDAuMDggKiB0aGlzLnBhcmVudE5vZGUuZ2V0QkJveCgpLmhlaWdodCAvIDIgKyAwLjUpICsgJ2VtJztcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZm9yY2Uub24oJ3RpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIC8vIENsdXN0ZXIgaW4gZm91ciBjb3JuZXJzIGJhc2VkIG9uIG9mZnNldC5cbiAgICAgICAgICAgICAgICB2YXIgayA9IG9mZnNldFNjYWxlICogZS5hbHBoYTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlLmFscGhhKVxuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChlbnRpdHlBcnJheSwgZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW50aXR5LnggJiYgb2Zmc2V0c1tlbnRpdHkudHlwZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS54ICs9IG9mZnNldHNbZW50aXR5LnR5cGVdLnggKiBrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LnkgKz0gb2Zmc2V0c1tlbnRpdHkudHlwZV0ueSAqIGs7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkueCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgodXBwZXJCb3VuZFJhZGl1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbih3aWR0aCAtIHVwcGVyQm91bmRSYWRpdXMsIGVudGl0eS54KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkueSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgodXBwZXJCb3VuZFJhZGl1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihoZWlnaHQgLSB1cHBlckJvdW5kUmFkaXVzLCBlbnRpdHkueSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBfLmZvckVhY2gobGlua3MsIGZ1bmN0aW9uIChsaW5rKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuc291cmNlLng7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5zb3VyY2UueTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDInLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnRhcmdldC54O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQudGFyZ2V0Lnk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBub2RlLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKCcgKyBkLnggKyAnLCcgKyBkLnkgKyAnKSc7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBzcGVlZEFuaW1hdGUgPSBmdW5jdGlvbiAodGlja3MpIHtcbiAgICAgICAgICAgICAgICAvLyBTcGVlZCB1cCB0aGUgaW5pdGlhbCBhbmltYXRpb24uXG4gICAgICAgICAgICAgICAgLy8gU2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2MTg5MTEwXG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aWNrczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JjZS50aWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcmNlLmFscGhhKCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICghJHNjb3BlLm1vYmlsZSkge1xuICAgICAgICAgICAgICAgIHNwZWVkQW5pbWF0ZSg3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvcmNlLnN0YXJ0KCk7XG5cbiAgICAgICAgICAgIC8vIEhhc2ggbGlua2VkIG5laWdoYm9ycyBmb3IgZWFzeSBob3ZlcmluZyBlZmZlY3RzLlxuICAgICAgICAgICAgLy8gU2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzg3ODAyNzdcbiAgICAgICAgICAgIHZhciBsaW5rZWRCeUluZGV4ID0ge307XG4gICAgICAgICAgICBfLmZvckVhY2gobGlua3MsIGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGxbMF0sIGZ1bmN0aW9uIChjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9IGNvbm5lY3Rpb24uX19kYXRhX18uc291cmNlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSBjb25uZWN0aW9uLl9fZGF0YV9fLnRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgbGlua2VkQnlJbmRleFtzb3VyY2UuaW5kZXggKyAnLCcgKyB0YXJnZXQuaW5kZXhdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbGlua2VkQnlJbmRleFt0YXJnZXQuaW5kZXggKyAnLCcgKyBzb3VyY2UuaW5kZXhdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgbmVpZ2hib3JpbmcgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBsaW5rZWRCeUluZGV4W2EuaW5kZXggKyAnLCcgKyBiLmluZGV4XSB8fCBhLmluZGV4ID09PSBiLmluZGV4O1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGZvY3VzbmVpZ2hib3JzID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgICAgICAgIC8vIEFwcGx5ICd1bmZvY3VzZWQnIGNsYXNzIHRvIGFsbCBub24tbmVpZ2hib3JzLlxuICAgICAgICAgICAgICAgIC8vIEFwcGx5ICdmb2N1c2VkJyBjbGFzcyB0byBhbGwgbmVpZ2hib3JzLlxuICAgICAgICAgICAgICAgIC8vIFRPRE86IFNlZSBpZiBpdCBjYW4gYmUgZG9uZSB3aXRoIGp1c3Qgb25lIGNsYXNzIGFuZCA6bm90KC5mb2N1c2VkKSBDU1Mgc2VsZWN0b3JzLlxuICAgICAgICAgICAgICAgIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2ZvY3VzZWQnLCBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5laWdoYm9yaW5nKGVudGl0eSwgbik7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCd1bmZvY3VzZWQnLCBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFuZWlnaGJvcmluZyhlbnRpdHksIG4pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChsaW5rcywgZnVuY3Rpb24gKGxpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgbGlua1xuICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2ZvY3VzZWQnLCBmdW5jdGlvbiAobykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRpdHkuaW5kZXggPT09IG8uc291cmNlLmluZGV4IHx8IGVudGl0eS5pbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID09PSBvLnRhcmdldC5pbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIShlbnRpdHkuaW5kZXggPT09IG8uc291cmNlLmluZGV4IHx8IGVudGl0eS5pbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPT09IG8udGFyZ2V0LmluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGZvY3VzID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY3VycmVudEVudGl0eSAhPT0gZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXRFbnRpdHkoZW50aXR5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgIGZvY3VzbmVpZ2hib3JzKGVudGl0eSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgdW5mb2N1cyAgICAgICA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAvL3ZhciB0cmFuc2l0aW9uZGVsYXkgPSA3NTtcbiAgICAgICAgICAgICAgICBub2RlXG4gICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdmb2N1c2VkJywgZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCd1bmZvY3VzZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGxpbmtzLCBmdW5jdGlvbiAobGluaykge1xuICAgICAgICAgICAgICAgICAgICBsaW5rXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgnZm9jdXNlZCcsIGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ3VuZm9jdXNlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBlbnRpdHkuZml4ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyBSZXN0YXJ0IGQzIGFuaW1hdGlvbnMuXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICBmb3JjZS5yZXN1bWUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy9UT0RPOiBTaG93IGdlbmVyaWMgZGV0YWlscyBhbmQgbm90IGluZGl2aWR1YWwgZW50aXR5IGRldGFpbHM/XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGhvdmVyVGltZXI7XG4gICAgICAgICAgICB2YXIgaG92ZXIgICAgICAgICA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICBpZiAoISRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSAmJiAhJHNjb3BlLmVkaXRpbmcgJiYgISRzY29wZS5jdXJyZW50TG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaG92ZXJUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXMoZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciB1bmhvdmVyICAgICAgID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgICAgICAgIGlmICghJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ICYmICEkc2NvcGUuY3VycmVudExvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuZm9jdXMoZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGhvdmVyVGltZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGZvY3VzTG9jYXRpb24gPSBmdW5jdGlvbiAobG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAvLyAgSWYgdGhlIGN1cnJlbnQgZW50aXR5IGlzIHNob3duIGFuZCBpdCBkb2Vzbid0IG1hdGNoIHRoZSBjbGlja2VkIG5vZGUsIHRoZW4gc2V0XG4gICAgICAgICAgICAgICAgLy8gdGhlIG5ldyBub2RlIHRvIGNsaWNrZWQuXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuXG4gICAgICAgICAgICAgICAgbm9kZS5jbGFzc2VkKCdmb2N1c2VkJywgZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuLm5hbWUgaW4gbG9jYXRpb24uZGljdDtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ3VuZm9jdXNlZCcsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIShuLm5hbWUgaW4gbG9jYXRpb24uZGljdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGxpbmtzLCBmdW5jdGlvbiAobGluaykge1xuICAgICAgICAgICAgICAgICAgICBsaW5rXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgnZm9jdXNlZCcsIGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChvLnNvdXJjZS5uYW1lIGluIGxvY2F0aW9uLmRpY3QgJiYgby50YXJnZXQubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIGxvY2F0aW9uLmRpY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCd1bmZvY3VzZWQnLCBmdW5jdGlvbiAobykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhKG8uc291cmNlLm5hbWUgaW4gbG9jYXRpb24uZGljdCkgfHwgIShvLnRhcmdldC5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIGxvY2F0aW9uLmRpY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgdW5mb2N1c0xvY2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2ZvY3VzZWQnLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ3VuZm9jdXNlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBfLmZvckVhY2gobGlua3MsIGZ1bmN0aW9uIChsaW5rKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdmb2N1c2VkJywgZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jbGlja2VkTG9jYXRpb24ubG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yY2UucmVzdW1lKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGhpZ2hsaWdodExvY2F0aW9uID0gZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dMaWNlbnNlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICB1bmZvY3VzKCRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uICE9PSBsb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB1bmZvY3VzTG9jYXRpb24oJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkTG9jYXRpb24ubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgZm9jdXNMb2NhdGlvbihsb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkMy5ldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBkMy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBjbGljayAgICAgICAgICAgICA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xpY2Vuc2UgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmIChpc0RlZigkc2NvcGUuY2xpY2tlZExvY2F0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNEZWYoJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZm9jdXNMb2NhdGlvbigkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAgSWYgdGhlIHByZXZpb3VzIG5vZGUgaXMgZXF1YWwgdG8gdGhlIG5ldyBub2RlLCBkbyBub3RoaW5nLlxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID09PSBlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgVW5mb2N1cyBvbiBwcmV2aW91cyBub2RlIGFuZCBmb2N1cyBvbiBuZXcgbm9kZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmZvY3VzKCRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPSBlbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1cyhlbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gU3RvcCBldmVudCBzbyB3ZSBkb24ndCBkZXRlY3QgYSBjbGljayBvbiB0aGUgYmFja2dyb3VuZC5cbiAgICAgICAgICAgICAgICAvLyBTZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3EvMjI5NDE3OTZcbiAgICAgICAgICAgICAgICBpZiAoZDMuZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZDMuZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRzY29wZS5hY3Rpb25zLmludGVyYWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBiYWNrZ3JvdW5kY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzRGVmKCRzY29wZS5jbGlja2VkTG9jYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0RlZigkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5mb2N1cygkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkTG9jYXRpb24ubG9jYXRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0RlZigkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1bmZvY3VzKCRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcbiAgICAgICAgICAgICAgICAvL1RPRE86IFNob3cgZ2VuZXJpYyBkZXRhaWxzIGFuZCBub3QgaW5kaXZpZHVhbCBlbnRpdHkgZGV0YWlscy5cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgZGJsY2xpY2sgICAgICAgID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgICAgICAgIGlmICghZW50aXR5LmZpeGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS54ICAgICAgICAgICAgICAgICAgICA9IHdpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LnkgICAgICAgICAgICAgICAgICAgID0gaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LnB4ICAgICAgICAgICAgICAgICAgID0gd2lkdGggLyAyO1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkucHkgICAgICAgICAgICAgICAgICAgPSBoZWlnaHQgLyAyO1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkuZml4ZWQgICAgICAgICAgICAgICAgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPSBlbnRpdHk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdW5mb2N1cyhlbnRpdHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBub2RlLm9uKCdtb3VzZW92ZXInLCBob3Zlcik7XG4gICAgICAgICAgICBub2RlLm9uKCdtb3VzZW91dCcsIHVuaG92ZXIpO1xuICAgICAgICAgICAgbm9kZS5vbignY2xpY2snLCBjbGljayk7XG4gICAgICAgICAgICBub2RlLm9uKCdkYmxjbGljaycsIGRibGNsaWNrKTtcbiAgICAgICAgICAgIHN2Zy5vbignY2xpY2snLCBiYWNrZ3JvdW5kY2xpY2spO1xuXG4gICAgICAgICAgICBub2RlXG4gICAgICAgICAgICAgICAgLmNsYXNzZWQoJ3dlbGxjb25uZWN0ZWQnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5oYXNPd25Qcm9wZXJ0eSgnd2VsbGNvbm5lY3RlZCcpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkc2NvcGUuJG9uKCdjaGFuZ2VTaXplQnknLCBmdW5jdGlvbiAoZXZlbnQsIHNpemVCeSkge1xuICAgICAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJ2NpcmNsZScpXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKDI1MClcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3InLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRbc2l6ZUJ5XSA/IHNjYWxlW3NpemVCeV0oZFtzaXplQnldKSA6IGRlZmF1bHROb2RlU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICRzY29wZS4kb24oJ3RvZ2dsZUxpbmsnLCBmdW5jdGlvbiAoZXZlbnQsIGxpbmspIHtcbiAgICAgICAgICAgICAgICAvLyBsaW5rc1tsaW5rLm5hbWVdXG4gICAgICAgICAgICAgICAgLy8gLmNsYXNzZWQoeyd2aXNpYmxlJzogbGluay5lbmFibGVkLCAnaGlkZGVuJzogIWxpbmsuZW5hYmxlZH0pO1xuICAgICAgICAgICAgICAgIF8ubWFwKCRzY29wZS5lbnRpdHlUeXBlcywgZnVuY3Rpb24gKHZhbCwga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHN2Z1xuICAgICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnLicgKyBrZXkgKyAnLWxpbmsnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2aXNpYmxlJzogZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29ubmVjdGlvblR5cGUgZW5hYmxlZCwgY29ubmVjdGlvbiBzb3VyY2UgZW50aXR5IHR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXMgZW5hYmxlZCwgY29ubmVjdGlvbiB0YXJnZXQgZW50aXR5IHR5cGUgaXMgZW5hYmxlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEkc2NvcGUuY29ubmVjdGlvblR5cGVzW2wudHlwZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgkc2NvcGUuZW50aXR5VHlwZXNbbC5zb3VyY2UudHlwZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAkc2NvcGUuZW50aXR5VHlwZXNbbC50YXJnZXQudHlwZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hpZGRlbicgOiBmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBhbnkgb2YgQ29ubmVjdGlvblR5cGUsIHNvdXJjZSBlbnRpdHkgdHlwZSwgb3IgdGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVudGl0eSB0eXBlIGFyZSBkaXNhYmxlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEkc2NvcGUuY29ubmVjdGlvblR5cGVzW2wudHlwZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICghJHNjb3BlLmVudGl0eVR5cGVzW2wuc291cmNlLnR5cGVdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAhJHNjb3BlLmVudGl0eVR5cGVzW2wudGFyZ2V0LnR5cGVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkc2NvcGUuJG9uKCd0b2dnbGVOb2RlJywgZnVuY3Rpb24gKGV2ZW50LCB0eXBlKSB7XG4gICAgICAgICAgICAgICAgc3ZnXG4gICAgICAgICAgICAgICAgICAgIC5zZWxlY3RBbGwoJy4nICsgdHlwZS5uYW1lICsgJy1ub2RlJylcbiAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoeyd2aXNpYmxlJzogdHlwZS5lbmFibGVkLCAnaGlkZGVuJzogIXR5cGUuZW5hYmxlZH0pO1xuXG4gICAgICAgICAgICAgICAgc3ZnXG4gICAgICAgICAgICAgICAgICAgIC5zZWxlY3RBbGwoJy4nICsgdHlwZS5uYW1lICsgJy1saW5rJylcbiAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Zpc2libGUnOiBmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbm5lY3Rpb25UeXBlIGVuYWJsZWQsIGNvbm5lY3Rpb24gc291cmNlIGVudGl0eSB0eXBlIGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW5hYmxlZCwgY29ubmVjdGlvbiB0YXJnZXQgZW50aXR5IHR5cGUgaXMgZW5hYmxlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmNvbm5lY3Rpb25UeXBlc1tsLnR5cGVdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICgkc2NvcGUuZW50aXR5VHlwZXNbbC5zb3VyY2UudHlwZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgJHNjb3BlLmVudGl0eVR5cGVzW2wudGFyZ2V0LnR5cGVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGlkZGVuJyA6IGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgYW55IG9mIENvbm5lY3Rpb25UeXBlLCBzb3VyY2UgZW50aXR5IHR5cGUsIG9yIHRhcmdldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVudGl0eSB0eXBlIGFyZSBkaXNhYmxlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gISRzY29wZS5jb25uZWN0aW9uVHlwZXNbbC50eXBlXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoISRzY29wZS5lbnRpdHlUeXBlc1tsLnNvdXJjZS50eXBlXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAhJHNjb3BlLmVudGl0eVR5cGVzW2wudGFyZ2V0LnR5cGVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkc2NvcGUuJG9uKCdzZWxlY3RJdGVtJywgZnVuY3Rpb24gKGV2ZW50LCBpdGVtKSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2xvY2F0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRMb2NhdGlvbigkc2NvcGUuY3VycmVudExvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrKCRzY29wZS5jdXJyZW50RW50aXR5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuY29udHJvbGxlcignbmV0d29ya0N0cmwnLCBkZXBlbmRlbmNpZXMpO1xuXG59KShhbmd1bGFyLCBSVFApO1xuIl19
