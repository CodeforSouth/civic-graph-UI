!function(i){"use strict";var t=["ui.bootstrap","leaflet-directive","ngAnimate"];i.module("civic-graph",t)}(angular);
!function(t){"use strict";function a(){return{templateUrl:"/js/analytic/analytics.html",restrict:"E",scope:{},controller:"analyticsCtrl"}}var c=[a];t.module("civic-graph").directive("analytics",c)}(angular);
!function(o){"use strict";function r(){return{templateUrl:"/js/control/controls.html",restrict:"E",scope:{toggleNetwork:"="},controller:"controlCtrl",controllerAs:"control",bindToController:{minConnections:"="}}}var t=[r];o.module("civic-graph").directive("control",t)}(angular);
!function(i,t){"use strict";function s(i){function s(){var i=t(this);i.css("height","55vh")}function c(){var i=t(this);window.innerHeight/3>parseInt(i.css("height"))?i.css("height","55vh"):i.css("height","30vh")}var e;i.mobile&&(e=t("#details-panel"),e.css("height","30vh"),e.scrollTop(0),e.scroll(s),e.click(c))}function c(){return{restrict:"A",link:s}}i.module("civic-graph").directive("addMobileEvents",[c])}(angular,$);
!function(o){"use strict";function c(o,c){o.closeWindow=function(){c.close()}}o.module("civic-graph").controller("modalCtrl",["$scope","$modalInstance",c])}(angular);
!function(t){"use strict";function e(){return{templateUrl:"/js/edit-entity/edit.html",restrict:"E",scope:{entity:"=",entities:"=",isOpen:"="},controller:"editCtrl"}}var i=[e];t.module("civic-graph").directive("editEntity",i)}(angular);
!function(t){"use strict";t.module("civic-graph").constant("_",window._).constant("config",{apiHost:"https://api.civicgraph.io/"}).config(["$locationProvider","$httpProvider","$compileProvider",function(t,o,i){t.html5Mode(!0),o.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",i.debugInfoEnabled(!0)}]).filter("thousandSuffix",function(){return function(t,o){var i,n=["k","M","G","T","P","E"];return window.isNaN(t)?null:t<1e3?t:(i=Math.floor(Math.log(t)/Math.log(1e3)),(t/Math.pow(1e3,i)).toFixed(o)+n[i-1])}})}(angular);
!function(t){"use strict";function i(t,i,e,n,o,a){t.random=(new Date).getTime(),t.entities=[],t.searchItems=null,t.categories=[],t.currentLocation=null,t.clickedLocation={},t.clickedLocation.location=null,t.clickedEntity={},t.clickedEntity.entity=null,t.editing=!1,t.actions={interacted:!1},t.showsearchMB=!1,t.showAnalytics=!1,t.entityTypes=n.getEntityTypes(),t.connectionTypes=o.getConnectionTypes(),t.status={isNetworkShown:!0,license:!0,networkLoading:!0},t.toggleAnalytics=function(){t.showAnalytics=!t.showAnalytics},this.minConnections=t.minConnections=2;var s=this;t.$watch("minConnections",function(){t.$broadcast("entitiesLoaded")}),t.connectionChange=function(){console.log(s.minConnections),t.minConnections=s.minConnections,t.$broadcast("entitiesLoaded")},t.hydePartials=function(i){"search"===i?(t.editing=!1,t.settingsEnabled=!1):"settings"===i?(t.editing=!1,t.showsearchMB=!1):"edit"===i?(t.settingsEnabled=!1,t.showsearchMB=!1):(t.editing=!1,t.settingsEnabled=!1,t.showsearchMB=!1)},t.showSearch=function(){t.hydePartials("search"),t.showsearchMB=!t.showsearchMB,t.status.license=!1},t.toggleSettings=function(){t.hydePartials("settings"),t.settingsEnabled=!t.settingsEnabled},t.startEdit=function(i){t.currentEntity=i,t.mobile&&t.hydePartials("edit"),t.editing=!0},t.switchView=function(){t.changeView(t.status.isNetworkShown?"Map":"Network")},window.mobilecheck=function(){var t=!1,i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,e=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;return function(n){(i.test(n)||e.test(n.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t},t.mobile=window.mobilecheck(),t.settingsEnabled=!t.mobile,setTimeout(function(){i.get(a.apiHost+"api/entities").success(function(i){t.entities=i.nodes;var n=e.uniq(e.pluck(e.flatten(e.pluck(t.entities,"locations")),"locality")),o=e.map(n,function(i){var n=e.filter(t.entities,e.flow(e.property("locations"),e.partialRight(e.any,{locality:i})));return{name:i,type:"location",entities:n,dict:e.zipObject(e.pluck(n,"name"),e.pluck(n,"index"))}});t.searchItems=o.concat(t.entities),t.overviewUrl="js/overview/overview.html?i="+t.random,t.$broadcast("entitiesLoaded")})},100),t.overviewUrl=null,t.setEntity=function(i){t.currentLocation=null,t.currentEntity=i,t.editing&&t.stopEdit(),t.$broadcast("entityChange")},t.setEntityID=function(i){t.setEntity(e.find(t.entities,{id:i}))},t.setLocation=function(i){t.currentLocation=i,t.editing&&t.stopEdit(),t.$broadcast("itemChange")},t.selectItem=function(i){"location"===i.type?t.setLocation(i):t[i%1===0?"setEntityID":"setEntity"](i),t.$broadcast("selectItem",i)},t.$on("setCurrentEntity",function(i,e){t.currentEntity=e.value}),t.$on("setCurrentLocation",function(i,e){t.currentLocation=e.value}),t.setEntities=function(i){t.entities=i},t.stopEdit=function(){t.editing=!1},t.$on("editEntitySuccess",function(i){t.setEntities(i.nodes),t.$broadcast("entitiesLoaded")}),t.animationsEnabled=!0}var e=["$scope","$http","_","entityService","connectionService","config",i];t.module("civic-graph").controller("homeCtrl",e)}(angular);
!function(i){"use strict";var a=[];i.module("civic-graph").directive("map",a)}(angular);
!function(e){"use strict";function t(e,t){e.categorizedEntities={},t.forEach(t.keys(e.entityTypes),function(i){e.categorizedEntities[i]=t.filter(e.entities,{type:i})})}e.module("civic-graph").controller("overviewCtrl",["$scope","_",t])}(angular);
!function(r){"use strict";function t(){return{restrict:"E",templateUrl:"/js/network/network.html",controller:"networkCtrl"}}var e=[t];r.module("civic-graph").directive("network",e)}(angular);
!function(e){"use strict";e.module("civic-graph").directive("input",function(){return{restict:"E",require:"?ngModel",link:function(e,r,t,i){"type"in t&&"range"===t.type.toLowerCase()&&i.$parsers.push(parseFloat)}}})}(angular);
!function(c){"use strict";function n(c){}c.module("civic-graph").controller("analyticsCtrl",["$scope",n])}(angular);
!function(e){"use strict";function o(e,o,n,t,i){var a=this;a.entityTypes=e.getEntityTypes(),a.connectionTypes=o.getConnectionTypes(),a.sizeByList=[{name:"Employees",value:"employees"},{name:"Twitter Followers",value:"followers"}],a.sizeBy="employees",a.showView={Network:!0,Map:!1},a.changeView=function(e){t.forEach(t.keys(a.showView),function(o){a.showView[o]=e===o}),n.$broadcast("viewChange")},a.showAbout=function(){i.open({animation:!1,templateUrl:"control/about.html",controller:"modalCtrl"})},a.toggleNode=function(e){n.$broadcast("toggleNode",{name:e,enabled:a.entityTypes[e]})},a.toggleLink=function(e){n.$broadcast("toggleLink",{name:e,enabled:a.connectionTypes[e]})},a.changeSizeBy=function(){n.$broadcast("changeSizeBy",a.sizeBy)}}var n=["entityService","connectionService","$rootScope","_","$modal",o];e.module("civic-graph").controller("controlCtrl",n)}(angular);
!function(e){"use strict";function n(e,n){e.itemsShownDefault={key_people:3,grants_given:3,grants_received:3,investments_made:3,investments_received:3,collaborations:3,employments:3,relations:3,data_given:3,data_received:3,revenues:3,expenses:3},e.itemsShown=n.clone(e.itemsShownDefault),e.$on("entityChange",function(){e.itemsShown=n.clone(e.itemsShownDefault)}),e.showMore=function(n){e.itemsShown[n]=e.currentEntity[n].length},e.showLess=function(n){e.itemsShown[n]=e.itemsShownDefault[n]}}e.module("civic-graph").controller("detailsCtrl",["$scope","_",n])}(angular);
!function(t){"use strict";function e(t){return void 0!==t&&null!==t}function i(i,n,o,s,c,a,r){function d(){var t,e,n,o;for(e in i.categories)if(i.categories.hasOwnProperty(e)){t=i.categories[e];for(n in i.editEntity.categories)i.editEntity.categories.hasOwnProperty(n)&&(o=i.editEntity.categories[n],t.id===o.id&&(t.enabled=o.enabled))}}i.isEditing=!1,i.editEntity=c.getEntityModel(i.entity),i.entityTypes=c.getEntityTypes(),i.influenceTypes=c.getInfluenceTypes();var u;i.categories=[],i.addressSearch=function(t){return n.jsonp("https://dev.virtualearth.net/REST/v1/Locations",{params:{query:t,key:"Ai58581yC-Sr7mcFbYTtUkS3ixE7f6ZuJnbFJCVI4hAtW1XoDEeZyidQz2gLCCyD",jsonp:"JSON_CALLBACK",include:"ciso2"}}).then(function(t){if(e(t.data.resourceSets)&&t.data.resourceSets.length>0)return t.data.resourceSets[0].resources})},i.toggleCategory=function(t){if(0===i.editEntity.categories.length)i.editEntity.categories.push(t);else{var e=!1;for(var n in i.editEntity.categories)if(i.editEntity.categories.hasOwnProperty(n)){var o=i.editEntity.categories[n];if(o.id===t.id){e=!0,o.enabled=t.enabled;break}}e||i.editEntity.categories.push(t)}},i.setLocation=function(t,n){i.addressSearch(t.formattedAddress).then(function(o){var s=o[0],c=s.address,a=s.point;i.addLocation(n),t.address_line=e(c.addressLine)?c.addressLine:"",t.locality=e(c.locality)?c.locality:"",t.district=e(c.adminDistrict)?c.adminDistrict:"",t.country=e(c.countryRegion)?c.countryRegion:null,t.country_code=e(c.countryRegionIso2)?c.countryRegionIso2:"",t.coordinates=e(a.coordinates)?a.coordinates:null,t.postal_code=e(c.postalCode)?c.postalCode:null})},i.addLocation=function(t){t&&i.editEntity.locations.push(a.getLocationModel())},i.addKeyPerson=function(){s.some(i.editEntity.key_people,{name:"",id:null})||i.editEntity.key_people.push({name:"",id:null})},i.setFundingConnection=function(t,e){e.entity_id=t.id},i.addFundingConnection=function(t){s.some(t,{entity:""})||t.push({entity:"",amount:null,year:null,id:null})},i.setConnection=function(t,e){e.entity_id=t.id},i.addConnection=function(t){s.some(t,{entity:"",id:null})||t.push({entity:"",id:null,details:null})},i.addFinance=function(t){s.every(t,function(t){return t.amount>0&&t.year>1750})&&t.push({amount:null,year:null,id:null})},i.save=function(){i.isSaving=!0,console.log(i.editEntity.generateDBModel()),n.post(r.apiHost+"api/save",{entity:i.editEntity.generateDBModel()}).success(function(t){i.isSaving=!1,i.$emit("editEntitySuccess",t),i.cancelEdit()}).error(function(){i.isError=!0,o(function(){i.isError=!1},2e3)})},i.cancelEdit=function(){i.isOpen=!1},i.$watch("entity",function(n,o){t.equals(n,o)||(console.log(i.entity),i.editEntity=c.getEntityModel(n),i.categories=t.copy(u),d(),i.isEditing=e(i.editEntity.id))}),n.get(r.apiHost+"api/categories").success(function(e){u=e.categories,i.categories=t.copy(u)})}var n=["$scope","$http","$timeout","_","entityService","locationService","config",i];t.module("civic-graph").controller("editCtrl",n)}(angular);
!function(n){"use strict";function e(){function n(n){return void 0!==n&&null!==n}function e(e){var i=n(e)?e:{};this.name=n(i.name)?i.name:null,this.enabled=!n(i.enable)||i.enabled,this.id=n(i.id)?i.id:null}this.getCategoryModel=function(n){return new e(n)}}var i=[e];n.module("civic-graph").service("categoryService",i)}(angular);
!function(n){"use strict";function t(n){return void 0!==n&&null!==n}function i(){function n(n){var i=t(n);this.entity=i&&t(n.entity)?n.entity:null,this.id=i&&t(n.id)?n.id:null,this.details=i&&t(n.details)?n.details:null,this.name=i&&t(n.name)?n.name:null,this.entity_id=i&&t(n.entity_id)?n.entity_id:null}this.getConnectionModel=function(t){return new n(t)},this.getConnectionTypes=function(){return l}}var e=[i],l={Funding:!0,Data:!0,Employment:!0,Collaboration:!0};n.module("civic-graph").service("connectionService",e)}(angular);
!function(e){"use strict";function n(n,t,i,o,s){function p(e){return void 0!==e&&null!==e}function r(n,t){if(!p(n)&&!e.isArray(n))return[t()];var i,o,s=[];for(i in n)n.hasOwnProperty(i)&&(o=n[i],e.isObject(o)&&s.push(t(o)));return s.push(t()),s}function a(e){var l=this,c=p(e)?e:{};this.id=p(c.id)?c.id:null,this.name=p(c.name)?c.name:null,this.locations=r(c.locations,o.getLocationModel),this.influence=p(c.influence)?c.influence:null,this.grants_received=r(c.grants_received,n.getFundingConnectionModel),this.investments_received=r(c.investments_received,n.getFundingConnectionModel),this.grants_given=r(c.grants_given,n.getFundingConnectionModel),this.investments_made=r(c.investments_made,n.getFundingConnectionModel),this.data_given=r(c.data_given,t.getConnectionModel),this.data_received=r(c.data_received,t.getConnectionModel),this.collaborations=r(c.collaborations,t.getConnectionModel),this.key_people=r(c.key_people,t.getConnectionModel),this.employments=r(c.employments,t.getConnectionModel),this.revenues=r(c.revenues,i.getFinanceModel),this.expenses=r(c.expenses,i.getFinanceModel),this.categories=r(c.categories,s.getCategoryModel),this.type=p(c.type)?c.type:null,this.nickname=p(c.nickname)?c.nickname:null,this.url=p(c.url)?c.url:null,this.twitter_handle=p(c.twitter_handle)?c.twitter_handle:null,this.employees=p(c.employees)?c.employees:null,this.generateDBModel=function(){var e=new a(l);return e.locations.pop(),e.locations.pop(),e.grants_received.pop(),e.grants_received.pop(),e.grants_given.pop(),e.grants_given.pop(),e.investments_received.pop(),e.investments_received.pop(),e.investments_made.pop(),e.investments_made.pop(),e.data_given.pop(),e.data_given.pop(),e.data_received.pop(),e.data_received.pop(),e.collaborations.pop(),e.collaborations.pop(),e.key_people.pop(),e.key_people.pop(),e.employments.pop(),e.employments.pop(),e.revenues.pop(),e.revenues.pop(),e.expenses.pop(),e.expenses.pop(),e.categories.pop(),e.categories.pop(),e.description="",console.log(e),e}}var l={Government:!0,"For-Profit":!0,"Non-Profit":!0,Individual:!0},c=["Local","National","Global"];this.getEntityModel=function(e){return new a(e)},this.getEntityTypes=function(){return l},this.getInfluenceTypes=function(){return c}}var t=["fundingConnectionService","connectionService","financeService","locationService","categoryService",n];e.module("civic-graph").service("entityService",t)}(angular);
!function(n){"use strict";function i(n){return void 0!==n&&null!==n}function t(){function n(n){var t=i(n)?n:{};this.amount=i(t.amount)&&t.amount>=0?t.amount:0,this.year=i(t.year)&&t.year>=1750?t.year:null,this.id=i(t.id)?t.id:null}this.getFinanceModel=function(i){return new n(i)}}var e=[t];n.module("civic-graph").service("financeService",e)}(angular);
!function(n){"use strict";function i(n){return void 0!==n&&null!==n}function t(){function n(n){var t=i(n);this.entity=t&&i(n.entity)?n.entity:"",this.amount=t&&i(n.amount)?n.amount:null,this.year=t&&i(n.year)?n.year:null,this.id=t&&i(n.id)?n.id:null}this.getFundingConnectionModel=function(i){return new n(i)}}var e=[t];n.module("civic-graph").service("fundingConnectionService",e)}(angular);
!function(t){"use strict";function i(){function t(t){return void 0!==t&&null!==t}function i(i){var s=t(i)?i:{};this.address_line=t(s.address_line)?s.address_line:null,this.locality=t(s.locality)?s.locality:null,this.district=t(s.district)?s.district:null,this.postal_code=t(s.postal_code)?s.postal_code:null,this.country=t(s.country)?s.country:null,this.country_code=t(s.country_code)?s.country_code:null,this.coordinates=t(s.coordinates)?s.coordinates:null,this.id=t(s.id)?s.id:null,this.formattedAddress=(t(this.address_line)?this.address_line+" ":"")+(t(this.locality)?this.locality+", ":"")+(t(this.country_code)?this.country_code+" ":"")+(t(this.postal_code)?this.postal_code:""),this.formattedAddress=this.formattedAddress.trim()}this.getLocationModel=function(t){return new i(t)}}var s=[i];t.module("civic-graph").service("locationService",s)}(angular);
!function(t,e,n){"use strict";function i(t,i,o,r,a){t.options={center:{lat:20,lng:-40,zoom:3},defaults:{tileLayer:"https://api.tiles.mapbox.com/v4/mapbox.light/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiZGF2aWRscm50IiwiYSI6IjA0M2RkNzMzZWJmNzEzNGYzMTdhYTExYzAyZmU4ZTE1In0.TNYlFta2VItrkn4L0Z9BJQ",tileLayerOptions:{detectRetina:!0,reuseTiles:!1},zoomControl:!1,attributionControl:!1}},i(function(){var i=function(t){var n=t.data,i=e.layout.pie().sort(null).value(function(t){return t.value}),o=e.svg.arc().outerRadius(t.r).innerRadius(t.r-10),r=t.r+t.strokeWidth,a=2*r,c=a,l=document.createElementNS(e.ns.prefix.svg,"svg"),s=e.select(l).data(n).attr("class","piechart").attr("width",a).attr("height",c),u=s.selectAll(".arc").data(i(n)).enter().append("g").attr("class","arc").attr("transform","translate("+r+","+r+")");return u.append("path").attr("d",o).attr("class",function(t){return t.data.type+"-arc"}),u.append("svg:text").text(function(e,n){if(0===n)return t.count}).attr("x",-4*t.count.toString().length).attr("dy",5).attr("class","arcText"),window.XMLSerializer?(new window.XMLSerializer).serializeToString(l):l.xml?l.xml:""};o.getMap().then(function(e){function o(t){var e=t.getAllChildMarkers(),o=e.length,a=r.pluck(e,"options"),c=r.map(r.countBy(a,"type"),function(t,e){return{type:e,value:t}}),l=28,s=1,u=2*(l+s),d=i({data:c,r:l,strokeWidth:s,count:o});return new n.DivIcon({html:d,className:"marker-cluster",iconSize:new n.point(u,u)})}function c(t){function e(e){if(r.every(e.coordinates)){"40.78200"===e.coordinates[0].toFixed(5)&&"-73.83170"===e.coordinates[1].toFixed(5)&&(e.coordinates[0]=40.77065,e.coordinates[1]=-73.97406);var i=n.marker(e.coordinates,{icon:u[t.type],title:t.name,entity_id:t.id,message:t.name,type:t.type});d.addLayer(i)}}r.forEach(t.locations,e)}function l(t){console.error(t.message+"  %O",t)}var s=a("filter")(t.entities,function(t){return t.collaborations.length>4});e.invalidateSize(),new n.Control.Zoom({position:"topright"}).addTo(e),n.control.locate({position:"topright",showPopup:!1,icon:"fa fa-location-arrow"}).addTo(e);var u={"Non-Profit":n.icon({iconUrl:"img/marker-nonprof.svg",iconSize:[60,60]}),"For-Profit":n.icon({iconUrl:"img/marker-prof.svg",iconSize:[60,60]}),Individual:n.icon({iconUrl:"img/marker-ind.svg",iconSize:[60,60]}),Government:n.icon({iconUrl:"img/marker-gov.svg",iconSize:[60,60]})},d=n.markerClusterGroup({spiderfyOnMaxZoom:!0,showCoverageOnHover:!1,iconCreateFunction:o,maxClusterRadius:30,spiderfyDistanceMultiplier:1.3});console.log("Original: %O",t.entities),console.log("Filtered: %O",s),r.forEach(s,c),e.addLayer(d),e.on("locationerror",l),d.on("click",function(e){t.setEntityID(e.layer.options.entity_id),t.clickedEntity.entity=t.currentEntity,t.actions.interacted=!0,t.settingsEnabled&&t.mobile&&t.toggleSettings(),t.safeApply()}),e.on("click",function(){t.clickedEntity.entity=null,t.actions.interacted=!0,t.safeApply()}),t.$on("selectItem",function(){var n=t.currentEntity.locations.length>0?r.pluck(t.currentEntity.locations,"coordinates"):null;n.length>0&&e.setView(n[0],11),t.actions.interacted=!0,t.safeApply()})})})}var o=["$scope","$timeout","leafletData","_","$filter",i];t.module("civic-graph").controller("mapCtrl",o)}(angular,d3,L);
!function(t,e){"use strict";function n(t){return void 0!==t&&null!==t}function i(t,i,o,c,a){t.isLoading=!0,t.connections={},t.safeApply=function(t){var e=this.$root.$$phase;"$apply"===e||"$digest"===e?t&&"function"==typeof t&&t():this.$apply(t)},t.$on("entitiesLoaded",function(e){e.targetScope;i.get(a.apiHost+"api/connections").success(function(e){var i=c("filter")(t.entities,function(e){return e.collaborations.length>=t.minConnections}),a={};o.forEach(o.keys(e.connections),function(t){a[t]=[]}),o.forEach(e.connections,function(t,e){o.forEach(t,function(t){var c=o.find(i,{id:t.source}),r=o.find(i,{id:t.target});n(c)&&n(r)&&a[e].push({source:c,target:r})})}),o.forEach(o.keys(t.entityTypes),function(e){var n=o.takeRight(o.sortBy(o.filter(t.entities,{type:e}),"collaborations.length"),5);o.forEach(n,function(t){t.wellconnected=!0})}),i=o.sortBy(i,function(t){return t.wellconnected?1:0}),t.mobile?r(i):s(i,a)})});var r=function(i){var c={nodes:t.entities,links:o.flatten(o.values(t.connections))},a={Government:{focused:"rgba(242, 80, 34, 1)",unfocused:"rgba(242, 80, 34, 0.1)"},"Non-Profit":{focused:"rgba(30, 144, 255, 1)",unfocused:"rgba(30, 144, 255, 0.1)"},"For-Profit":{focused:"rgba(127, 186, 0, 1)",unfocused:"rgba(127, 186, 0, 0.1)"},Individual:{focused:"rgba(255, 175, 44, 1)",unfocused:"rgba(255, 175, 44, 0.1)"},Funding:{focused:"#FF7460",unfocused:"#E3DFE4"},Data:{focused:"#84C2FF",unfocused:"#E3DFE4"},Employment:{focused:"#EE73FF",unfocused:"#E3DFE4"},Collaboration:{focused:"#FFD955",unfocused:"#E3DFE4"}},r=$("#canvas-force"),s=r.width(),u=r.height(),l={Government:[-90,-90-u/7],"Non-Profit":[-90,90-u/7],"For-Profit":[90,-90-u/7],Individual:[90,90-u/7]},d=function(t,e,n,i,o){var c=t-n,a=e-i;return c*c+a*a<=o*o},y={employees:function(t){return t>10?Math.log(t)/3:1.5},followers:function(t){return t>0&&t<=500?1.5:t>500&&t<=5e3?1.8:t>5e3&&t<=1e4?2:t>1e4&&t<=25e3?2.5:t>25e3&&t<=9e5?3:t>9e5?5:1}},f=d3.select("div#canvas-force").append("canvas"),p=f.node().getContext("2d"),h=window.devicePixelRatio||1,g=p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1,m=h/g;f.attr("width",s*m).attr("height",u*m).attr("id","networkCanvas");var k=document.getElementById("networkCanvas");k.style.width=s+"px",k.style.height=u+"px",p.scale(m,m),t.loading=!1;var x=1;$("#networkCanvas").click(function(e){var n=e.offsetX/x,i=e.offsetY/x;t.showLicense=!1,t.clickedEntity.entity=null;var o=!1;c.nodes.forEach(function(e){var c=y[t.sizeBy](e[t.sizeBy]);d(n,i,e.x+l[e.type][0],e.y+l[e.type][1],4.5*c)&&(t.hydePartials(),t.$emit("setCurrentEntity",{value:e}),o=!0,t.setEntity(e),t.clickedEntity.entity=e,focus(e))}),o||(t.$emit("setCurrentLocation",{value:null}),t.$emit("setCurrentEntity",{value:null})),T(),t.actions.interacted=!0,t.safeApply(),$("#details-panel").scrollTop(0)});var v,E=0,L=!0,w=[],M=[];c.nodes.forEach(function(e){n(i[e.type])&&(t.currentLocation?e.name in t.currentLocation.dict&&w.push(e):t.currentEntity&&!v[e.id]&&e!==t.currentEntity||(t.currentEntity||e.wellconnected?w.push(e):M.push(e)))}),M=M.concat(w);var T=function(){var i;E++,E>70&&L&&(L=!1,b.stop(),i=new e.PinchZoom($("#networkCanvas"),{})),p.clearRect(0,0,s,u),v={},p.strokeStyle="#ccc",o.forEach(t.connections,function(e,i){e.forEach(function(e){var o,c=n(t.connectionTypes[i]),r=n(t.entityTypes[e.target.type]),d=n(t.entityTypes[e.source.type]);c&&r&&d&&(n(t.currentLocation)?e.source.name in t.currentLocation.dict&&e.target.name in t.currentLocation.dict&&(p.beginPath(),o=y[t.sizeBy](e.source[t.sizeBy]),p.moveTo(Math.max(4.5*o,Math.min(s-4.5*o,e.source.x+l[e.source.type][0])),Math.max(4.5*o,Math.min(u-4.5*o,e.source.y+l[e.source.type][1]))),p.lineTo(Math.max(4.5*o,Math.min(s-4.5*o,e.target.x+l[e.target.type][0])),Math.max(4.5*o,Math.min(u-4.5*o,e.target.y+l[e.target.type][1]))),p.strokeStyle=a[i].focused,p.stroke(),p.closePath()):n(t.currentEntity)&&e.source!==t.currentEntity&&e.target!==t.currentEntity||(p.beginPath(),o=y[t.sizeBy](e.source[t.sizeBy]),p.moveTo(Math.max(4.5*o,Math.min(s-4.5*o,e.source.x+l[e.source.type][0])),Math.max(4.5*o,Math.min(u-4.5*o,e.source.y+l[e.source.type][1]))),p.lineTo(Math.max(4.5*o,Math.min(s-4.5*o,e.target.x+l[e.target.type][0])),Math.max(4.5*o,Math.min(u-4.5*o,e.target.y+l[e.target.type][1]))),p.strokeStyle=a[i].focused,p.stroke(),p.closePath(),v[e.source.id]=!0,v[e.target.id]=!0))})});var c=[];M.forEach(function(e){if(t.entityTypes[e.type]){var n;t.currentLocation?e.name in t.currentLocation.dict?(n="focused",p.strokeStyle="white",c.push(e)):(p.strokeStyle="rgba(255, 255, 255, 0.1)",n="unfocused"):!t.currentEntity||v[e.id]||e===t.currentEntity?(n="focused",p.strokeStyle="white",t.currentEntity?c.push(e):e.wellconnected&&c.push(e)):(p.strokeStyle="rgba(255, 255, 255, 0.1)",n="unfocused");var i=y[t.sizeBy](e[t.sizeBy]);p.beginPath(),p.fillStyle=a[e.type][n],p.arc(Math.max(4.5*i,Math.min(s-4.5*i,e.x+l[e.type][0])),Math.max(4.5*i,Math.min(u-4.5*i,e.y+l[e.type][1])),4.5*i,0,2*Math.PI),p.fill(),p.lineWidth=1,p.stroke(),p.closePath()}}),o.forEach(c,function(e){var n=y[t.sizeBy](e[t.sizeBy]);p.strokeStyle="#333333";var i=e.nickname?e.nickname:e.name;p.font="lighter 11px Segoe UI, HelveticaNeue-Light, sans-serif-light, sans-serif",p.strokeText(i,Math.max(4.5*n,Math.min(s-4.5*n,e.x+l[e.type][0]))-2*i.length,Math.max(4.5*n,Math.min(u-4.5*n,e.y+l[e.type][1]))+10,100)})},b=d3.layout.force().size([s,u]).nodes(c.nodes).links(c.links).on("tick",T).charge(-2).linkStrength(.1).linkDistance(50).start();t.$on("toggleNode",function(){T()}),t.$on("toggleLink",function(){T(),console.log("network found")}),t.$on("changeSizeBy",function(){T()}),t.$on("selectItem",function(e,n){"location"===n.type?(t.clickedLocation.location=t.currentLocation,t.$emit("setCurrentEntity",{value:null})):(t.clickedEntity.entity=t.currentEntity,t.$emit("setCurrentLocation",{value:null})),t.actions.interacted=!0,t.safeApply(),T()})},s=function(e,i){t.isLoading=!1;var c=d3.select("#network");c.selectAll("*").remove();var a=c.node().getBoundingClientRect(),r=a.height,s=a.width,u=6,l=7,d={Individual:{x:1,y:1},"For-Profit":{x:1,y:-1},"Non-Profit":{x:-1,y:1},Government:{x:-1,y:-1}},y=10,f=50,p=d3.max(e,function(t){return parseInt(t.employees)}),h=d3.max(e,function(t){return parseInt(t.followers)}),g={employees:d3.scale.sqrt().domain([10,p]).range([y,f]),followers:d3.scale.sqrt().domain([10,h]).range([y,f])},m={},k=d3.layout.force().size([s,r]).nodes(e).links(o.flatten(o.values(i))).charge(function(t){return t.employees?-2*g.employees(t.employees):-20}).linkStrength(0).linkDistance(50);o.forEach(i,function(t,e){m[e]=c.selectAll(".link ."+e+"-link").data(t).enter().append("line").attr("class",function(t){return n(t.source)&&n(t.target)?(t.type=e,"link "+e+"-link "+t.source.type+"-link "+t.target.type+"-link"):""})});var x=c.selectAll(".node").data(e).enter().append("g").attr("class",function(t){return"node "+t.type+"-node"}).call(k.drag);x.append("circle").attr("r",function(t){return t.employees?g.employees(t.employees):l}),x.append("text").text(function(t){return t.nickname?t.nickname:t.name}).attr("dx",function(){return-.065*this.getComputedTextLength()/2+"em"}).attr("dy",function(){return.08*this.parentNode.getBBox().height/2+.5+"em"}),k.on("tick",function(t){var n=u*t.alpha;o.forEach(e,function(t){t.x&&d[t.type]&&(t.x+=d[t.type].x*n,t.y+=d[t.type].y*n,t.x=Math.max(f,Math.min(s-f,t.x)),t.y=Math.max(f,Math.min(r-f,t.y)))}),o.forEach(m,function(t){t.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y})}),x.attr("transform",function(t){return"translate("+t.x+","+t.y+")"})});var v=function(t){requestAnimationFrame(function e(){for(var n=0;n<t;n++)k.tick();k.alpha()>0&&requestAnimationFrame(e)})};t.mobile||v(7),k.start();var E={};o.forEach(m,function(t){o.forEach(t[0],function(t){var e=t.__data__.source,n=t.__data__.target;E[e.index+","+n.index]=!0,E[n.index+","+e.index]=!0})});var L,w=function(t,e){return E[t.index+","+e.index]||t.index===e.index},M=function(t){x.classed("focused",function(e){return w(t,e)}).classed("unfocused",function(e){return!w(t,e)}),o.forEach(m,function(e){e.classed("focused",function(e){return t.index===e.source.index||t.index===e.target.index}).classed("unfocused",function(e){return!(t.index===e.source.index||t.index===e.target.index)})})},T=function(e){t.currentEntity!==e&&t.setEntity(e),t.safeApply(),M(e)},$=function(e){x.classed("focused",!1).classed("unfocused",!1),o.forEach(m,function(t){t.classed("focused",!1).classed("unfocused",!1)}),e.fixed=!1,t.clickedEntity.entity&&k.resume()},b=function(e){t.clickedEntity.entity||t.editing||t.currentLocation||(L=setTimeout(function(){T(e)},500)),t.actions.interacted=!0,t.safeApply()},P=function(e){t.clickedEntity.entity||t.currentLocation||($(e),clearTimeout(L)),t.actions.interacted=!0,t.safeApply()},B=function(e){t.safeApply(),x.classed("focused",function(t){return t.name in e.dict}).classed("unfocused",function(t){return!(t.name in e.dict)}),o.forEach(m,function(t){t.classed("focused",function(t){return t.source.name in e.dict&&t.target.name in e.dict}).classed("unfocused",function(t){return!(t.source.name in e.dict&&t.target.name in e.dict)})})},A=function(){x.classed("focused",!1).classed("unfocused",!1),o.forEach(m,function(t){t.classed("focused",!1).classed("unfocused",!1)}),t.clickedLocation.location&&k.resume()},S=function(e){t.showLicense=!1,t.clickedEntity.entity&&($(t.clickedEntity.entity),t.clickedEntity.entity=null),t.clickedLocation.location!==e&&(A(t.clickedLocation.location),t.clickedLocation.location=e,B(e)),d3.event&&d3.event.stopPropagation(),t.actions.interacted=!0,t.safeApply()},F=function(e){t.showLicense=!1,n(t.clickedLocation)&&(n(t.clickedLocation.location)&&(A(t.clickedLocation.entity),t.clickedLocation.location=null),t.clickedEntity.entity===e?t.clickedEntity.entity=null:(t.clickedEntity.entity&&$(t.clickedEntity.entity),t.clickedEntity.entity=e,T(e))),d3.event&&d3.event.stopPropagation(),t.actions.interacted=!0,t.safeApply()},C=function(){n(t.clickedLocation)&&(n(t.clickedLocation.location)&&($(t.clickedLocation.location),t.clickedLocation.location=null),n(t.clickedEntity.entity)&&($(t.clickedEntity.entity),t.clickedEntity.entity=null)),t.safeApply()},z=function(e){e.fixed?$(e):(e.x=s/2,e.y=r/2,e.px=s/2,e.py=r/2,e.fixed=!0,t.clickedEntity.entity=e),t.actions.interacted=!0,t.safeApply()};x.on("mouseover",b),x.on("mouseout",P),x.on("click",F),x.on("dblclick",z),c.on("click",C),x.classed("wellconnected",function(t){return t.hasOwnProperty("wellconnected")}),t.$on("changeSizeBy",function(t,e){c.selectAll("circle").transition().duration(250).attr("r",function(t){return t[e]?g[e](t[e]):l})}),t.$on("toggleLink",function(e,n){o.map(t.entityTypes,function(e,n){c.selectAll("."+n+"-link").classed({visible:function(e){return!t.connectionTypes[e.type]||t.entityTypes[e.source.type]&&t.entityTypes[e.target.type]},hidden:function(e){return!t.connectionTypes[e.type]||!t.entityTypes[e.source.type]||!t.entityTypes[e.target.type]}})})}),t.$on("toggleNode",function(e,n){c.selectAll("."+n.name+"-node").classed({visible:n.enabled,hidden:!n.enabled}),c.selectAll("."+n.name+"-link").classed({visible:function(e){return t.connectionTypes[e.type]&&t.entityTypes[e.source.type]&&t.entityTypes[e.target.type]},hidden:function(e){return!t.connectionTypes[e.type]||!t.entityTypes[e.source.type]||!t.entityTypes[e.target.type]}})}),t.$on("selectItem",function(e,n){"location"===n.type?S(t.currentLocation):F(t.currentEntity)})}}var o=["$scope","$http","_","$filter","config",i];t.module("civic-graph").controller("networkCtrl",o)}(angular,RTP);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNpdmljLWdyYXBoLm1vZHVsZS5qcyIsImFuYWx5dGljL2FuYWx5dGljc0RpcmVjdGl2ZS5qcyIsImNvbnRyb2wvY29udHJvbERpcmVjdGl2ZS5qcyIsImV4dHJhL2FkZE1vYmlsZUV2ZW50cy5qcyIsImV4dHJhL21vZGFsQ3RybC5qcyIsImVkaXQtZW50aXR5L2VkaXRFbnRpdHlEaXJlY3RpdmUuanMiLCJtYWluL2FwcC5qcyIsIm1haW4vaG9tZUN0cmwuanMiLCJtYXAvbWFwRGlyZWN0aXZlLmpzIiwib3ZlcnZpZXcvb3ZlcnZpZXdDdHJsLmpzIiwibmV0d29yay9uZXR3b3JrRGlyZWN0aXZlLmpzIiwibmV0d29yay9zbGlkZXJCYXIuanMiLCJhbmFseXRpYy9jb250cm9sbGVyL2FuYWx5dGljc0N0cmwuanMiLCJjb250cm9sL2NvbnRyb2xsZXIvY29udHJvbEN0cmwuanMiLCJkZXRhaWwvY29udHJvbGxlci9kZXRhaWxzQ3RybC5qcyIsImVkaXQtZW50aXR5L2NvbnRyb2xsZXIvZWRpdEN0cmwuanMiLCJlZGl0LWVudGl0eS9zZXJ2aWNlL2NhdGVnb3J5U2VydmljZS5qcyIsImVkaXQtZW50aXR5L3NlcnZpY2UvY29ubmVjdGlvblNlcnZpY2UuanMiLCJlZGl0LWVudGl0eS9zZXJ2aWNlL2VudGl0eVNlcnZpY2UuanMiLCJlZGl0LWVudGl0eS9zZXJ2aWNlL2ZpbmFuY2VTZXJ2aWNlLmpzIiwiZWRpdC1lbnRpdHkvc2VydmljZS9mdW5kaW5nQ29ubmVjdGlvblNlcnZpY2UuanMiLCJlZGl0LWVudGl0eS9zZXJ2aWNlL2xvY2F0aW9uU2VydmljZS5qcyIsIm1hcC9jb250cm9sbGVyL21hcEN0cmwuanMiLCJuZXR3b3JrL2NvbnRyb2xsZXIvbmV0d29ya0N0cmwuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1haW5EZXBlbmRlbmNpZXMiLCJtb2R1bGUiLCJhbmFseXRpY3NEaXJlY3RpdmUiLCJ0ZW1wbGF0ZVVybCIsInJlc3RyaWN0Iiwic2NvcGUiLCJjb250cm9sbGVyIiwiYW5hbHl0aWNzRGVwZW5kZW5jaWVzIiwiZGlyZWN0aXZlIiwiY29udHJvbERpcmVjdGl2ZSIsInRvZ2dsZU5ldHdvcmsiLCJjb250cm9sbGVyQXMiLCJiaW5kVG9Db250cm9sbGVyIiwibWluQ29ubmVjdGlvbnMiLCJjb250cm9sRGVwZW5kZW5jaWVzIiwiJCIsImxpbmtGdW5jdGlvbiIsInNjcm9sbCIsInNlbGYiLCJ0aGlzIiwiY3NzIiwiY2xpY2siLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsInBhcnNlSW50IiwiZGV0YWlsc1BhbmVsIiwibW9iaWxlIiwic2Nyb2xsVG9wIiwiYWRkTW9iaWxlRXZlbnRzIiwibGluayIsIm1vZGFsQ3RybCIsIiRzY29wZSIsIiRtb2RhbEluc3RhbmNlIiwiY2xvc2VXaW5kb3ciLCJjbG9zZSIsImVkaXRFbnRpdHlEaXJlY3RpdmUiLCJlbnRpdHkiLCJlbnRpdGllcyIsImlzT3BlbiIsImVkaXRFbnRpdHlEZXBlbmRlbmNpZXMiLCJjb25zdGFudCIsIl8iLCJhcGlIb3N0IiwiY29uZmlnIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCIkaHR0cFByb3ZpZGVyIiwiJGNvbXBpbGVQcm92aWRlciIsImh0bWw1TW9kZSIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiIsImRlYnVnSW5mb0VuYWJsZWQiLCJmaWx0ZXIiLCJpbnB1dCIsImRlY2ltYWxzIiwiZXhwIiwic3VmZml4ZXMiLCJpc05hTiIsIk1hdGgiLCJmbG9vciIsImxvZyIsInBvdyIsInRvRml4ZWQiLCJob21lQ3RybCIsIiRodHRwIiwiZW50aXR5U2VydmljZSIsImNvbm5lY3Rpb25TZXJ2aWNlIiwicmFuZG9tIiwiRGF0ZSIsImdldFRpbWUiLCJzZWFyY2hJdGVtcyIsImNhdGVnb3JpZXMiLCJjdXJyZW50TG9jYXRpb24iLCJjbGlja2VkTG9jYXRpb24iLCJsb2NhdGlvbiIsImNsaWNrZWRFbnRpdHkiLCJlZGl0aW5nIiwiYWN0aW9ucyIsImludGVyYWN0ZWQiLCJzaG93c2VhcmNoTUIiLCJzaG93QW5hbHl0aWNzIiwiZW50aXR5VHlwZXMiLCJnZXRFbnRpdHlUeXBlcyIsImNvbm5lY3Rpb25UeXBlcyIsImdldENvbm5lY3Rpb25UeXBlcyIsInN0YXR1cyIsImlzTmV0d29ya1Nob3duIiwibGljZW5zZSIsIm5ldHdvcmtMb2FkaW5nIiwidG9nZ2xlQW5hbHl0aWNzIiwiJHdhdGNoIiwiJGJyb2FkY2FzdCIsImNvbm5lY3Rpb25DaGFuZ2UiLCJjb25zb2xlIiwiaHlkZVBhcnRpYWxzIiwiZXhjZXB0Iiwic2V0dGluZ3NFbmFibGVkIiwic2hvd1NlYXJjaCIsInRvZ2dsZVNldHRpbmdzIiwic3RhcnRFZGl0IiwiY3VycmVudEVudGl0eSIsInN3aXRjaFZpZXciLCJjaGFuZ2VWaWV3IiwibW9iaWxlY2hlY2siLCJjaGVjayIsInJlZ2V4IiwicmVnZXgyIiwiYSIsInRlc3QiLCJzdWJzdHIiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ2ZW5kb3IiLCJvcGVyYSIsInNldFRpbWVvdXQiLCJnZXQiLCJzdWNjZXNzIiwiZGF0YSIsIm5vZGVzIiwibG9jYXRpb25zIiwidW5pcSIsInBsdWNrIiwiZmxhdHRlbiIsImVudGl0aWVzQnlMb2NhdGlvbiIsIm1hcCIsImxvYyIsImZpbmRpbmdzIiwiZmxvdyIsInByb3BlcnR5IiwicGFydGlhbFJpZ2h0IiwiYW55IiwibG9jYWxpdHkiLCJuYW1lIiwidHlwZSIsImRpY3QiLCJ6aXBPYmplY3QiLCJjb25jYXQiLCJvdmVydmlld1VybCIsInNldEVudGl0eSIsInN0b3BFZGl0Iiwic2V0RW50aXR5SUQiLCJpZCIsImZpbmQiLCJzZXRMb2NhdGlvbiIsInNlbGVjdEl0ZW0iLCJpdGVtIiwiJG9uIiwiZXZlbnQiLCJhcmdzIiwidmFsdWUiLCJzZXRFbnRpdGllcyIsInJlc3BvbnNlIiwiYW5pbWF0aW9uc0VuYWJsZWQiLCJob21lRGVwZW5kZW5jaWVzIiwiZGVwZW5kZW5jaWVzIiwib3ZlcnZpZXdDdHJsIiwiY2F0ZWdvcml6ZWRFbnRpdGllcyIsImZvckVhY2giLCJrZXlzIiwicmVzdGljdCIsInJlcXVpcmUiLCJlbGVtZW50IiwiYXR0cnMiLCJuZ01vZGVsIiwidG9Mb3dlckNhc2UiLCIkcGFyc2VycyIsInB1c2giLCJwYXJzZUZsb2F0IiwiYW5hbHl0aWNzQ3RybCIsImNvbnRyb2xDdHJsIiwiJHJvb3RTY29wZSIsIiRtb2RhbCIsInZtIiwic2l6ZUJ5TGlzdCIsInNpemVCeSIsInNob3dWaWV3IiwiTmV0d29yayIsIk1hcCIsInZpZXciLCJzaG93QWJvdXQiLCJvcGVuIiwiYW5pbWF0aW9uIiwidG9nZ2xlTm9kZSIsImVuYWJsZWQiLCJ0b2dnbGVMaW5rIiwiY2hhbmdlU2l6ZUJ5IiwiY29udHJvbERlcHMiLCJkZXRhaWxzQ3RybCIsIml0ZW1zU2hvd25EZWZhdWx0Iiwia2V5X3Blb3BsZSIsImdyYW50c19naXZlbiIsImdyYW50c19yZWNlaXZlZCIsImludmVzdG1lbnRzX21hZGUiLCJpbnZlc3RtZW50c19yZWNlaXZlZCIsImNvbGxhYm9yYXRpb25zIiwiZW1wbG95bWVudHMiLCJyZWxhdGlvbnMiLCJkYXRhX2dpdmVuIiwiZGF0YV9yZWNlaXZlZCIsInJldmVudWVzIiwiZXhwZW5zZXMiLCJpdGVtc1Nob3duIiwiY2xvbmUiLCJzaG93TW9yZSIsImxlbmd0aCIsInNob3dMZXNzIiwiaXNEZWYiLCJvYmoiLCJ1bmRlZmluZWQiLCJlZGl0Q3RybCIsIiR0aW1lb3V0IiwibG9jYXRpb25TZXJ2aWNlIiwiaW5pdENhdGVnb3J5QXJyYXkiLCJjYXRlZ29yeSIsImNhdGVnb3J5SW5kZXgiLCJlbnRpdHlDYXRlZ29yeUluZGV4IiwiZW50aXR5Q2F0ZWdvcnkiLCJoYXNPd25Qcm9wZXJ0eSIsImVkaXRFbnRpdHkiLCJpc0VkaXRpbmciLCJnZXRFbnRpdHlNb2RlbCIsImluZmx1ZW5jZVR5cGVzIiwiZ2V0SW5mbHVlbmNlVHlwZXMiLCJjYXRlZ29yeUJhY2t1cCIsImFkZHJlc3NTZWFyY2giLCJzZWFyY2giLCJqc29ucCIsInBhcmFtcyIsInF1ZXJ5Iiwia2V5IiwiaW5jbHVkZSIsInRoZW4iLCJyZXNvdXJjZVNldHMiLCJyZXNvdXJjZXMiLCJ0b2dnbGVDYXRlZ29yeSIsImZvdW5kIiwiaXNMYXN0IiwiZm9ybWF0dGVkQWRkcmVzcyIsImFwaUNhbGxSZXN1bHQiLCJyZXN1bHQiLCJhZGRyZXNzIiwicG9pbnQiLCJhZGRMb2NhdGlvbiIsImFkZHJlc3NfbGluZSIsImFkZHJlc3NMaW5lIiwiZGlzdHJpY3QiLCJhZG1pbkRpc3RyaWN0IiwiY291bnRyeSIsImNvdW50cnlSZWdpb24iLCJjb3VudHJ5X2NvZGUiLCJjb3VudHJ5UmVnaW9uSXNvMiIsImNvb3JkaW5hdGVzIiwicG9zdGFsX2NvZGUiLCJwb3N0YWxDb2RlIiwiZ2V0TG9jYXRpb25Nb2RlbCIsImFkZEtleVBlcnNvbiIsInNvbWUiLCJzZXRGdW5kaW5nQ29ubmVjdGlvbiIsImZ1bmRpbmciLCJlbnRpdHlfaWQiLCJhZGRGdW5kaW5nQ29ubmVjdGlvbiIsImFtb3VudCIsInllYXIiLCJzZXRDb25uZWN0aW9uIiwiY29ubmVjdGlvbiIsImFkZENvbm5lY3Rpb24iLCJjb25uZWN0aW9ucyIsImRldGFpbHMiLCJhZGRGaW5hbmNlIiwicmVjb3JkcyIsImV2ZXJ5IiwiciIsInNhdmUiLCJpc1NhdmluZyIsImdlbmVyYXRlREJNb2RlbCIsInBvc3QiLCIkZW1pdCIsImNhbmNlbEVkaXQiLCJlcnJvciIsImlzRXJyb3IiLCJuZXdWYWwiLCJvbGRWYWwiLCJlcXVhbHMiLCJjb3B5IiwiZWRpdENvbnRyb2xsZXJEZXBzIiwiQ2F0ZWdvcnlTZXJ2aWNlIiwibyIsIkNhdGVnb3J5IiwiZGVmT2JqIiwiZW5hYmxlIiwiZ2V0Q2F0ZWdvcnlNb2RlbCIsImNhdGVnb3J5U2VydmljZURlcGVuZGVuY2llcyIsInNlcnZpY2UiLCJDb25uZWN0aW9ucyIsIkNvbm5lY3Rpb24iLCJvYmpJc0RlZiIsImdldENvbm5lY3Rpb25Nb2RlbCIsIkZ1bmRpbmciLCJEYXRhIiwiRW1wbG95bWVudCIsIkNvbGxhYm9yYXRpb24iLCJFbnRpdHlTZXJ2aWNlIiwiZnVuZGluZ0Nvbm5lY3Rpb25TZXJ2aWNlIiwiZmluYW5jZVNlcnZpY2UiLCJjYXRlZ29yeVNlcnZpY2UiLCJsb29wQW5kSW5pdCIsIm1vZGVsQXJyYXkiLCJpbml0TW9kZWxGdW5jdGlvbiIsImlzQXJyYXkiLCJhcnJheUluZGV4IiwiYXJyYXlWYWx1ZSIsIm5ld01vZGVsQXJyYXkiLCJpc09iamVjdCIsIkVudGl0eSIsImluZmx1ZW5jZSIsImdldEZ1bmRpbmdDb25uZWN0aW9uTW9kZWwiLCJnZXRGaW5hbmNlTW9kZWwiLCJuaWNrbmFtZSIsInVybCIsInR3aXR0ZXJfaGFuZGxlIiwiZW1wbG95ZWVzIiwiZGJNb2RlbCIsInBvcCIsImRlc2NyaXB0aW9uIiwiR292ZXJubWVudCIsIkZvci1Qcm9maXQiLCJOb24tUHJvZml0IiwiSW5kaXZpZHVhbCIsImVudGl0eVNlcnZpY2VEZXBlbmRlbmNpZXMiLCJGaW5hbmNlU2VydmljZSIsIkZpbmFuY2UiLCJGdW5kaW5nQ29ubmVjdGlvbnMiLCJGdW5kaW5nQ29ubmVjdGlvbiIsImZ1bmRpbmdDb25uZWN0aW9uU2VydmljZURlcGVuZGVuY2llcyIsIkxvY2F0aW9uU2VydmljZSIsIkxvY2F0aW9uIiwidHJpbSIsImxvY2F0aW9uU2VydmljZURlcGVuZGVuY2llcyIsImQzIiwiTCIsIm1hcEN0cmwiLCJsZWFmbGV0RGF0YSIsIiRmaWx0ZXIiLCJvcHRpb25zIiwiY2VudGVyIiwibGF0IiwibG5nIiwiem9vbSIsInRpbGVMYXllciIsInRpbGVMYXllck9wdGlvbnMiLCJkZXRlY3RSZXRpbmEiLCJyZXVzZVRpbGVzIiwiem9vbUNvbnRyb2wiLCJhdHRyaWJ1dGlvbkNvbnRyb2wiLCJjcmVhdGVQaWVDaGFydCIsInBpZSIsImxheW91dCIsInNvcnQiLCJkIiwiYXJjIiwic3ZnIiwib3V0ZXJSYWRpdXMiLCJpbm5lclJhZGl1cyIsInN0cm9rZVdpZHRoIiwidyIsImgiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnROUyIsIm5zIiwicHJlZml4IiwidmlzIiwic2VsZWN0IiwiYXR0ciIsImFyY3MiLCJzZWxlY3RBbGwiLCJlbnRlciIsImFwcGVuZCIsInRleHQiLCJpIiwiY291bnQiLCJ0b1N0cmluZyIsIlhNTFNlcmlhbGl6ZXIiLCJzZXJpYWxpemVUb1N0cmluZyIsInhtbCIsImdldE1hcCIsImNsdXN0ZXJJY29uIiwiY2x1c3RlciIsImNoaWxkcmVuIiwiZ2V0QWxsQ2hpbGRNYXJrZXJzIiwidG90YWwiLCJjbHVzdGVyTWFya2VycyIsImNvdW50cyIsImNvdW50QnkiLCJpY29uRGltIiwiaHRtbCIsIkRpdkljb24iLCJjbGFzc05hbWUiLCJpY29uU2l6ZSIsIm91dGVyTG9vcCIsImlubmVyTG9vcCIsIm0iLCJtYXJrZXIiLCJpY29uIiwibWFya2VySWNvbiIsInRpdGxlIiwibWVzc2FnZSIsIm1hcmtlcnMiLCJhZGRMYXllciIsIm9uTG9jYXRpb25FcnJvciIsImxlYWZsZXRFcnJvciIsImZpbHRlcmVkRW50aXRpZXMiLCJpbnZhbGlkYXRlU2l6ZSIsIkNvbnRyb2wiLCJab29tIiwicG9zaXRpb24iLCJhZGRUbyIsImNvbnRyb2wiLCJsb2NhdGUiLCJzaG93UG9wdXAiLCJpY29uVXJsIiwibWFya2VyQ2x1c3Rlckdyb3VwIiwic3BpZGVyZnlPbk1heFpvb20iLCJzaG93Q292ZXJhZ2VPbkhvdmVyIiwiaWNvbkNyZWF0ZUZ1bmN0aW9uIiwibWF4Q2x1c3RlclJhZGl1cyIsInNwaWRlcmZ5RGlzdGFuY2VNdWx0aXBsaWVyIiwib24iLCJsYXllciIsInNhZmVBcHBseSIsInNldFZpZXciLCJSVFAiLCJuZXR3b3JrQ3RybCIsImlzTG9hZGluZyIsImZuIiwicGhhc2UiLCIkcm9vdCIsIiQkcGhhc2UiLCIkYXBwbHkiLCJ0YXJnZXRTY29wZSIsImZpbHRlcmVkQ29ubmVjdGlvbnMiLCJzb3VyY2VOb2RlIiwic291cmNlIiwidGFyZ2V0Tm9kZSIsInRhcmdldCIsInRvcDUiLCJ0YWtlUmlnaHQiLCJzb3J0QnkiLCJ3ZWxsY29ubmVjdGVkIiwiZSIsImRyYXdOZXR3b3JrTW9iaWxlIiwiZHJhd05ldHdvcmsiLCJlbnRpdHlBcnJheSIsImxpbmtzIiwidmFsdWVzIiwiY29sb3JzIiwiZm9jdXNlZCIsInVuZm9jdXNlZCIsImNhbnZhc0ZvcmNlIiwid2lkdGgiLCJoZWlnaHQiLCJvZmZzZXRzIiwiaXNJbnNpZGVDaXJjbGUiLCJ4IiwieSIsImN4IiwiY3kiLCJyYWRpdXMiLCJkeCIsImR5Iiwic2NhbGUiLCJmb2xsb3dlcnMiLCJmIiwiY2FudmFzIiwiY29udGV4dCIsIm5vZGUiLCJnZXRDb250ZXh0IiwiZGV2aWNlUGl4ZWxSYXRpbyIsImJhY2tpbmdTdG9yZVJhdGlvIiwid2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyIsIm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJtc0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJvQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyIsImJhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJyYXRpbyIsImNhbnZhc0VsIiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsImxvYWRpbmciLCJzY2FsZXpvb20iLCJvWCIsIm9mZnNldFgiLCJvWSIsIm9mZnNldFkiLCJzaG93TGljZW5zZSIsImVudGl0eUZvdW5kIiwiayIsImZvY3VzIiwidGljayIsInNob3dFbnRpdGllcyIsImluaXRpYWxMb2FkIiwiZHJhd09uVG9wIiwiYWxsTm9kZXMiLCJwaW5jaFpvb20iLCJmb3JjZSIsInN0b3AiLCJQaW5jaFpvb20iLCJjbGVhclJlY3QiLCJzdHJva2VTdHlsZSIsImlzQ29uVHlwZURlZmluZWQiLCJpc0VudGl0eVRhcmdldFR5cGVEZWZpbmVkIiwiaXNFbnRpdHlTb3VyY2VUeXBlRGVmaW5lZCIsImJlZ2luUGF0aCIsIm1vdmVUbyIsIm1heCIsIm1pbiIsImxpbmVUbyIsInN0cm9rZSIsImNsb3NlUGF0aCIsImVudGl0eU5hbWVzIiwiZmlsbFN0eWxlIiwiUEkiLCJmaWxsIiwibGluZVdpZHRoIiwiZm9udCIsInN0cm9rZVRleHQiLCJzaXplIiwiY2hhcmdlIiwibGlua1N0cmVuZ3RoIiwibGlua0Rpc3RhbmNlIiwic3RhcnQiLCJjb25uZWN0aW9uQXJyYXkiLCJyZW1vdmUiLCJib3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJvZmZzZXRTY2FsZSIsImRlZmF1bHROb2RlU2l6ZSIsImxvd2VyQm91bmRSYWRpdXMiLCJ1cHBlckJvdW5kUmFkaXVzIiwibWF4RW1wbG95ZWVzIiwiZWwiLCJtYXhGb2xsb3dlcnMiLCJzcXJ0IiwiZG9tYWluIiwicmFuZ2UiLCJjYWxsIiwiZHJhZyIsImdldENvbXB1dGVkVGV4dExlbmd0aCIsInBhcmVudE5vZGUiLCJnZXRCQm94IiwiYWxwaGEiLCJzcGVlZEFuaW1hdGUiLCJ0aWNrcyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInJlbmRlciIsImxpbmtlZEJ5SW5kZXgiLCJsIiwiX19kYXRhX18iLCJpbmRleCIsImhvdmVyVGltZXIiLCJuZWlnaGJvcmluZyIsImIiLCJmb2N1c25laWdoYm9ycyIsImNsYXNzZWQiLCJuIiwidW5mb2N1cyIsImZpeGVkIiwicmVzdW1lIiwiaG92ZXIiLCJ1bmhvdmVyIiwiY2xlYXJUaW1lb3V0IiwiZm9jdXNMb2NhdGlvbiIsInVuZm9jdXNMb2NhdGlvbiIsImhpZ2hsaWdodExvY2F0aW9uIiwic3RvcFByb3BhZ2F0aW9uIiwiYmFja2dyb3VuZGNsaWNrIiwiZGJsY2xpY2siLCJweCIsInB5IiwidHJhbnNpdGlvbiIsImR1cmF0aW9uIiwidmFsIiwidmlzaWJsZSIsImhpZGRlbiJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBVUEsR0FFTixZQUVBLElBQUlDLElBQ0EsZUFDQSxvQkFDQSxZQUdKRCxHQUFRRSxPQUFPLGNBQWVELElBRS9CRDtDQ1BILFNBQVdBLEdBRVAsWUFJQSxTQUFTRyxLQUNMLE9BQ0lDLFlBQWEsOEJBQ2JDLFNBQWEsSUFDYkMsU0FDQUMsV0FBZSxpQkFQdkIsR0FBSUMsSUFBeUJMLEVBVzdCSCxHQUFRRSxPQUFPLGVBQ1ZPLFVBQVUsWUFBYUQs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aWMsT0FBVyxTQUFVM0IsR0FHakIsT0FBUTVnQixFQUFPb0QsZ0JBQWdCd2QsRUFBRXRhLFFBQ3JCdEcsRUFBT2tELFlBQVkwZCxFQUFFbEgsT0FBT3BULFFBQzdCdEcsRUFBT2tELFlBQVkwZCxFQUFFaEgsT0FBT3RULGFBTXBFdEcsRUFBT21ILElBQUksYUFBYyxTQUFVQyxFQUFPZCxHQUN0Q21PLEVBQ0tjLFVBQVUsSUFBTWpQLEVBQUtELEtBQU8sU0FDNUI4YSxTQUFTbUIsUUFBV2hjLEVBQUtrRCxRQUFTK1ksUUFBV2pjLEVBQUtrRCxVQUV2RGlMLEVBQ0tjLFVBQVUsSUFBTWpQLEVBQUtELEtBQU8sU0FDNUI4YSxTQUNZbUIsUUFBVyxTQUFVMUIsR0FHakIsTUFBTzVnQixHQUFPb0QsZ0JBQWdCd2QsRUFBRXRhLE9BQ3JCdEcsRUFBT2tELFlBQVkwZCxFQUFFbEgsT0FBT3BULE9BQzdCdEcsRUFBT2tELFlBQVkwZCxFQUFFaEgsT0FBT3RULE9BRTFDaWMsT0FBVyxTQUFVM0IsR0FHakIsT0FBUTVnQixFQUFPb0QsZ0JBQWdCd2QsRUFBRXRhLFFBQ3JCdEcsRUFBT2tELFlBQVkwZCxFQUFFbEgsT0FBT3BULFFBQzdCdEcsRUFBT2tELFlBQVkwZCxFQUFFaEgsT0FBT3RULFdBTWhFdEcsRUFBT21ILElBQUksYUFBYyxTQUFVQyxFQUFPRixHQUNwQixhQUFkQSxFQUFLWixLQUNMdWIsRUFBa0I3aEIsRUFBT3lDLGlCQUd6Qm5ELEVBQU1VLEVBQU9xRSxrQkEveUI3QixHQUFJc0QsSUFDQSxTQUNBLFFBQ0EsSUFDQSxVQUNBLFNBQ0FxUixFQSt5QkpoYixHQUFRRSxPQUFPLGVBQ1ZLLFdBQVcsY0FBZW9KLElBRWhDM0osUUFBUythIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIG1haW5EZXBlbmRlbmNpZXMgPSBbXG4gICAgICAgICd1aS5ib290c3RyYXAnLFxuICAgICAgICAnbGVhZmxldC1kaXJlY3RpdmUnLFxuICAgICAgICAnbmdBbmltYXRlJ1xuICAgIF07XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnLCBtYWluRGVwZW5kZW5jaWVzKTtcblxufSkoYW5ndWxhcik7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDcvMS8xNi5cbiAqL1xuXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGFuYWx5dGljc0RlcGVuZGVuY2llcyA9IFthbmFseXRpY3NEaXJlY3RpdmVdO1xuXG4gICAgZnVuY3Rpb24gYW5hbHl0aWNzRGlyZWN0aXZlKCl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9qcy9hbmFseXRpYy9hbmFseXRpY3MuaHRtbCcsXG4gICAgICAgICAgICByZXN0cmljdCAgIDogJ0UnLFxuICAgICAgICAgICAgc2NvcGUgICAgICA6IHt9LFxuICAgICAgICAgICAgY29udHJvbGxlciAgIDogJ2FuYWx5dGljc0N0cmwnXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnYW5hbHl0aWNzJywgYW5hbHl0aWNzRGVwZW5kZW5jaWVzKTtcblxufSkoYW5ndWxhcik7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDcvMTAvMTYuXG4gKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgY29udHJvbERlcGVuZGVuY2llcyA9IFtjb250cm9sRGlyZWN0aXZlXTtcblxuICAgIGZ1bmN0aW9uIGNvbnRyb2xEaXJlY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9qcy9jb250cm9sL2NvbnRyb2xzLmh0bWwnLFxuICAgICAgICAgICAgcmVzdHJpY3QgICA6ICdFJyxcbiAgICAgICAgICAgIHNjb3BlICAgICAgOiB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlTmV0d29yayA6ICc9JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb250cm9sbGVyICAgOiAnY29udHJvbEN0cmwnLFxuICAgICAgICAgICAgY29udHJvbGxlckFzIDogJ2NvbnRyb2wnLFxuICAgICAgICAgICAgYmluZFRvQ29udHJvbGxlciA6IHtcbiAgICAgICAgICAgICAgICBtaW5Db25uZWN0aW9ucyA6IFwiPVwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnY29udHJvbCcsIGNvbnRyb2xEZXBlbmRlbmNpZXMpO1xuXG59KShhbmd1bGFyKTtcbiIsIihmdW5jdGlvbiAoYW5ndWxhciwgJCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZnVuY3Rpb24gbGlua0Z1bmN0aW9uKHNjb3BlKSB7XG5cbiAgICAgICAgZnVuY3Rpb24gc2Nyb2xsKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSAkKHRoaXMpO1xuICAgICAgICAgICAgc2VsZi5jc3MoJ2hlaWdodCcsICc1NXZoJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjbGljaygpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gJCh0aGlzKTtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuaW5uZXJIZWlnaHQgLyAzID4gcGFyc2VJbnQoc2VsZi5jc3MoJ2hlaWdodCcpKSkge1xuICAgICAgICAgICAgICAgIHNlbGYuY3NzKCdoZWlnaHQnLCAnNTV2aCcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxmLmNzcygnaGVpZ2h0JywgJzMwdmgnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZXRhaWxzUGFuZWw7XG4gICAgICAgIGlmIChzY29wZS5tb2JpbGUpIHtcbiAgICAgICAgICAgIGRldGFpbHNQYW5lbCA9ICQoXCIjZGV0YWlscy1wYW5lbFwiKTtcbiAgICAgICAgICAgIGRldGFpbHNQYW5lbC5jc3MoXCJoZWlnaHRcIiwgXCIzMHZoXCIpO1xuICAgICAgICAgICAgZGV0YWlsc1BhbmVsLnNjcm9sbFRvcCgwKTtcbiAgICAgICAgICAgIGRldGFpbHNQYW5lbC5zY3JvbGwoc2Nyb2xsKTtcbiAgICAgICAgICAgIGRldGFpbHNQYW5lbC5jbGljayhjbGljayk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRNb2JpbGVFdmVudHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgbGluazogbGlua0Z1bmN0aW9uXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnYWRkTW9iaWxlRXZlbnRzJywgW2FkZE1vYmlsZUV2ZW50c10pO1xufSkoYW5ndWxhciwgJCk7XG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZnVuY3Rpb24gbW9kYWxDdHJsKCRzY29wZSwgJG1vZGFsSW5zdGFuY2UpIHtcbiAgICAgICAgJHNjb3BlLmNsb3NlV2luZG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJG1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuY29udHJvbGxlcignbW9kYWxDdHJsJywgWyckc2NvcGUnLCAnJG1vZGFsSW5zdGFuY2UnLCBtb2RhbEN0cmxdKTtcblxufSkoYW5ndWxhcik7IiwiLyoqXG4gKlxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNi8yNy8xNi5cbiAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBlZGl0RW50aXR5RGVwZW5kZW5jaWVzID0gW2VkaXRFbnRpdHlEaXJlY3RpdmVdO1xuXG4gICAgZnVuY3Rpb24gZWRpdEVudGl0eURpcmVjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2pzL2VkaXQtZW50aXR5L2VkaXQuaHRtbCcsXG4gICAgICAgICAgICByZXN0cmljdCAgIDogJ0UnLFxuICAgICAgICAgICAgc2NvcGUgICAgICA6IHtcbiAgICAgICAgICAgICAgICAnZW50aXR5JyAgOiBcIj1cIixcbiAgICAgICAgICAgICAgICAnZW50aXRpZXMnOiBcIj1cIixcbiAgICAgICAgICAgICAgICAnaXNPcGVuJyAgOiBcIj1cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiAnZWRpdEN0cmwnXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnZWRpdEVudGl0eScsIGVkaXRFbnRpdHlEZXBlbmRlbmNpZXMpO1xuXG59KShhbmd1bGFyKTtcblxuXG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5jb25zdGFudCgnXycsIHdpbmRvdy5fKVxuICAgICAgICAuY29uc3RhbnQoJ2NvbmZpZycsIHtcbiAgICAgICAgICAgIGFwaUhvc3Q6ICdodHRwczovL2FwaS5jaXZpY2dyYXBoLmlvLydcbiAgICAgICAgfSlcbiAgICAgICAgLmNvbmZpZyhbJyRsb2NhdGlvblByb3ZpZGVyJywgJyRodHRwUHJvdmlkZXInLCAnJGNvbXBpbGVQcm92aWRlcicsXG4gICAgICAgICAgICBmdW5jdGlvbiAoJGxvY2F0aW9uUHJvdmlkZXIsICRodHRwUHJvdmlkZXIsICRjb21waWxlUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1SZXF1ZXN0ZWQtV2l0aCddID0gJ1hNTEh0dHBSZXF1ZXN0JztcbiAgICAgICAgICAgICAgICAvLyAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydFdmVudC1OYW1lJ10gPSAnVGVzdF9FdmVudCc7XG4gICAgICAgICAgICAgICAgJGNvbXBpbGVQcm92aWRlci5kZWJ1Z0luZm9FbmFibGVkKHRydWUpO1xuICAgICAgICAgICAgfV0pXG4gICAgICAgIC5maWx0ZXIoJ3Rob3VzYW5kU3VmZml4JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpbnB1dCwgZGVjaW1hbHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXhwLFxuICAgICAgICAgICAgICAgICAgICBzdWZmaXhlcyA9IFsnaycsICdNJywgJ0cnLCAnVCcsICdQJywgJ0UnXTtcblxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuaXNOYU4oaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpbnB1dCA8IDEwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGV4cCA9IE1hdGguZmxvb3IoTWF0aC5sb2coaW5wdXQpIC8gTWF0aC5sb2coMTAwMCkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIChpbnB1dCAvIE1hdGgucG93KDEwMDAsIGV4cCkpLnRvRml4ZWQoZGVjaW1hbHMpICsgc3VmZml4ZXNbZXhwIC0gMV07XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxufSkoYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBob21lRGVwZW5kZW5jaWVzID0gW1xuICAgICAgICAnJHNjb3BlJyxcbiAgICAgICAgJyRodHRwJyxcbiAgICAgICAgJ18nLFxuICAgICAgICAnZW50aXR5U2VydmljZScsXG4gICAgICAgICdjb25uZWN0aW9uU2VydmljZScsXG4gICAgICAgICdjb25maWcnLFxuICAgICAgICBob21lQ3RybFxuICAgIF07XG5cbiAgICBmdW5jdGlvbiBob21lQ3RybCgkc2NvcGUsICRodHRwLCBfLCBlbnRpdHlTZXJ2aWNlLCBjb25uZWN0aW9uU2VydmljZSwgY29uZmlnKSB7XG4gICAgICAgICRzY29wZS5yYW5kb20gICAgICAgICAgICAgICAgICAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgJHNjb3BlLmVudGl0aWVzICAgICAgICAgICAgICAgICA9IFtdO1xuICAgICAgICAkc2NvcGUuc2VhcmNoSXRlbXMgICAgICAgICAgICAgID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLmNhdGVnb3JpZXMgICAgICAgICAgICAgICA9IFtdO1xuICAgICAgICAkc2NvcGUuY3VycmVudExvY2F0aW9uICAgICAgICAgID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLmNsaWNrZWRMb2NhdGlvbiAgICAgICAgICA9IHt9O1xuICAgICAgICAkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkgICAgICAgICAgICA9IHt9O1xuICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgICAgID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLmVkaXRpbmcgICAgICAgICAgICAgICAgICA9IGZhbHNlO1xuICAgICAgICAkc2NvcGUuYWN0aW9ucyAgICAgICAgICAgICAgICAgID0geydpbnRlcmFjdGVkJzogZmFsc2V9O1xuICAgICAgICAkc2NvcGUuc2hvd3NlYXJjaE1CICAgICAgICAgICAgID0gZmFsc2U7XG4gICAgICAgICRzY29wZS5zaG93QW5hbHl0aWNzICAgICAgICAgICAgPSBmYWxzZTtcbiAgICAgICAgJHNjb3BlLmVudGl0eVR5cGVzICAgICAgICAgICAgICA9IGVudGl0eVNlcnZpY2UuZ2V0RW50aXR5VHlwZXMoKTtcbiAgICAgICAgJHNjb3BlLmNvbm5lY3Rpb25UeXBlcyAgICAgICAgICA9IGNvbm5lY3Rpb25TZXJ2aWNlLmdldENvbm5lY3Rpb25UeXBlcygpO1xuICAgICAgICAkc2NvcGUuc3RhdHVzICAgICAgICAgICAgICAgICAgID0ge1xuICAgICAgICAgICAgXCJpc05ldHdvcmtTaG93blwiOiB0cnVlLFxuICAgICAgICAgICAgXCJsaWNlbnNlXCIgICAgICAgOiB0cnVlLFxuICAgICAgICAgICAgXCJuZXR3b3JrTG9hZGluZ1wiOiB0cnVlXG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnRvZ2dsZUFuYWx5dGljcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRzY29wZS5zaG93QW5hbHl0aWNzID0gISRzY29wZS5zaG93QW5hbHl0aWNzO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMubWluQ29ubmVjdGlvbnMgPSAkc2NvcGUubWluQ29ubmVjdGlvbnMgPSAyO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgJHNjb3BlLiR3YXRjaCgnbWluQ29ubmVjdGlvbnMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdlbnRpdGllc0xvYWRlZCcpO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgICRzY29wZS5jb25uZWN0aW9uQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coc2VsZi5taW5Db25uZWN0aW9ucyk7XG4gICAgICAgICAgICAkc2NvcGUubWluQ29ubmVjdGlvbnMgPSBzZWxmLm1pbkNvbm5lY3Rpb25zO1xuICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ2VudGl0aWVzTG9hZGVkJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmh5ZGVQYXJ0aWFscyA9IGZ1bmN0aW9uIChleGNlcHQpIHtcbiAgICAgICAgICAgIGlmIChleGNlcHQgPT09IFwic2VhcmNoXCIpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdGluZyAgICAgICAgID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChleGNlcHQgPT09IFwic2V0dGluZ3NcIikge1xuICAgICAgICAgICAgICAgICRzY29wZS5lZGl0aW5nICAgICAgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd3NlYXJjaE1CID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV4Y2VwdCA9PT0gXCJlZGl0XCIpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2V0dGluZ3NFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dzZWFyY2hNQiAgICA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdGluZyAgICAgICAgID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zaG93c2VhcmNoTUIgICAgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zaG93U2VhcmNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHNjb3BlLmh5ZGVQYXJ0aWFscyhcInNlYXJjaFwiKTtcbiAgICAgICAgICAgICRzY29wZS5zaG93c2VhcmNoTUIgICA9ICRzY29wZS5zaG93c2VhcmNoTUIgPyBmYWxzZSA6IHRydWU7XG4gICAgICAgICAgICAvLyAkc2NvcGUuJGJyb2FkY2FzdCgnaGlkZUxpY2Vuc2UnKTtcbiAgICAgICAgICAgICRzY29wZS5zdGF0dXMubGljZW5zZSA9IGZhbHNlO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS50b2dnbGVTZXR0aW5ncyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRzY29wZS5oeWRlUGFydGlhbHMoXCJzZXR0aW5nc1wiKTtcbiAgICAgICAgICAgICRzY29wZS5zZXR0aW5nc0VuYWJsZWQgPSAhJHNjb3BlLnNldHRpbmdzRW5hYmxlZDtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc3RhcnRFZGl0ID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRFbnRpdHkgPSBlbnRpdHk7XG4gICAgICAgICAgICBpZiAoJHNjb3BlLm1vYmlsZSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5oeWRlUGFydGlhbHMoXCJlZGl0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLmVkaXRpbmcgPSB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zd2l0Y2hWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHNjb3BlLmNoYW5nZVZpZXcoJHNjb3BlLnN0YXR1cy5pc05ldHdvcmtTaG93biA/ICdNYXAnIDogJ05ldHdvcmsnKTtcbiAgICAgICAgfTtcblxuICAgICAgICB3aW5kb3cubW9iaWxlY2hlY2sgICAgID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNoZWNrICA9IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlZ2V4ICA9IC8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllcyg0fDYpMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyBjZXx4ZGF8eGlpbm8vaSxcbiAgICAgICAgICAgICAgICByZWdleDIgPSAvMTIwN3w2MzEwfDY1OTB8M2dzb3w0dGhwfDUwWzEtNl1pfDc3MHN8ODAyc3xhIHdhfGFiYWN8YWMoZXJ8b298c1xcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcXC1tfHIgfHMgKXxhdmFufGJlKGNrfGxsfG5xKXxiaShsYnxyZCl8YmwoYWN8YXopfGJyKGV8dil3fGJ1bWJ8YndcXC0obnx1KXxjNTVcXC98Y2FwaXxjY3dhfGNkbVxcLXxjZWxsfGNodG18Y2xkY3xjbWRcXC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGNcXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFxcLWQpfGVsKDQ5fGFpKXxlbShsMnx1bCl8ZXIoaWN8azApfGVzbDh8ZXooWzQtN10wfG9zfHdhfHplKXxmZXRjfGZseShcXC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2ZcXC01fGdcXC1tb3xnbyhcXC53fG9kKXxncihhZHx1bil8aGFpZXxoY2l0fGhkXFwtKG18cHx0KXxoZWlcXC18aGkocHR8dGEpfGhwKCBpfGlwKXxoc1xcLWN8aHQoYyhcXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXFwtKDIwfGdvfG1hKXxpMjMwfGlhYyggfFxcLXxcXC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XFwvKXxrbG9ufGtwdCB8a3djXFwtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcXC8oa3xsfHUpfDUwfDU0fFxcLVthLXddKXxsaWJ3fGx5bnh8bTFcXC13fG0zZ2F8bTUwXFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVxcLWNyfG1lKHJjfHJpKXxtaShvOHxvYXx0cyl8bW1lZnxtbygwMXwwMnxiaXxkZXxkb3x0KFxcLXwgfG98dil8enopfG10KDUwfHAxfHYgKXxtd2JwfG15d2F8bjEwWzAtMl18bjIwWzItM118bjMwKDB8Mil8bjUwKDB8Mnw1KXxuNygwKDB8MSl8MTApfG5lKChjfG0pXFwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcXC0oWzEtOF18YykpfHBoaWx8cGlyZXxwbChheXx1Yyl8cG5cXC0yfHBvKGNrfHJ0fHNlKXxwcm94fHBzaW98cHRcXC1nfHFhXFwtYXxxYygwN3wxMnwyMXwzMnw2MHxcXC1bMi03XXxpXFwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVxcL3xzYShnZXxtYXxtbXxtc3xueXx2YSl8c2MoMDF8aFxcLXxvb3xwXFwtKXxzZGtcXC98c2UoYyhcXC18MHwxKXw0N3xtY3xuZHxyaSl8c2doXFwtfHNoYXJ8c2llKFxcLXxtKXxza1xcLTB8c2woNDV8aWQpfHNtKGFsfGFyfGIzfGl0fHQ1KXxzbyhmdHxueSl8c3AoMDF8aFxcLXx2XFwtfHYgKXxzeSgwMXxtYil8dDIoMTh8NTApfHQ2KDAwfDEwfDE4KXx0YShndHxsayl8dGNsXFwtfHRkZ1xcLXx0ZWwoaXxtKXx0aW1cXC18dFxcLW1vfHRvKHBsfHNoKXx0cyg3MHxtXFwtfG0zfG01KXx0eFxcLTl8dXAoXFwuYnxnMXxzaSl8dXRzdHx2NDAwfHY3NTB8dmVyaXx2aShyZ3x0ZSl8dmsoNDB8NVswLTNdfFxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXFwtfCApfHdlYmN8d2hpdHx3aShnIHxuY3xudyl8d21sYnx3b251fHg3MDB8eWFzXFwtfHlvdXJ8emV0b3x6dGVcXC0vaTtcbiAgICAgICAgICAgIChmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgICAgIGlmIChyZWdleC50ZXN0KGEpIHx8IHJlZ2V4Mi50ZXN0KGEuc3Vic3RyKDAsIDQpKSkge1xuICAgICAgICAgICAgICAgICAgICBjaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkobmF2aWdhdG9yLnVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudmVuZG9yIHx8IHdpbmRvdy5vcGVyYSk7XG4gICAgICAgICAgICByZXR1cm4gY2hlY2s7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5tb2JpbGUgICAgICAgICAgPSB3aW5kb3cubW9iaWxlY2hlY2soKTtcbiAgICAgICAgJHNjb3BlLnNldHRpbmdzRW5hYmxlZCA9ICEkc2NvcGUubW9iaWxlO1xuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJGh0dHAuZ2V0KGNvbmZpZy5hcGlIb3N0ICsgJ2FwaS9lbnRpdGllcycpXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVudGl0aWVzID0gZGF0YS5ub2RlcztcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9ucyAgID0gXy51bmlxKFxuICAgICAgICAgICAgICAgICAgICAgICAgXy5wbHVjayhfLmZsYXR0ZW4oXy5wbHVjaygkc2NvcGUuZW50aXRpZXMsICdsb2NhdGlvbnMnKSksICdsb2NhbGl0eScpKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZW50aXRpZXNCeUxvY2F0aW9uID0gXy5tYXAobG9jYXRpb25zLCBmdW5jdGlvbiAobG9jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmluZGluZ3MgPSBfLmZpbHRlcigkc2NvcGUuZW50aXRpZXMsIF8uZmxvdyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLnByb3BlcnR5KCdsb2NhdGlvbnMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLnBhcnRpYWxSaWdodChfLmFueSwge2xvY2FsaXR5OiBsb2N9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSAgICA6IGxvYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlICAgIDogJ2xvY2F0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdGllczogZmluZGluZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGljdCAgICA6IF8uemlwT2JqZWN0KF8ucGx1Y2soZmluZGluZ3MsICduYW1lJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ucGx1Y2soZmluZGluZ3MsICdpbmRleCcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlYXJjaEl0ZW1zID0gZW50aXRpZXNCeUxvY2F0aW9uLmNvbmNhdCgkc2NvcGUuZW50aXRpZXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmICgkc2NvcGUuZ2V0VVJMSUQoKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gU2V0IHRoZSBlbnRpdHkgdG8gdGhlIElEIGluIHRoZSBVUkwgaWYgaXQgZXhpc3RzLlxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgJHNjb3BlLnNldEVudGl0eUlEKCRzY29wZS5nZXRVUkxJRCgpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3ZlcnZpZXdVcmwgPSAnanMvb3ZlcnZpZXcvb3ZlcnZpZXcuaHRtbD9pPScgKyAkc2NvcGUucmFuZG9tO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnZW50aXRpZXNMb2FkZWQnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMTAwKTtcblxuICAgICAgICAkc2NvcGUub3ZlcnZpZXdVcmwgPSBudWxsO1xuXG4gICAgICAgICRzY29wZS5zZXRFbnRpdHkgICA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50TG9jYXRpb24gPSBudWxsO1xuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRFbnRpdHkgICA9IGVudGl0eTtcbiAgICAgICAgICAgIGlmICgkc2NvcGUuZWRpdGluZykge1xuICAgICAgICAgICAgICAgICRzY29wZS5zdG9wRWRpdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ2VudGl0eUNoYW5nZScpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zZXRFbnRpdHlJRCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgJHNjb3BlLnNldEVudGl0eShfLmZpbmQoJHNjb3BlLmVudGl0aWVzLCB7J2lkJzogaWR9KSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnNldExvY2F0aW9uID0gZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICBpZiAoJHNjb3BlLmVkaXRpbmcpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RvcEVkaXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdpdGVtQ2hhbmdlJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnNlbGVjdEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2xvY2F0aW9uJykge1xuICAgICAgICAgICAgICAgICRzY29wZS5zZXRMb2NhdGlvbihpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICRzY29wZVtpdGVtICUgMSA9PT0gMCA/ICdzZXRFbnRpdHlJRCcgOiAnc2V0RW50aXR5J10oaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnc2VsZWN0SXRlbScsIGl0ZW0pO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS4kb24oJ3NldEN1cnJlbnRFbnRpdHknLCBmdW5jdGlvbiAoZXZlbnQsIGFyZ3MpIHtcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50RW50aXR5ID0gYXJncy52YWx1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLiRvbignc2V0Q3VycmVudExvY2F0aW9uJywgZnVuY3Rpb24gKGV2ZW50LCBhcmdzKSB7XG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudExvY2F0aW9uID0gYXJncy52YWx1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLnNldEVudGl0aWVzID0gZnVuY3Rpb24gKGVudGl0aWVzKSB7XG4gICAgICAgICAgICAkc2NvcGUuZW50aXRpZXMgPSBlbnRpdGllcztcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc3RvcEVkaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkc2NvcGUuZWRpdGluZyA9IGZhbHNlO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS4kb24oXCJlZGl0RW50aXR5U3VjY2Vzc1wiLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICRzY29wZS5zZXRFbnRpdGllcyhyZXNwb25zZS5ub2Rlcyk7XG4gICAgICAgICAgICAvLyAkc2NvcGUuc2V0RW50aXR5SUQoJHNjb3BlLmN1cnJlbnRFbnRpdHkuaWQpO1xuICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ2VudGl0aWVzTG9hZGVkJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS5hbmltYXRpb25zRW5hYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2hvbWVDdHJsJywgaG9tZURlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA3LzE0LzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IFtdO1xuXG4gICAgZnVuY3Rpb24gZGlyZWN0aXZlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgXCJyZXN0cmljdFwiOiBcIkVcIixcbiAgICAgICAgICAgIFwidGVtcGxhdGVVcmxcIjogXCIvbWFwL21hcC5odG1sXCIsXG4gICAgICAgICAgICBcImNvbnRyb2xsZXJcIjogXCJtYXBDdHJsXCJcbiAgICAgICAgfTtcbiAgICB9XG4gICAgICAgIGFuZ3VsYXIubW9kdWxlKFwiY2l2aWMtZ3JhcGhcIilcbiAgICAgICAgICAgIC5kaXJlY3RpdmUoXCJtYXBcIiwgZGVwZW5kZW5jaWVzKTtcblxufSkoYW5ndWxhcik7IiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBmdW5jdGlvbiBvdmVydmlld0N0cmwoJHNjb3BlLCBfKSB7XG4gICAgICAgICRzY29wZS5jYXRlZ29yaXplZEVudGl0aWVzID0ge307XG4gICAgICAgIF8uZm9yRWFjaChfLmtleXMoJHNjb3BlLmVudGl0eVR5cGVzKSwgZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICRzY29wZS5jYXRlZ29yaXplZEVudGl0aWVzW3R5cGVdID0gXy5maWx0ZXIoJHNjb3BlLmVudGl0aWVzLCB7J3R5cGUnOiB0eXBlfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdvdmVydmlld0N0cmwnLCBbJyRzY29wZScsICdfJywgb3ZlcnZpZXdDdHJsXSk7XG59KShhbmd1bGFyKTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNy8xMS8xNi5cbiAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBkZXBlbmRlbmNpZXMgPSBbXG4gICAgICAgIGRpcmVjdGl2ZVxuICAgIF07XG5cbiAgICBmdW5jdGlvbiBkaXJlY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBcInJlc3RyaWN0XCI6IFwiRVwiLFxuICAgICAgICAgICAgXCJ0ZW1wbGF0ZVVybFwiOiBcIi9qcy9uZXR3b3JrL25ldHdvcmsuaHRtbFwiLFxuICAgICAgICAgICAgXCJjb250cm9sbGVyXCI6IFwibmV0d29ya0N0cmxcIlxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKFwiY2l2aWMtZ3JhcGhcIilcbiAgICAgICAgLmRpcmVjdGl2ZShcIm5ldHdvcmtcIiwgZGVwZW5kZW5jaWVzKTtcblxufSkoYW5ndWxhcik7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDYvMjYvMTYuXG4gKi9cbihmdW5jdGlvbihhbmd1bGFyKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnaW5wdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0aWN0OiAnRScsXG4gICAgICAgICAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCAndHlwZScgaW4gYXR0cnMgJiYgYXR0cnMudHlwZS50b0xvd2VyQ2FzZSgpID09PSAncmFuZ2UnICkge1xuICAgICAgICAgICAgICAgICAgICBuZ01vZGVsLiRwYXJzZXJzLnB1c2gocGFyc2VGbG9hdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pO1xufSkoYW5ndWxhcik7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA3LzEvMTYuXG4gKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBmdW5jdGlvbiBhbmFseXRpY3NDdHJsKCRzY29wZSkge1xuXG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2FuYWx5dGljc0N0cmwnLCBbJyRzY29wZScsIGFuYWx5dGljc0N0cmxdKTtcbn0pKGFuZ3VsYXIpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNy8xMC8xNi5cbiAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBjb250cm9sRGVwcyA9IFtcbiAgICAgICAgJ2VudGl0eVNlcnZpY2UnLFxuICAgICAgICAnY29ubmVjdGlvblNlcnZpY2UnLFxuICAgICAgICAnJHJvb3RTY29wZScsXG4gICAgICAgICdfJyxcbiAgICAgICAgJyRtb2RhbCcsXG4gICAgICAgIGNvbnRyb2xDdHJsXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIGNvbnRyb2xDdHJsKGVudGl0eVNlcnZpY2UsIGNvbm5lY3Rpb25TZXJ2aWNlLCAkcm9vdFNjb3BlLCBfLCAkbW9kYWwpIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgdm0uZW50aXR5VHlwZXMgPSBlbnRpdHlTZXJ2aWNlLmdldEVudGl0eVR5cGVzKCk7XG4gICAgICAgIHZtLmNvbm5lY3Rpb25UeXBlcyA9IGNvbm5lY3Rpb25TZXJ2aWNlLmdldENvbm5lY3Rpb25UeXBlcygpO1xuICAgICAgICB2bS5zaXplQnlMaXN0ID0gW1xuICAgICAgICAgICAgeyduYW1lJzogJ0VtcGxveWVlcycsICd2YWx1ZSc6ICdlbXBsb3llZXMnfSxcbiAgICAgICAgICAgIHsnbmFtZSc6ICdUd2l0dGVyIEZvbGxvd2VycycsICd2YWx1ZSc6ICdmb2xsb3dlcnMnfVxuICAgICAgICBdO1xuICAgICAgICB2bS5zaXplQnkgPSAnZW1wbG95ZWVzJztcbiAgICAgICAgdm0uc2hvd1ZpZXcgPSB7XG4gICAgICAgICAgICAnTmV0d29yayc6IHRydWUsXG4gICAgICAgICAgICAnTWFwJzogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgdm0uY2hhbmdlVmlldyA9IGZ1bmN0aW9uICh2aWV3KSB7XG4gICAgICAgICAgICBfLmZvckVhY2goXy5rZXlzKHZtLnNob3dWaWV3KSwgZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgICAgICB2bS5zaG93Vmlld1tuYW1lXSA9IHZpZXcgPT09IG5hbWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgndmlld0NoYW5nZScpO1xuICAgICAgICB9O1xuICAgICAgICB2bS5zaG93QWJvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkbW9kYWwub3Blbih7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbnRyb2wvYWJvdXQuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21vZGFsQ3RybCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB2bS50b2dnbGVOb2RlID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgndG9nZ2xlTm9kZScsIHsnbmFtZSc6IHR5cGUsICdlbmFibGVkJzogdm0uZW50aXR5VHlwZXNbdHlwZV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB2bS50b2dnbGVMaW5rID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgndG9nZ2xlTGluaycsIHsnbmFtZSc6IHR5cGUsICdlbmFibGVkJzogdm0uY29ubmVjdGlvblR5cGVzW3R5cGVdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdm0uY2hhbmdlU2l6ZUJ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdjaGFuZ2VTaXplQnknLCB2bS5zaXplQnkpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdjb250cm9sQ3RybCcsIGNvbnRyb2xEZXBzKTtcblxufSkoYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGZ1bmN0aW9uIGRldGFpbHNDdHJsKCRzY29wZSwgXykge1xuICAgICAgICAkc2NvcGUuaXRlbXNTaG93bkRlZmF1bHQgPSB7XG4gICAgICAgICAgICAna2V5X3Blb3BsZSc6IDMsXG4gICAgICAgICAgICAnZ3JhbnRzX2dpdmVuJzogMyxcbiAgICAgICAgICAgICdncmFudHNfcmVjZWl2ZWQnOiAzLFxuICAgICAgICAgICAgJ2ludmVzdG1lbnRzX21hZGUnOiAzLFxuICAgICAgICAgICAgJ2ludmVzdG1lbnRzX3JlY2VpdmVkJzogMyxcbiAgICAgICAgICAgICdjb2xsYWJvcmF0aW9ucyc6IDMsXG4gICAgICAgICAgICAnZW1wbG95bWVudHMnOiAzLFxuICAgICAgICAgICAgJ3JlbGF0aW9ucyc6IDMsXG4gICAgICAgICAgICAnZGF0YV9naXZlbic6IDMsXG4gICAgICAgICAgICAnZGF0YV9yZWNlaXZlZCc6IDMsXG4gICAgICAgICAgICAncmV2ZW51ZXMnOiAzLFxuICAgICAgICAgICAgJ2V4cGVuc2VzJzogM1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5pdGVtc1Nob3duID0gXy5jbG9uZSgkc2NvcGUuaXRlbXNTaG93bkRlZmF1bHQpO1xuXG4gICAgICAgICRzY29wZS4kb24oJ2VudGl0eUNoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIFJlc2V0IGl0ZW1zIHNob3duIGluIGRldGFpbHMgbGlzdC5cbiAgICAgICAgICAgICRzY29wZS5pdGVtc1Nob3duID0gXy5jbG9uZSgkc2NvcGUuaXRlbXNTaG93bkRlZmF1bHQpO1xuICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLnNob3dNb3JlID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICRzY29wZS5pdGVtc1Nob3duW3R5cGVdID0gJHNjb3BlLmN1cnJlbnRFbnRpdHlbdHlwZV0ubGVuZ3RoO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuc2hvd0xlc3MgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgJHNjb3BlLml0ZW1zU2hvd25bdHlwZV0gPSAkc2NvcGUuaXRlbXNTaG93bkRlZmF1bHRbdHlwZV07XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2RldGFpbHNDdHJsJywgWyckc2NvcGUnLCBcIl9cIiwgZGV0YWlsc0N0cmxdKTtcbn0pKGFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgZWRpdENvbnRyb2xsZXJEZXBzID0gW1xuICAgICAgICAnJHNjb3BlJyxcbiAgICAgICAgJyRodHRwJyxcbiAgICAgICAgJyR0aW1lb3V0JyxcbiAgICAgICAgJ18nLFxuICAgICAgICAnZW50aXR5U2VydmljZScsXG4gICAgICAgICdsb2NhdGlvblNlcnZpY2UnLFxuICAgICAgICAnY29uZmlnJyxcbiAgICAgICAgZWRpdEN0cmxcbiAgICBdO1xuXG4gICAgZnVuY3Rpb24gaXNEZWYob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogIT09IHVuZGVmaW5lZCAmJiBvYmogIT09IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZWRpdEN0cmwoJHNjb3BlLCAkaHR0cCwgJHRpbWVvdXQsIF8sIGVudGl0eVNlcnZpY2UsIGxvY2F0aW9uU2VydmljZSwgY29uZmlnKSB7XG4gICAgICAgICRzY29wZS5pc0VkaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgJHNjb3BlLmVkaXRFbnRpdHkgPSBlbnRpdHlTZXJ2aWNlLmdldEVudGl0eU1vZGVsKCRzY29wZS5lbnRpdHkpO1xuICAgICAgICAkc2NvcGUuZW50aXR5VHlwZXMgPSBlbnRpdHlTZXJ2aWNlLmdldEVudGl0eVR5cGVzKCk7XG4gICAgICAgICRzY29wZS5pbmZsdWVuY2VUeXBlcyA9IGVudGl0eVNlcnZpY2UuZ2V0SW5mbHVlbmNlVHlwZXMoKTtcblxuICAgICAgICB2YXIgY2F0ZWdvcnlCYWNrdXA7XG5cbiAgICAgICAgJHNjb3BlLmNhdGVnb3JpZXMgPSBbXTtcblxuICAgICAgICAkc2NvcGUuYWRkcmVzc1NlYXJjaCA9IGZ1bmN0aW9uIChzZWFyY2gpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5qc29ucCgnaHR0cHM6Ly9kZXYudmlydHVhbGVhcnRoLm5ldC9SRVNUL3YxL0xvY2F0aW9ucycsIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHNlYXJjaCxcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnQWk1ODU4MXlDLVNyN21jRmJZVHRVa1MzaXhFN2Y2WnVKbmJGSkNWSTRoQXRXMVhvREVlWnlpZFF6MmdMQ0N5RCcsXG4gICAgICAgICAgICAgICAgICAgICdqc29ucCc6ICdKU09OX0NBTExCQUNLJyxcbiAgICAgICAgICAgICAgICAgICAgJ2luY2x1ZGUnOiAnY2lzbzInXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRGVmKHJlc3BvbnNlLmRhdGEucmVzb3VyY2VTZXRzKSAmJiByZXNwb25zZS5kYXRhLnJlc291cmNlU2V0cy5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEucmVzb3VyY2VTZXRzWzBdLnJlc291cmNlcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS50b2dnbGVDYXRlZ29yeSA9IGZ1bmN0aW9uIChjYXRlZ29yeSkge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5lZGl0RW50aXR5LmNhdGVnb3JpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmVkaXRFbnRpdHkuY2F0ZWdvcmllcy5wdXNoKGNhdGVnb3J5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgY2F0ZWdvcnlJbmRleCBpbiAkc2NvcGUuZWRpdEVudGl0eS5jYXRlZ29yaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghJHNjb3BlLmVkaXRFbnRpdHkuY2F0ZWdvcmllcy5oYXNPd25Qcm9wZXJ0eShjYXRlZ29yeUluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGVudGl0eUNhdGVnb3J5ID0gJHNjb3BlLmVkaXRFbnRpdHkuY2F0ZWdvcmllc1tjYXRlZ29yeUluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVudGl0eUNhdGVnb3J5LmlkID09PSBjYXRlZ29yeS5pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5Q2F0ZWdvcnkuZW5hYmxlZCA9IGNhdGVnb3J5LmVuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5lZGl0RW50aXR5LmNhdGVnb3JpZXMucHVzaChjYXRlZ29yeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zZXRMb2NhdGlvbiA9IGZ1bmN0aW9uIChsb2NhdGlvbiwgaXNMYXN0KSB7XG4gICAgICAgICAgICAkc2NvcGUuYWRkcmVzc1NlYXJjaChsb2NhdGlvbi5mb3JtYXR0ZWRBZGRyZXNzKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChhcGlDYWxsUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBhcGlDYWxsUmVzdWx0WzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyA9IHJlc3VsdC5hZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQgPSByZXN1bHQucG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRMb2NhdGlvbihpc0xhc3QpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFBhcnNlcyBBUEkgY2FsbCByZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uYWRkcmVzc19saW5lID0gaXNEZWYoYWRkcmVzcy5hZGRyZXNzTGluZSkgPyBhZGRyZXNzLmFkZHJlc3NMaW5lIDogJyc7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmxvY2FsaXR5ID0gaXNEZWYoYWRkcmVzcy5sb2NhbGl0eSkgPyBhZGRyZXNzLmxvY2FsaXR5IDogJyc7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmRpc3RyaWN0ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRGVmKGFkZHJlc3MuYWRtaW5EaXN0cmljdCkgPyBhZGRyZXNzLmFkbWluRGlzdHJpY3QgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uY291bnRyeSA9XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0RlZihhZGRyZXNzLmNvdW50cnlSZWdpb24pID8gYWRkcmVzcy5jb3VudHJ5UmVnaW9uIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uY291bnRyeV9jb2RlID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRGVmKGFkZHJlc3MuY291bnRyeVJlZ2lvbklzbzIpID8gYWRkcmVzcy5jb3VudHJ5UmVnaW9uSXNvMiA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5jb29yZGluYXRlcyA9IGlzRGVmKHBvaW50LmNvb3JkaW5hdGVzKSA/IHBvaW50LmNvb3JkaW5hdGVzIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucG9zdGFsX2NvZGUgPSBpc0RlZihhZGRyZXNzLnBvc3RhbENvZGUpID8gYWRkcmVzcy5wb3N0YWxDb2RlIDogbnVsbDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuYWRkTG9jYXRpb24gPSBmdW5jdGlvbiAoaXNMYXN0KSB7XG4gICAgICAgICAgICBpZiAoaXNMYXN0KSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmVkaXRFbnRpdHkubG9jYXRpb25zLnB1c2gobG9jYXRpb25TZXJ2aWNlLmdldExvY2F0aW9uTW9kZWwoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmFkZEtleVBlcnNvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIEFkZCBibGFuayBmaWVsZCB0byBlZGl0IGlmIHRoZXJlIGFyZSBub25lLlxuICAgICAgICAgICAgLy8gV0FUQ0ggT1VUISBUT0RPOiBJZiBzb21lb25lIGRlbGV0ZXMgYW4gb2xkIHBlcnNvbiwgZGVsZXRlIHRoZWlyIGlkIHRvby5cbiAgICAgICAgICAgIC8vIGkuZS4gbWFrZSBzdXJlIG9sZC9jbGVhcmVkIGZvcm0gZmllbGRzIGFyZW4ndCBiZWluZyBlZGl0ZWQgaW50byBuZXcgcGVvcGxlLlxuICAgICAgICAgICAgaWYgKCEoXy5zb21lKCRzY29wZS5lZGl0RW50aXR5LmtleV9wZW9wbGUsIHsnbmFtZSc6ICcnLCAnaWQnOiBudWxsfSkpKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmVkaXRFbnRpdHkua2V5X3Blb3BsZS5wdXNoKHsnbmFtZSc6ICcnLCAnaWQnOiBudWxsfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnNldEZ1bmRpbmdDb25uZWN0aW9uID0gZnVuY3Rpb24gKGVudGl0eSwgZnVuZGluZykge1xuICAgICAgICAgICAgLy8gQWRkIG90aGVyIGVudGl0eSdzIGlkIHRvIHRoaXMgZmluYW5jZSBjb25uZWN0aW9uLlxuICAgICAgICAgICAgZnVuZGluZy5lbnRpdHlfaWQgPSBlbnRpdHkuaWQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmFkZEZ1bmRpbmdDb25uZWN0aW9uID0gZnVuY3Rpb24gKGZ1bmRpbmcpIHtcbiAgICAgICAgICAgIGlmICghXy5zb21lKGZ1bmRpbmcsIHsnZW50aXR5JzogJyd9KSkge1xuICAgICAgICAgICAgICAgIC8vIE1heWJlIHNldCBhbW91bnQgdG8gMCBpbnN0ZWFkIG9mIG51bGw/XG4gICAgICAgICAgICAgICAgZnVuZGluZy5wdXNoKHsnZW50aXR5JzogJycsICdhbW91bnQnOiBudWxsLCAneWVhcic6IG51bGwsICdpZCc6IG51bGx9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2V0Q29ubmVjdGlvbiA9IGZ1bmN0aW9uIChlbnRpdHksIGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24uZW50aXR5X2lkID0gZW50aXR5LmlkO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5hZGRDb25uZWN0aW9uID0gZnVuY3Rpb24gKGNvbm5lY3Rpb25zKSB7XG4gICAgICAgICAgICAvLyBBZGQgYW4gZW1wdHkgY29ubmVjdGlvbiB0byBlZGl0IGlmIG5vbmUgZXhpc3QuXG4gICAgICAgICAgICBpZiAoIV8uc29tZShjb25uZWN0aW9ucywgeydlbnRpdHknOiAnJywgJ2lkJzogbnVsbH0pKSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbnMucHVzaCh7J2VudGl0eSc6ICcnLCAnaWQnOiBudWxsLCAnZGV0YWlscyc6IG51bGx9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuYWRkRmluYW5jZSA9IGZ1bmN0aW9uIChyZWNvcmRzKSB7XG4gICAgICAgICAgICAvLyBBZGQgbmV3IGZpbmFuY2UgZmllbGQgaWYgYWxsIGN1cnJlbnQgZmllbGRzIGFyZSB2YWxpZC5cbiAgICAgICAgICAgIGlmIChfLmV2ZXJ5KHJlY29yZHMsIGZ1bmN0aW9uIChyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByLmFtb3VudCA+IDAgJiYgci55ZWFyID4gMTc1MDtcbiAgICAgICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICAgIHJlY29yZHMucHVzaCh7J2Ftb3VudCc6IG51bGwsICd5ZWFyJzogbnVsbCwgJ2lkJzogbnVsbH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHNjb3BlLmlzU2F2aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5lZGl0RW50aXR5LmdlbmVyYXRlREJNb2RlbCgpKTtcblxuICAgICAgICAgICAgJGh0dHAucG9zdChjb25maWcuYXBpSG9zdCArICdhcGkvc2F2ZScsIHsnZW50aXR5JzogJHNjb3BlLmVkaXRFbnRpdHkuZ2VuZXJhdGVEQk1vZGVsKCl9KVxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNTYXZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KFwiZWRpdEVudGl0eVN1Y2Nlc3NcIiwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAvLyBDYWxsIHRvIGhvbWVDdHJsJ3MgcGFyZW50IHN0b3BFZGl0KCkgdG8gY2hhbmdlIHZpZXcgYmFjayBhbmQgYW55IG90aGVyXG4gICAgICAgICAgICAgICAgICAgIC8vIGhpZ2gtbGV2ZWwgY2hhbmdlcy5cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbEVkaXQoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5pc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmNhbmNlbEVkaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLiR3YXRjaCgnZW50aXR5JywgZnVuY3Rpb24gKG5ld1ZhbCwgb2xkVmFsKSB7XG4gICAgICAgICAgICBpZiAoYW5ndWxhci5lcXVhbHMobmV3VmFsLCBvbGRWYWwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuZW50aXR5KTtcblxuICAgICAgICAgICAgJHNjb3BlLmVkaXRFbnRpdHkgPSBlbnRpdHlTZXJ2aWNlLmdldEVudGl0eU1vZGVsKG5ld1ZhbCk7XG4gICAgICAgICAgICAkc2NvcGUuY2F0ZWdvcmllcyA9IGFuZ3VsYXIuY29weShjYXRlZ29yeUJhY2t1cCk7XG5cbiAgICAgICAgICAgIGluaXRDYXRlZ29yeUFycmF5KCk7XG5cbiAgICAgICAgICAgICRzY29wZS5pc0VkaXRpbmcgPSBpc0RlZigkc2NvcGUuZWRpdEVudGl0eS5pZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbml0aWFsaXplcyBjYXRlZ29yeSBmaWVsZHMgd2l0aCBlbnRpdHkgdmFsdWVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBMb29wcyB0aHJvdWdoIGNhdGVnb3J5IGluIGNhdGVnb3JpZXMgYW5kIGxvb3BzIHRocm91Z2ggY2F0ZWdvcnkgaW4gZW50aXR5LiBJZGVudGlmaWVzXG4gICAgICAgICAqIGNhdGVnb3JpZXMgZW5hYmxlZCBpbiB0aGUgZW50aXR5IGFuZCBzZXRzIGxvY2FsIGRpc3BsYXkgZGF0YS4gVGhpcyBpcyBiZWNhdXNlIHdlIGNyZWF0ZWRcbiAgICAgICAgICogYSBiYWNrdXAgb2YgZW50aXR5IGRhdGEgc28gdGhhdCB0aGUgYXBpIGRhdGEgaXMgbm90IHRhbXBlcmVkIHdpdGggZGlyZWN0bHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRPRE86IHJlcGxhY2Ugd2l0aCBiZXR0ZXIgZGF0YSBzdHJ1Y3R1cmUgZm9yIGNhdGVnb3JpZXMuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBpbml0Q2F0ZWdvcnlBcnJheSgpIHtcbiAgICAgICAgICAgIHZhciBjYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeUluZGV4LFxuICAgICAgICAgICAgICAgIGVudGl0eUNhdGVnb3J5SW5kZXgsXG4gICAgICAgICAgICAgICAgZW50aXR5Q2F0ZWdvcnk7XG5cbiAgICAgICAgICAgIGZvciAoY2F0ZWdvcnlJbmRleCBpbiAkc2NvcGUuY2F0ZWdvcmllcykge1xuICAgICAgICAgICAgICAgIGlmICghJHNjb3BlLmNhdGVnb3JpZXMuaGFzT3duUHJvcGVydHkoY2F0ZWdvcnlJbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGVnb3J5ID0gJHNjb3BlLmNhdGVnb3JpZXNbY2F0ZWdvcnlJbmRleF07XG4gICAgICAgICAgICAgICAgZm9yIChlbnRpdHlDYXRlZ29yeUluZGV4IGluICRzY29wZS5lZGl0RW50aXR5LmNhdGVnb3JpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuZWRpdEVudGl0eS5jYXRlZ29yaWVzLmhhc093blByb3BlcnR5KGVudGl0eUNhdGVnb3J5SW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbnRpdHlDYXRlZ29yeSA9ICRzY29wZS5lZGl0RW50aXR5LmNhdGVnb3JpZXNbZW50aXR5Q2F0ZWdvcnlJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeS5pZCA9PT0gZW50aXR5Q2F0ZWdvcnkuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5LmVuYWJsZWQgPSBlbnRpdHlDYXRlZ29yeS5lbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmV0cmlldmUgQ2F0ZWdvcmllcyBmcm9tIERCXG4gICAgICAgICRodHRwLmdldChjb25maWcuYXBpSG9zdCArICdhcGkvY2F0ZWdvcmllcycpXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5QmFja3VwID0gZGF0YS5jYXRlZ29yaWVzO1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZXMgYmFja3VwIG9mIGRhdGEgdXNpbmcgQW5ndWxhciB0byBwcmV2ZW50IGFwaSBkYXRhIGZyb20gYmVpbmcgdGFtcGVyZWRcbiAgICAgICAgICAgICAgICAvLyBkaXJlY3RseVxuICAgICAgICAgICAgICAgICRzY29wZS5jYXRlZ29yaWVzID0gYW5ndWxhci5jb3B5KGNhdGVnb3J5QmFja3VwKTtcbiAgICAgICAgICAgICAgICAvLyAkc2NvcGUuY2F0ZWdvcmllcyA9IGRhdGEuY2F0ZWdvcmllcztcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdlZGl0Q3RybCcsIGVkaXRDb250cm9sbGVyRGVwcyk7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI4LzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGNhdGVnb3J5U2VydmljZURlcGVuZGVuY2llcyA9IFtcbiAgICAgICAgQ2F0ZWdvcnlTZXJ2aWNlXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIENhdGVnb3J5U2VydmljZSgpIHtcblxuICAgICAgICBmdW5jdGlvbiBpc0RlZihvKSB7IHJldHVybiBvICE9PSB1bmRlZmluZWQgJiYgbyAhPT0gbnVsbDsgfVxuXG4gICAgICAgIGZ1bmN0aW9uIENhdGVnb3J5KG9iaikge1xuICAgICAgICAgICAgdmFyIGRlZk9iaiA9IGlzRGVmKG9iaikgPyBvYmogOiB7fTtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IChpc0RlZihkZWZPYmoubmFtZSkgPyBkZWZPYmoubmFtZSA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5lbmFibGVkID0gKGlzRGVmKGRlZk9iai5lbmFibGUpID8gZGVmT2JqLmVuYWJsZWQgOiB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaWQgPSAoaXNEZWYoZGVmT2JqLmlkKSA/IGRlZk9iai5pZCA6IG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nZXRDYXRlZ29yeU1vZGVsID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IENhdGVnb3J5KG9iaik7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLnNlcnZpY2UoJ2NhdGVnb3J5U2VydmljZScsIGNhdGVnb3J5U2VydmljZURlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNi8yNy8xNi5cbiAqL1xuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgY29ubmVjdGlvblNlcnZpY2UgPSBbQ29ubmVjdGlvbnNdO1xuICAgIHZhciBjb25uZWN0aW9uVHlwZXMgPSB7XG4gICAgICAgICdGdW5kaW5nJzogdHJ1ZSxcbiAgICAgICAgJ0RhdGEnOiB0cnVlLFxuICAgICAgICAnRW1wbG95bWVudCc6IHRydWUsXG4gICAgICAgICdDb2xsYWJvcmF0aW9uJzogdHJ1ZVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBpc0RlZihvKSB7XG4gICAgICAgIHJldHVybiBvICE9PSB1bmRlZmluZWQgJiYgbyAhPT0gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBDb25uZWN0aW9ucygpIHtcbiAgICAgICAgZnVuY3Rpb24gQ29ubmVjdGlvbihvYmopIHtcbiAgICAgICAgICAgIHZhciBvYmpJc0RlZiA9IGlzRGVmKG9iaik7XG4gICAgICAgICAgICB0aGlzLmVudGl0eSA9IChvYmpJc0RlZiAmJiBpc0RlZihvYmouZW50aXR5KSA/IG9iai5lbnRpdHkgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuaWQgPSAob2JqSXNEZWYgJiYgaXNEZWYob2JqLmlkKSA/IG9iai5pZCA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5kZXRhaWxzID0gKG9iaklzRGVmICYmIGlzRGVmKG9iai5kZXRhaWxzKSA/IG9iai5kZXRhaWxzIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSAob2JqSXNEZWYgJiYgaXNEZWYob2JqLm5hbWUpID8gb2JqLm5hbWU6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5lbnRpdHlfaWQgPSAob2JqSXNEZWYgJiYgaXNEZWYob2JqLmVudGl0eV9pZCkgPyBvYmouZW50aXR5X2lkOiBudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2V0Q29ubmVjdGlvbk1vZGVsID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb25uZWN0aW9uKG9iaik7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5nZXRDb25uZWN0aW9uVHlwZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29ubmVjdGlvblR5cGVzO1xuICAgICAgICB9O1xuICAgIH1cblxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLnNlcnZpY2UoJ2Nvbm5lY3Rpb25TZXJ2aWNlJywgY29ubmVjdGlvblNlcnZpY2UpO1xuXG59KShhbmd1bGFyKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDYvMjcvMTYuXG4gKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgZW50aXR5U2VydmljZURlcGVuZGVuY2llcyA9IFtcbiAgICAgICAgJ2Z1bmRpbmdDb25uZWN0aW9uU2VydmljZScsXG4gICAgICAgICdjb25uZWN0aW9uU2VydmljZScsXG4gICAgICAgICdmaW5hbmNlU2VydmljZScsXG4gICAgICAgICdsb2NhdGlvblNlcnZpY2UnLFxuICAgICAgICAnY2F0ZWdvcnlTZXJ2aWNlJyxcbiAgICAgICAgRW50aXR5U2VydmljZVxuICAgIF07XG5cbiAgICBmdW5jdGlvbiBFbnRpdHlTZXJ2aWNlKGZ1bmRpbmdDb25uZWN0aW9uU2VydmljZSwgY29ubmVjdGlvblNlcnZpY2UsIGZpbmFuY2VTZXJ2aWNlLCBsb2NhdGlvblNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeVNlcnZpY2VcbiAgICApIHtcblxuICAgICAgICB2YXIgZW50aXR5VHlwZXMgPSB7XG4gICAgICAgICAgICAnR292ZXJubWVudCc6IHRydWUsXG4gICAgICAgICAgICAnRm9yLVByb2ZpdCc6IHRydWUsXG4gICAgICAgICAgICAnTm9uLVByb2ZpdCc6IHRydWUsXG4gICAgICAgICAgICAnSW5kaXZpZHVhbCc6IHRydWVcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgaW5mbHVlbmNlVHlwZXMgPSBbXG4gICAgICAgICAgICAnTG9jYWwnLFxuICAgICAgICAgICAgJ05hdGlvbmFsJyxcbiAgICAgICAgICAgICdHbG9iYWwnXG4gICAgICAgIF07XG5cbiAgICAgICAgZnVuY3Rpb24gaXNEZWYobykge1xuICAgICAgICAgICAgcmV0dXJuIG8gIT09IHVuZGVmaW5lZCAmJiBvICE9PSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbG9vcEFuZEluaXQobW9kZWxBcnJheSwgaW5pdE1vZGVsRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGlmKCAhKCBpc0RlZihtb2RlbEFycmF5KSB8fCBhbmd1bGFyLmlzQXJyYXkobW9kZWxBcnJheSkgKSApIHJldHVybiBbaW5pdE1vZGVsRnVuY3Rpb24oKV07XG4gICAgICAgICAgICB2YXIgYXJyYXlJbmRleCxcbiAgICAgICAgICAgICAgICBhcnJheVZhbHVlLFxuICAgICAgICAgICAgICAgIG5ld01vZGVsQXJyYXkgPSBbXTtcblxuICAgICAgICAgICAgZm9yICggYXJyYXlJbmRleCBpbiBtb2RlbEFycmF5ICkge1xuICAgICAgICAgICAgICAgIGlmKCFtb2RlbEFycmF5Lmhhc093blByb3BlcnR5KGFycmF5SW5kZXgpKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBhcnJheVZhbHVlID0gbW9kZWxBcnJheVthcnJheUluZGV4XTtcblxuICAgICAgICAgICAgICAgIGlmKCFhbmd1bGFyLmlzT2JqZWN0KGFycmF5VmFsdWUpKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIG5ld01vZGVsQXJyYXkucHVzaChpbml0TW9kZWxGdW5jdGlvbihhcnJheVZhbHVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdNb2RlbEFycmF5LnB1c2goaW5pdE1vZGVsRnVuY3Rpb24oKSk7XG5cbiAgICAgICAgICAgIHJldHVybiBuZXdNb2RlbEFycmF5O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gRW50aXR5KG9iaikge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGRlZk9iaiA9IGlzRGVmKG9iaikgPyBvYmogOiB7fTtcbiAgICAgICAgICAgIC8vIFRPRE86IERvIGEgbG9vcCB0byBnZW5lcmF0ZSB0aGVzZSBsb2NhdGlvbnMgYXMgbW9kZWxzLCBpbiBvcmRlciB0byB1c2UgdGhlIGZ1bmN0aW9ucyBpbiBtb2RlbFxuICAgICAgICAgICAgLy8gdGhpcy5sb2NhdGlvbnMgPSAoaXNEZWYoZGVmT2JqLmxvY2F0aW9ucykgPyBkZWZPYmoubG9jYXRpb25zIDogW2xvY2F0aW9uU2VydmljZS5nZXRMb2NhdGlvbk1vZGVsKCldKTtcbiAgICAgICAgICAgIC8vIFRPRE86IERvIHRoaXMgZm9yIGV2ZXJ5IGFycmF5IGluIHRoaXMgbW9kZWxcbiAgICAgICAgICAgIHRoaXMuaWQgPSAoaXNEZWYoZGVmT2JqLmlkKSA/IGRlZk9iai5pZCA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gKGlzRGVmKGRlZk9iai5uYW1lKSA/IGRlZk9iai5uYW1lIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmxvY2F0aW9ucyA9IGxvb3BBbmRJbml0KGRlZk9iai5sb2NhdGlvbnMsIGxvY2F0aW9uU2VydmljZS5nZXRMb2NhdGlvbk1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMuaW5mbHVlbmNlID0gKGlzRGVmKGRlZk9iai5pbmZsdWVuY2UpID8gZGVmT2JqLmluZmx1ZW5jZSA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5ncmFudHNfcmVjZWl2ZWQgPSBsb29wQW5kSW5pdChkZWZPYmouZ3JhbnRzX3JlY2VpdmVkLCBmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2UuZ2V0RnVuZGluZ0Nvbm5lY3Rpb25Nb2RlbCk7XG4gICAgICAgICAgICB0aGlzLmludmVzdG1lbnRzX3JlY2VpdmVkID0gbG9vcEFuZEluaXQoZGVmT2JqLmludmVzdG1lbnRzX3JlY2VpdmVkLCBmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2UuZ2V0RnVuZGluZ0Nvbm5lY3Rpb25Nb2RlbCk7XG4gICAgICAgICAgICB0aGlzLmdyYW50c19naXZlbiA9IGxvb3BBbmRJbml0KGRlZk9iai5ncmFudHNfZ2l2ZW4sIGZ1bmRpbmdDb25uZWN0aW9uU2VydmljZS5nZXRGdW5kaW5nQ29ubmVjdGlvbk1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMuaW52ZXN0bWVudHNfbWFkZSA9IGxvb3BBbmRJbml0KGRlZk9iai5pbnZlc3RtZW50c19tYWRlLCBmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2UuZ2V0RnVuZGluZ0Nvbm5lY3Rpb25Nb2RlbCk7XG4gICAgICAgICAgICB0aGlzLmRhdGFfZ2l2ZW4gPSBsb29wQW5kSW5pdChkZWZPYmouZGF0YV9naXZlbiwgY29ubmVjdGlvblNlcnZpY2UuZ2V0Q29ubmVjdGlvbk1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YV9yZWNlaXZlZCA9IGxvb3BBbmRJbml0KGRlZk9iai5kYXRhX3JlY2VpdmVkLCBjb25uZWN0aW9uU2VydmljZS5nZXRDb25uZWN0aW9uTW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5jb2xsYWJvcmF0aW9ucyA9IGxvb3BBbmRJbml0KGRlZk9iai5jb2xsYWJvcmF0aW9ucywgY29ubmVjdGlvblNlcnZpY2UuZ2V0Q29ubmVjdGlvbk1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMua2V5X3Blb3BsZSA9IGxvb3BBbmRJbml0KGRlZk9iai5rZXlfcGVvcGxlLCBjb25uZWN0aW9uU2VydmljZS5nZXRDb25uZWN0aW9uTW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5lbXBsb3ltZW50cyA9IGxvb3BBbmRJbml0KGRlZk9iai5lbXBsb3ltZW50cywgY29ubmVjdGlvblNlcnZpY2UuZ2V0Q29ubmVjdGlvbk1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMucmV2ZW51ZXMgPSBsb29wQW5kSW5pdChkZWZPYmoucmV2ZW51ZXMsIGZpbmFuY2VTZXJ2aWNlLmdldEZpbmFuY2VNb2RlbCk7XG4gICAgICAgICAgICB0aGlzLmV4cGVuc2VzID0gbG9vcEFuZEluaXQoZGVmT2JqLmV4cGVuc2VzLCBmaW5hbmNlU2VydmljZS5nZXRGaW5hbmNlTW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5jYXRlZ29yaWVzID0gbG9vcEFuZEluaXQoZGVmT2JqLmNhdGVnb3JpZXMsIGNhdGVnb3J5U2VydmljZS5nZXRDYXRlZ29yeU1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IChpc0RlZihkZWZPYmoudHlwZSkgPyBkZWZPYmoudHlwZSA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5uaWNrbmFtZSA9IChpc0RlZihkZWZPYmoubmlja25hbWUpID8gZGVmT2JqLm5pY2tuYW1lIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLnVybCA9IChpc0RlZihkZWZPYmoudXJsKSA/IGRlZk9iai51cmwgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMudHdpdHRlcl9oYW5kbGUgPSAoaXNEZWYoZGVmT2JqLnR3aXR0ZXJfaGFuZGxlKSA/IGRlZk9iai50d2l0dGVyX2hhbmRsZSA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5lbXBsb3llZXMgPSAoaXNEZWYoZGVmT2JqLmVtcGxveWVlcykgPyBkZWZPYmouZW1wbG95ZWVzIDogbnVsbCk7XG4gICAgICAgICAgICAvLyB0aGlzLnJlbGF0aW9ucyA9IGxvb3BBbmRJbml0KGRlZk9iai5yZWxhdGlvbnMsIGNvbm5lY3Rpb25TZXJ2aWNlLmdldENvbm5lY3Rpb25Nb2RlbCk7XG5cblxuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZURCTW9kZWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGJNb2RlbCA9IG5ldyBFbnRpdHkoc2VsZik7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5sb2NhdGlvbnMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5sb2NhdGlvbnMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5ncmFudHNfcmVjZWl2ZWQucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5ncmFudHNfcmVjZWl2ZWQucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5ncmFudHNfZ2l2ZW4ucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5ncmFudHNfZ2l2ZW4ucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5pbnZlc3RtZW50c19yZWNlaXZlZC5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmludmVzdG1lbnRzX3JlY2VpdmVkLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuaW52ZXN0bWVudHNfbWFkZS5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmludmVzdG1lbnRzX21hZGUucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5kYXRhX2dpdmVuLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZGF0YV9naXZlbi5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmRhdGFfcmVjZWl2ZWQucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5kYXRhX3JlY2VpdmVkLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuY29sbGFib3JhdGlvbnMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5jb2xsYWJvcmF0aW9ucy5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmtleV9wZW9wbGUucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5rZXlfcGVvcGxlLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZW1wbG95bWVudHMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5lbXBsb3ltZW50cy5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLnJldmVudWVzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwucmV2ZW51ZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5leHBlbnNlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmV4cGVuc2VzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuY2F0ZWdvcmllcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmNhdGVnb3JpZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5kZXNjcmlwdGlvbiA9ICcnO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRiTW9kZWwpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRiTW9kZWw7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdldEVudGl0eU1vZGVsID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFbnRpdHkob2JqKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmdldEVudGl0eVR5cGVzID0gZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICByZXR1cm4gZW50aXR5VHlwZXM7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5nZXRJbmZsdWVuY2VUeXBlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmZsdWVuY2VUeXBlcztcbiAgICAgICAgfTtcblxuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5zZXJ2aWNlKCdlbnRpdHlTZXJ2aWNlJywgZW50aXR5U2VydmljZURlcGVuZGVuY2llcyk7XG5cblxufSkoYW5ndWxhcik7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDYvMjcvMTYuXG4gKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgZmluYW5jZVNlcnZpY2UgPSBbRmluYW5jZVNlcnZpY2VdO1xuXG4gICAgZnVuY3Rpb24gaXNEZWYobykge1xuICAgICAgICByZXR1cm4gbyAhPT0gdW5kZWZpbmVkICYmIG8gIT09IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gRmluYW5jZVNlcnZpY2UoKSB7XG4gICAgICAgIGZ1bmN0aW9uIEZpbmFuY2Uob2JqKSB7XG4gICAgICAgICAgICB2YXIgZGVmT2JqID0gaXNEZWYob2JqKSA/IG9iaiA6IHt9O1xuICAgICAgICAgICAgdGhpcy5hbW91bnQgPSAoaXNEZWYoZGVmT2JqLmFtb3VudCkgJiYgZGVmT2JqLmFtb3VudCA+PSAwID8gZGVmT2JqLmFtb3VudCA6IDApO1xuICAgICAgICAgICAgdGhpcy55ZWFyID0gKGlzRGVmKGRlZk9iai55ZWFyKSAmJiBkZWZPYmoueWVhciA+PSAxNzUwID8gZGVmT2JqLnllYXIgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuaWQgPSAoaXNEZWYoZGVmT2JqLmlkKSA/IGRlZk9iai5pZCA6IG51bGwpO1xuXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdldEZpbmFuY2VNb2RlbCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmluYW5jZShvYmopO1xuICAgICAgICB9O1xuICAgIH1cblxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLnNlcnZpY2UoJ2ZpbmFuY2VTZXJ2aWNlJywgZmluYW5jZVNlcnZpY2UpO1xuXG59KShhbmd1bGFyKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDYvMjcvMTYuXG4gKi9cblxuKGZ1bmN0aW9uKGFuZ3VsYXIpe1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGZ1bmRpbmdDb25uZWN0aW9uU2VydmljZURlcGVuZGVuY2llcyA9IFtGdW5kaW5nQ29ubmVjdGlvbnNdO1xuXG4gICAgZnVuY3Rpb24gaXNEZWYobykgeyByZXR1cm4gbyAhPT0gdW5kZWZpbmVkICYmIG8gIT09IG51bGw7IH1cblxuICAgIGZ1bmN0aW9uIEZ1bmRpbmdDb25uZWN0aW9ucygpIHtcbiAgICAgICAgZnVuY3Rpb24gRnVuZGluZ0Nvbm5lY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICB2YXIgb2JqSXNEZWYgPSBpc0RlZihvYmopO1xuICAgICAgICAgICAgdGhpcy5lbnRpdHkgPSAob2JqSXNEZWYgJiYgaXNEZWYob2JqLmVudGl0eSkgPyBvYmouZW50aXR5IDogJycpO1xuICAgICAgICAgICAgdGhpcy5hbW91bnQgPSAob2JqSXNEZWYgJiYgaXNEZWYob2JqLmFtb3VudCkgPyBvYmouYW1vdW50OiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMueWVhciA9IChvYmpJc0RlZiAmJiBpc0RlZihvYmoueWVhcikgPyBvYmoueWVhciA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5pZCA9IChvYmpJc0RlZiAmJiBpc0RlZihvYmouaWQpID8gb2JqLmlkIDogbnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdldEZ1bmRpbmdDb25uZWN0aW9uTW9kZWwgPSBmdW5jdGlvbihvYmope1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBGdW5kaW5nQ29ubmVjdGlvbihvYmopO1xuICAgICAgICB9O1xuXG5cblxuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5zZXJ2aWNlKCdmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2UnLCBmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2VEZXBlbmRlbmNpZXMpO1xuXG5cblxufSkoYW5ndWxhcik7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDYvMjcvMTYuXG4gKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgbG9jYXRpb25TZXJ2aWNlRGVwZW5kZW5jaWVzID0gW0xvY2F0aW9uU2VydmljZV07XG5cblxuXG4gICAgZnVuY3Rpb24gTG9jYXRpb25TZXJ2aWNlKCl7XG5cbiAgICAgICAgZnVuY3Rpb24gaXNEZWYobykge1xuICAgICAgICAgICAgcmV0dXJuIG8gIT09IHVuZGVmaW5lZCAmJiBvICE9PSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gTG9jYXRpb24ob2JqKSB7XG4gICAgICAgICAgICB2YXIgZGVmT2JqID0gaXNEZWYob2JqKSA/IG9iaiA6IHt9O1xuICAgICAgICAgICAgdGhpcy5hZGRyZXNzX2xpbmUgPSAoaXNEZWYoZGVmT2JqLmFkZHJlc3NfbGluZSkgPyBkZWZPYmouYWRkcmVzc19saW5lIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmxvY2FsaXR5ID0gKGlzRGVmKGRlZk9iai5sb2NhbGl0eSkgPyBkZWZPYmoubG9jYWxpdHkgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuZGlzdHJpY3QgPSAoaXNEZWYoZGVmT2JqLmRpc3RyaWN0KSA/IGRlZk9iai5kaXN0cmljdCA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5wb3N0YWxfY29kZSA9IChpc0RlZihkZWZPYmoucG9zdGFsX2NvZGUpID8gZGVmT2JqLnBvc3RhbF9jb2RlIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmNvdW50cnkgPSAoaXNEZWYoZGVmT2JqLmNvdW50cnkpID8gZGVmT2JqLmNvdW50cnkgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuY291bnRyeV9jb2RlID0gKGlzRGVmKGRlZk9iai5jb3VudHJ5X2NvZGUpID8gZGVmT2JqLmNvdW50cnlfY29kZSA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlcyA9IChpc0RlZihkZWZPYmouY29vcmRpbmF0ZXMpID8gZGVmT2JqLmNvb3JkaW5hdGVzIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmlkID0gKGlzRGVmKGRlZk9iai5pZCkgPyBkZWZPYmouaWQgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0dGVkQWRkcmVzcyA9IChpc0RlZih0aGlzLmFkZHJlc3NfbGluZSkgPyB0aGlzLmFkZHJlc3NfbGluZSArICAnICcgOiAnJylcbiAgICAgICAgICAgICAgICArIChpc0RlZih0aGlzLmxvY2FsaXR5KSA/IHRoaXMubG9jYWxpdHkgKyAnLCAnIDogJycpXG4gICAgICAgICAgICAgICAgKyAoaXNEZWYodGhpcy5jb3VudHJ5X2NvZGUpID8gdGhpcy5jb3VudHJ5X2NvZGUgKyAnICcgOiAnJylcbiAgICAgICAgICAgICAgICArIChpc0RlZih0aGlzLnBvc3RhbF9jb2RlKSA/IHRoaXMucG9zdGFsX2NvZGUgOiAnJyk7XG4gICAgICAgICAgICB0aGlzLmZvcm1hdHRlZEFkZHJlc3MgPSB0aGlzLmZvcm1hdHRlZEFkZHJlc3MudHJpbSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nZXRMb2NhdGlvbk1vZGVsID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IExvY2F0aW9uKG9iaik7XG4gICAgICAgIH07XG5cbiAgICB9XG5cblxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLnNlcnZpY2UoJ2xvY2F0aW9uU2VydmljZScsIGxvY2F0aW9uU2VydmljZURlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIpOyIsIihmdW5jdGlvbiAoYW5ndWxhciwgZDMsIEwpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgZGVwZW5kZW5jaWVzID0gW1xuICAgICAgICAnJHNjb3BlJyxcbiAgICAgICAgJyR0aW1lb3V0JyxcbiAgICAgICAgJ2xlYWZsZXREYXRhJyxcbiAgICAgICAgJ18nLFxuICAgICAgICAnJGZpbHRlcicsXG4gICAgICAgIG1hcEN0cmxcbiAgICBdO1xuXG4gICAgZnVuY3Rpb24gbWFwQ3RybCgkc2NvcGUsICR0aW1lb3V0LCBsZWFmbGV0RGF0YSwgXywgJGZpbHRlcikge1xuXG4gICAgICAgICRzY29wZS5vcHRpb25zID0ge1xuICAgICAgICAgICAgY2VudGVyICA6IHtcbiAgICAgICAgICAgICAgICBsYXQgOiAyMC4wMCxcbiAgICAgICAgICAgICAgICBsbmcgOiAtNDAuMDAsXG4gICAgICAgICAgICAgICAgem9vbTogM1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICAgICAgdGlsZUxheWVyICAgICAgICAgOiAnaHR0cHM6Ly9hcGkudGlsZXMubWFwYm94LmNvbS92NC9tYXBib3gubGlnaHQve3p9L3t4fS97eX0ucG5nP2FjY2Vzc190b2tlbj1way5leUoxSWpvaVpHRjJhV1JzY201MElpd2lZU0k2SWpBME0yUmtOek16WldKbU56RXpOR1l6TVRkaFlURXhZekF5Wm1VNFpURTFJbjAuVE5ZbEZ0YTJWSXRya240TDBaOUJKUScsXG4gICAgICAgICAgICAgICAgdGlsZUxheWVyT3B0aW9ucyAgOiB7XG4gICAgICAgICAgICAgICAgICAgIGRldGVjdFJldGluYTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcmV1c2VUaWxlcyAgOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgem9vbUNvbnRyb2wgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGlvbkNvbnRyb2w6IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNyZWF0ZVBpZUNoYXJ0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSAgID0gb3B0aW9ucy5kYXRhO1xuICAgICAgICAgICAgICAgIHZhciBwaWUgICAgPSBkMy5sYXlvdXQucGllKCkuc29ydChudWxsKS52YWx1ZShmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC52YWx1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgYXJjICAgID0gZDMuc3ZnLmFyYygpLm91dGVyUmFkaXVzKG9wdGlvbnMucikuaW5uZXJSYWRpdXMob3B0aW9ucy5yIC0gMTApO1xuICAgICAgICAgICAgICAgIHZhciBjZW50ZXIgPSBvcHRpb25zLnIgKyBvcHRpb25zLnN0cm9rZVdpZHRoO1xuICAgICAgICAgICAgICAgIHZhciB3ICAgICAgPSBjZW50ZXIgKiAyO1xuICAgICAgICAgICAgICAgIHZhciBoICAgICAgPSB3O1xuICAgICAgICAgICAgICAgIHZhciBzdmcgICAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZDMubnMucHJlZml4LnN2ZywgJ3N2ZycpO1xuICAgICAgICAgICAgICAgIHZhciB2aXMgICAgPSBkMy5zZWxlY3Qoc3ZnKVxuICAgICAgICAgICAgICAgICAgICAuZGF0YShkYXRhKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAncGllY2hhcnQnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignd2lkdGgnLCB3KVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgaCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgYXJjcyA9IHZpcy5zZWxlY3RBbGwoJy5hcmMnKVxuICAgICAgICAgICAgICAgICAgICAuZGF0YShwaWUoZGF0YSkpXG4gICAgICAgICAgICAgICAgICAgIC5lbnRlcigpLmFwcGVuZCgnZycpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdhcmMnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgY2VudGVyICsgJywnICsgY2VudGVyICsgJyknKTtcblxuICAgICAgICAgICAgICAgIC8vIHZhciBtYXAgPSBMLm1hcGJveC5tYXAoJ21hcCcsICdleGFtcGxlcy5tYXAtOWlqdWsyNHknLCB7XG4gICAgICAgICAgICAgICAgLy8gICAgIG1pblpvb206IDEsXG4gICAgICAgICAgICAgICAgLy8gICAgIG1heFpvb206IDJcbiAgICAgICAgICAgICAgICAvLyB9KS5zZXRWaWV3KFs0MCwgLTc0LjUwXSwgOSk7XG5cbiAgICAgICAgICAgICAgICBhcmNzLmFwcGVuZCgncGF0aCcpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdkJywgYXJjKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuZGF0YS50eXBlICsgJy1hcmMnO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGFyY3MuYXBwZW5kKFwic3ZnOnRleHRcIilcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuY291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieFwiLCAtNCAqIG9wdGlvbnMuY291bnQudG9TdHJpbmcoKS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiZHlcIiwgNSlcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImFyY1RleHRcIik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LlhNTFNlcmlhbGl6ZXIgPyAobmV3IHdpbmRvdy5YTUxTZXJpYWxpemVyKCkpLnNlcmlhbGl6ZVRvU3RyaW5nKHN2ZylcbiAgICAgICAgICAgICAgICAgICAgOiBzdmcueG1sID8gc3ZnLnhtbCA6ICcnO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlcmVkRW50aXRpZXMgPSAkZmlsdGVyKCdmaWx0ZXInKSgkc2NvcGUuZW50aXRpZXMsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVudGl0eS5jb2xsYWJvcmF0aW9ucy5sZW5ndGggPiA0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIG1hcC5pbnZhbGlkYXRlU2l6ZSgpO1xuXG4gICAgICAgICAgICAgICAgbmV3IEwuQ29udHJvbC5ab29tKHtwb3NpdGlvbjogJ3RvcHJpZ2h0J30pLmFkZFRvKG1hcCk7XG4gICAgICAgICAgICAgICAgTC5jb250cm9sLmxvY2F0ZShcbiAgICAgICAgICAgICAgICAgICAge3Bvc2l0aW9uOiAndG9wcmlnaHQnLCBzaG93UG9wdXA6IGZhbHNlLCBpY29uOiAnZmEgZmEtbG9jYXRpb24tYXJyb3cnfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLmFkZFRvKG1hcCk7XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjbHVzdGVySWNvbihjbHVzdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiAgICAgICA9IGNsdXN0ZXIuZ2V0QWxsQ2hpbGRNYXJrZXJzKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0b3RhbCAgICAgICAgICA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNsdXN0ZXJNYXJrZXJzID0gXy5wbHVjayhjaGlsZHJlbiwgJ29wdGlvbnMnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50cyAgICAgICAgID0gXy5tYXAoXy5jb3VudEJ5KGNsdXN0ZXJNYXJrZXJzLCAndHlwZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoY291bnQsIHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7J3R5cGUnOiB0eXBlLCAndmFsdWUnOiBjb3VudH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgciAgICAgICAgICAgICAgPSAyODtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0cm9rZVdpZHRoICAgID0gMTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGljb25EaW0gICAgICAgID0gKHIgKyBzdHJva2VXaWR0aCkgKiAyO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaHRtbCAgICAgICAgICAgPSBjcmVhdGVQaWVDaGFydChcbiAgICAgICAgICAgICAgICAgICAgICAgIHtkYXRhOiBjb3VudHMsIHI6IHIsIHN0cm9rZVdpZHRoOiBzdHJva2VXaWR0aCwgY291bnQ6IHRvdGFsfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTC5EaXZJY29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwgICAgIDogaHRtbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ21hcmtlci1jbHVzdGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplIDogbmV3IEwucG9pbnQoaWNvbkRpbSwgaWNvbkRpbSlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBtYXJrZXJJY29uICA9IHtcbiAgICAgICAgICAgICAgICAgICAgJ05vbi1Qcm9maXQnOiBMLmljb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVybCA6ICdpbWcvbWFya2VyLW5vbnByb2Yuc3ZnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbNjAsIDYwXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgJ0Zvci1Qcm9maXQnOiBMLmljb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVybCA6ICdpbWcvbWFya2VyLXByb2Yuc3ZnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbNjAsIDYwXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgJ0luZGl2aWR1YWwnOiBMLmljb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVybCA6ICdpbWcvbWFya2VyLWluZC5zdmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFs2MCwgNjBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAnR292ZXJubWVudCc6IEwuaWNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uVXJsIDogJ2ltZy9tYXJrZXItZ292LnN2ZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzYwLCA2MF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIG1hcmtlcnMgPSBMLm1hcmtlckNsdXN0ZXJHcm91cCh7XG5cbiAgICAgICAgICAgICAgICAgICAgc3BpZGVyZnlPbk1heFpvb206IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHNob3dDb3ZlcmFnZU9uSG92ZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpY29uQ3JlYXRlRnVuY3Rpb246IGNsdXN0ZXJJY29uLFxuICAgICAgICAgICAgICAgICAgICBtYXhDbHVzdGVyUmFkaXVzOiAzMCxcbiAgICAgICAgICAgICAgICAgICAgc3BpZGVyZnlEaXN0YW5jZU11bHRpcGxpZXI6IDEuM1xuICAgICAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBvdXRlckxvb3AoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGlubmVyTG9vcChsb2MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghXy5ldmVyeShsb2MuY29vcmRpbmF0ZXMpKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9jLmNvb3JkaW5hdGVzWzBdLnRvRml4ZWQoNSkgPT09ICc0MC43ODIwMCcgJiYgbG9jLmNvb3JkaW5hdGVzWzFdLnRvRml4ZWQoNSkgPT09ICctNzMuODMxNzAnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jLmNvb3JkaW5hdGVzWzBdID0gNDAuNzcwNjU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jLmNvb3JkaW5hdGVzWzFdID0gLTczLjk3NDA2O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG0gPSBMLm1hcmtlcihsb2MuY29vcmRpbmF0ZXMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBtYXJrZXJJY29uW2VudGl0eS50eXBlXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndGl0bGUnOiBlbnRpdHkubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZW50aXR5X2lkJzogZW50aXR5LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtZXNzYWdlJzogZW50aXR5Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiBlbnRpdHkudHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJzLmFkZExheWVyKG0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgXy5mb3JFYWNoKGVudGl0eS5sb2NhdGlvbnMsIGlubmVyTG9vcCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJPcmlnaW5hbDogJU9cIiwgJHNjb3BlLmVudGl0aWVzKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZpbHRlcmVkOiAlT1wiLCBmaWx0ZXJlZEVudGl0aWVzKTtcblxuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChmaWx0ZXJlZEVudGl0aWVzLCBvdXRlckxvb3ApO1xuICAgICAgICAgICAgICAgIG1hcC5hZGRMYXllcihtYXJrZXJzKTtcblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9uTG9jYXRpb25FcnJvcihsZWFmbGV0RXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihsZWFmbGV0RXJyb3IubWVzc2FnZSArIFwiICAlT1wiLCBsZWFmbGV0RXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG1hcC5vbignbG9jYXRpb25lcnJvcicsIG9uTG9jYXRpb25FcnJvcik7XG4gICAgICAgICAgICAgICAgLy8gbWFwLmxvY2F0ZSh7c2V0VmlldzogdHJ1ZSwgbWF4Wm9vbTogMTF9KTtcbiAgICAgICAgICAgICAgICBtYXJrZXJzLm9uKCdjbGljaycsIGZ1bmN0aW9uIChtYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNldEVudGl0eUlEKG1hcmtlci5sYXllci5vcHRpb25zLmVudGl0eV9pZCk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSA9ICRzY29wZS5jdXJyZW50RW50aXR5O1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkICAgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNldHRpbmdzRW5hYmxlZCAmJiAkc2NvcGUubW9iaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG9nZ2xlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBtYXAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkICAgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLiRvbignc2VsZWN0SXRlbScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvb3JkaW5hdGVzID0gJHNjb3BlLmN1cnJlbnRFbnRpdHkubG9jYXRpb25zLmxlbmd0aCA+IDAgPyBfLnBsdWNrKFxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRFbnRpdHkubG9jYXRpb25zLCAnY29vcmRpbmF0ZXMnKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb29yZGluYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAuc2V0Vmlldyhjb29yZGluYXRlc1swXSwgMTEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hY3Rpb25zLmludGVyYWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcblxuICAgICAgICAuY29udHJvbGxlcignbWFwQ3RybCcsIGRlcGVuZGVuY2llcyk7XG59KShhbmd1bGFyLCBkMywgTCk7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIsIFJUUCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IFtcbiAgICAgICAgJyRzY29wZScsXG4gICAgICAgICckaHR0cCcsXG4gICAgICAgICdfJyxcbiAgICAgICAgJyRmaWx0ZXInLFxuICAgICAgICAnY29uZmlnJyxcbiAgICAgICAgbmV0d29ya0N0cmxcbiAgICBdO1xuXG4gICAgZnVuY3Rpb24gaXNEZWYobykge1xuICAgICAgICByZXR1cm4gbyAhPT0gdW5kZWZpbmVkICYmIG8gIT09IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbmV0d29ya0N0cmwoJHNjb3BlLCAkaHR0cCwgXywgJGZpbHRlciwgY29uZmlnKSB7XG4gICAgICAgIC8vIFRPRE86IE1ha2UgYSBoYXNobWFwIG9uIHRoZSBiYWNrZW5kIG9mIGlkIC0+IHBvc2l0aW9uLCB0aGVuIHVzZSBzb3VyY2U6XG4gICAgICAgIC8vIGVudGl0aWVzW21hcFtzb3VyY2VpZF1dIHRvIGdldCBub2Rlcy4gU2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xLzE2ODI0MzA4XG4gICAgICAgICRzY29wZS5pc0xvYWRpbmcgICA9IHRydWU7XG4gICAgICAgICRzY29wZS5jb25uZWN0aW9ucyA9IHt9O1xuXG4gICAgICAgIC8vIFNlZSBodHRwczovL2NvZGVyd2FsbC5jb20vcC9uZ2lzbWEvc2FmZS1hcHBseS1pbi1hbmd1bGFyLWpzXG4gICAgICAgICRzY29wZS5zYWZlQXBwbHkgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgIHZhciBwaGFzZSA9IHRoaXMuJHJvb3QuJCRwaGFzZTtcbiAgICAgICAgICAgIGlmIChwaGFzZSA9PT0gJyRhcHBseScgfHwgcGhhc2UgPT09ICckZGlnZXN0Jykge1xuICAgICAgICAgICAgICAgIGlmIChmbiAmJiAodHlwZW9mKGZuKSA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuJGFwcGx5KGZuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuJG9uKCdlbnRpdGllc0xvYWRlZCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIHRhcmdldFNjb3BlID0gZXZlbnQudGFyZ2V0U2NvcGU7XG4gICAgICAgICAgICAkaHR0cC5nZXQoY29uZmlnLmFwaUhvc3QgKyAnYXBpL2Nvbm5lY3Rpb25zJykuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJlZEVudGl0aWVzICAgID0gJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmVudGl0aWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRpdHkuY29sbGFib3JhdGlvbnMubGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID49ICRzY29wZS5taW5Db25uZWN0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJlZENvbm5lY3Rpb25zID0ge307XG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKF8ua2V5cyhkYXRhLmNvbm5lY3Rpb25zKSwgZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gJHNjb3BlLmNvbm5lY3Rpb25zW3R5cGVdID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkQ29ubmVjdGlvbnNbdHlwZV0gPSBbXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfLmZvckVhY2goZGF0YS5jb25uZWN0aW9ucywgZnVuY3Rpb24gKGNvbm5lY3Rpb25zLCB0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaChjb25uZWN0aW9ucywgZnVuY3Rpb24gKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2VOb2RlID0gXy5maW5kKGZpbHRlcmVkRW50aXRpZXMsIHsnaWQnOiBjb25uZWN0aW9uLnNvdXJjZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldE5vZGUgPSBfLmZpbmQoZmlsdGVyZWRFbnRpdGllcywgeydpZCc6IGNvbm5lY3Rpb24udGFyZ2V0fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISggaXNEZWYoc291cmNlTm9kZSkgJiYgaXNEZWYodGFyZ2V0Tm9kZSkgKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRDb25uZWN0aW9uc1t0eXBlXS5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsnc291cmNlJzogc291cmNlTm9kZSwgJ3RhcmdldCc6IHRhcmdldE5vZGV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICRzY29wZS5jb25uZWN0aW9uc1t0eXBlXS5wdXNoKHsnc291cmNlJzogc291cmNlTm9kZSwgJ3RhcmdldCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0YXJnZXROb2RlfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgc2hvdyBsYWJlbHMgb24gdG9wIDUgbW9zdCBjb25uZWN0ZWQgZW50aXRpZXMgaW5pdGlhbGx5LlxuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChfLmtleXMoJHNjb3BlLmVudGl0eVR5cGVzKSwgZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgdG9wIDUgbW9zdC1jb25uZWN0ZWQgZW50aXRpZXMuXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b3A1ID0gXy50YWtlUmlnaHQoXy5zb3J0QnkoXy5maWx0ZXIoJHNjb3BlLmVudGl0aWVzLCB7J3R5cGUnOiB0eXBlfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbGxhYm9yYXRpb25zLmxlbmd0aCcpLCA1KTtcbiAgICAgICAgICAgICAgICAgICAgXy5mb3JFYWNoKHRvcDUsIGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS53ZWxsY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBmaWx0ZXJlZEVudGl0aWVzID0gXy5zb3J0QnkoZmlsdGVyZWRFbnRpdGllcywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChlLndlbGxjb25uZWN0ZWQpID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm1vYmlsZSkge1xuICAgICAgICAgICAgICAgICAgICBkcmF3TmV0d29ya01vYmlsZShmaWx0ZXJlZEVudGl0aWVzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkcmF3TmV0d29yayhmaWx0ZXJlZEVudGl0aWVzLCBmaWx0ZXJlZENvbm5lY3Rpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGRyYXdOZXR3b3JrTW9iaWxlID0gZnVuY3Rpb24gKGVudGl0eUFycmF5KSB7XG4gICAgICAgICAgICB2YXIgZGF0YSAgICAgICAgPSB7XG4gICAgICAgICAgICAgICAgbm9kZXM6ICRzY29wZS5lbnRpdGllcyxcbiAgICAgICAgICAgICAgICBsaW5rczogXy5mbGF0dGVuKF8udmFsdWVzKCRzY29wZS5jb25uZWN0aW9ucykpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGNvbG9ycyAgICAgID0ge1xuICAgICAgICAgICAgICAgICdHb3Zlcm5tZW50JyAgIDoge1xuICAgICAgICAgICAgICAgICAgICAnZm9jdXNlZCcgIDogJ3JnYmEoMjQyLCA4MCwgMzQsIDEpJyxcbiAgICAgICAgICAgICAgICAgICAgJ3VuZm9jdXNlZCc6ICdyZ2JhKDI0MiwgODAsIDM0LCAwLjEpJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ05vbi1Qcm9maXQnICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICdmb2N1c2VkJyAgOiAncmdiYSgzMCwgMTQ0LCAyNTUsIDEpJyxcbiAgICAgICAgICAgICAgICAgICAgJ3VuZm9jdXNlZCc6ICdyZ2JhKDMwLCAxNDQsIDI1NSwgMC4xKSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdGb3ItUHJvZml0JyAgIDoge1xuICAgICAgICAgICAgICAgICAgICAnZm9jdXNlZCcgIDogJ3JnYmEoMTI3LCAxODYsIDAsIDEpJyxcbiAgICAgICAgICAgICAgICAgICAgJ3VuZm9jdXNlZCc6ICdyZ2JhKDEyNywgMTg2LCAwLCAwLjEpJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ0luZGl2aWR1YWwnICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICdmb2N1c2VkJyAgOiAncmdiYSgyNTUsIDE3NSwgNDQsIDEpJyxcbiAgICAgICAgICAgICAgICAgICAgJ3VuZm9jdXNlZCc6ICdyZ2JhKDI1NSwgMTc1LCA0NCwgMC4xKSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdGdW5kaW5nJyAgICAgIDogeydmb2N1c2VkJzogJyNGRjc0NjAnLCAndW5mb2N1c2VkJzogJyNFM0RGRTQnfSxcbiAgICAgICAgICAgICAgICAnRGF0YScgICAgICAgICA6IHsnZm9jdXNlZCc6ICcjODRDMkZGJywgJ3VuZm9jdXNlZCc6ICcjRTNERkU0J30sXG4gICAgICAgICAgICAgICAgJ0VtcGxveW1lbnQnICAgOiB7J2ZvY3VzZWQnOiAnI0VFNzNGRicsICd1bmZvY3VzZWQnOiAnI0UzREZFNCd9LFxuICAgICAgICAgICAgICAgICdDb2xsYWJvcmF0aW9uJzogeydmb2N1c2VkJzogJyNGRkQ5NTUnLCAndW5mb2N1c2VkJzogJyNFM0RGRTQnfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBjYW52YXNGb3JjZSA9ICQoJyNjYW52YXMtZm9yY2UnKSxcbiAgICAgICAgICAgICAgICB3aWR0aCAgICAgICA9IGNhbnZhc0ZvcmNlLndpZHRoKCksXG4gICAgICAgICAgICAgICAgaGVpZ2h0ICAgICAgPSBjYW52YXNGb3JjZS5oZWlnaHQoKTtcblxuICAgICAgICAgICAgdmFyIG9mZnNldHMgICAgICAgID0ge1xuICAgICAgICAgICAgICAgICdHb3Zlcm5tZW50JzogWy05MCwgLTkwIC0gKGhlaWdodCAvIDcpXSxcbiAgICAgICAgICAgICAgICAnTm9uLVByb2ZpdCc6IFstOTAsIDkwIC0gKGhlaWdodCAvIDcpXSxcbiAgICAgICAgICAgICAgICAnRm9yLVByb2ZpdCc6IFs5MCwgLTkwIC0gKGhlaWdodCAvIDcpXSxcbiAgICAgICAgICAgICAgICAnSW5kaXZpZHVhbCc6IFs5MCwgOTAgLSAoaGVpZ2h0IC8gNyldXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGlzSW5zaWRlQ2lyY2xlID0gZnVuY3Rpb24gKHgsIHksIGN4LCBjeSwgcmFkaXVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGR4ID0geCAtIGN4LFxuICAgICAgICAgICAgICAgICAgICBkeSA9IHkgLSBjeTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHkgPD0gcmFkaXVzICogcmFkaXVzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBzY2FsZSAgICAgICAgICA9IHtcbiAgICAgICAgICAgICAgICAnZW1wbG95ZWVzJzogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUgPiAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubG9nKGUpIC8gMztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxLjU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdmb2xsb3dlcnMnOiBmdW5jdGlvbiAoZikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZiA+IDAgJiYgZiA8PSA1MDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxLjU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZiA+IDUwMCAmJiBmIDw9IDUwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxLjg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZiA+IDUwMDAgJiYgZiA8PSAxMDAwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZiA+IDEwMDAwICYmIGYgPD0gMjUwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAyLjU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZiA+IDI1MDAwICYmIGYgPD0gOTAwMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChmID4gOTAwMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gNTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGNhbnZhcyAgICAgICAgICAgID0gZDMuc2VsZWN0KCdkaXYjY2FudmFzLWZvcmNlJykuYXBwZW5kKCdjYW52YXMnKTtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ICAgICAgICAgICA9IGNhbnZhcy5ub2RlKCkuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgIHZhciBkZXZpY2VQaXhlbFJhdGlvICA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEsXG4gICAgICAgICAgICAgICAgYmFja2luZ1N0b3JlUmF0aW8gPSBjb250ZXh0LndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW96QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tc0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQub0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCAxLFxuICAgICAgICAgICAgICAgIHJhdGlvICAgICAgICAgICAgID0gZGV2aWNlUGl4ZWxSYXRpbyAvIGJhY2tpbmdTdG9yZVJhdGlvO1xuXG4gICAgICAgICAgICBjYW52YXNcbiAgICAgICAgICAgICAgICAuYXR0cignd2lkdGgnLCB3aWR0aCAqIHJhdGlvKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCBoZWlnaHQgKiByYXRpbylcbiAgICAgICAgICAgICAgICAuYXR0cignaWQnLCAnbmV0d29ya0NhbnZhcycpO1xuXG4gICAgICAgICAgICB2YXIgY2FudmFzRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV0d29ya0NhbnZhcycpO1xuXG4gICAgICAgICAgICBjYW52YXNFbC5zdHlsZS53aWR0aCAgPSB3aWR0aCArICdweCc7XG4gICAgICAgICAgICBjYW52YXNFbC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnO1xuICAgICAgICAgICAgY29udGV4dC5zY2FsZShyYXRpbywgcmF0aW8pO1xuICAgICAgICAgICAgJHNjb3BlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBzY2FsZXpvb20gID0gMTtcbiAgICAgICAgICAgICQoJyNuZXR3b3JrQ2FudmFzJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgb1ggICAgICAgICAgICAgICAgICAgICAgPSBlLm9mZnNldFggLyBzY2FsZXpvb20sXG4gICAgICAgICAgICAgICAgICAgIG9ZICAgICAgICAgICAgICAgICAgICAgID0gZS5vZmZzZXRZIC8gc2NhbGV6b29tO1xuICAgICAgICAgICAgICAgICRzY29wZS5zaG93TGljZW5zZSAgICAgICAgICA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIGVudGl0eUZvdW5kICAgICAgICAgICAgID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZGF0YS5ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrID0gc2NhbGVbJHNjb3BlLnNpemVCeV0oZFskc2NvcGUuc2l6ZUJ5XSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0luc2lkZUNpcmNsZShvWCwgb1ksIGQueCArIG9mZnNldHNbZC50eXBlXVswXSwgZC55ICsgb2Zmc2V0c1tkLnR5cGVdWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNC41ICogaykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5oeWRlUGFydGlhbHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnc2V0Q3VycmVudEVudGl0eScsIHt2YWx1ZTogZH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5Rm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNldEVudGl0eShkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSA9IGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1cyhkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghZW50aXR5Rm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdzZXRDdXJyZW50TG9jYXRpb24nLCB7dmFsdWU6IG51bGx9KTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdzZXRDdXJyZW50RW50aXR5Jywge3ZhbHVlOiBudWxsfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRpY2soKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XG4gICAgICAgICAgICAgICAgJChcIiNkZXRhaWxzLXBhbmVsXCIpLnNjcm9sbFRvcCgwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGNvdW50ICAgICAgID0gMDtcbiAgICAgICAgICAgIHZhciBpbml0aWFsTG9hZCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgZHJhd09uVG9wICAgPSBbXTtcbiAgICAgICAgICAgIHZhciBhbGxOb2RlcyAgICA9IFtdO1xuICAgICAgICAgICAgdmFyIHNob3dFbnRpdGllcztcbiAgICAgICAgICAgIGRhdGEubm9kZXMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgIGlmIChpc0RlZihlbnRpdHlBcnJheVtkLnR5cGVdKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmN1cnJlbnRMb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQubmFtZSBpbiAkc2NvcGUuY3VycmVudExvY2F0aW9uLmRpY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3T25Ub3AucHVzaChkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghJHNjb3BlLmN1cnJlbnRFbnRpdHkgfHwgc2hvd0VudGl0aWVzW2QuaWRdIHx8IGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID09PSAkc2NvcGUuY3VycmVudEVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jdXJyZW50RW50aXR5IHx8IGQud2VsbGNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdPblRvcC5wdXNoKGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxOb2Rlcy5wdXNoKGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGFsbE5vZGVzICA9IGFsbE5vZGVzLmNvbmNhdChkcmF3T25Ub3ApO1xuICAgICAgICAgICAgdmFyIHRpY2sgID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHBpbmNoWm9vbTtcblxuICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID4gNzAgJiYgaW5pdGlhbExvYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbExvYWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yY2Uuc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICBwaW5jaFpvb20gPSBuZXcgUlRQLlBpbmNoWm9vbSgkKCcjbmV0d29ya0NhbnZhcycpLCB7fSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIHNob3dFbnRpdGllcyAgICAgICAgPSB7fTtcbiAgICAgICAgICAgICAgICAvLyBEcmF3IGxpbmtzLlxuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnI2NjYyc7XG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKCRzY29wZS5jb25uZWN0aW9ucywgZnVuY3Rpb24gKGNvbm5lY3Rpb25zLCB0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc0NvblR5cGVEZWZpbmVkICAgICAgICAgID0gaXNEZWYoJHNjb3BlLmNvbm5lY3Rpb25UeXBlc1t0eXBlXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNFbnRpdHlUYXJnZXRUeXBlRGVmaW5lZCA9IGlzRGVmKCRzY29wZS5lbnRpdHlUeXBlc1tkLnRhcmdldC50eXBlXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNFbnRpdHlTb3VyY2VUeXBlRGVmaW5lZCA9IGlzRGVmKCRzY29wZS5lbnRpdHlUeXBlc1tkLnNvdXJjZS50eXBlXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoaXNDb25UeXBlRGVmaW5lZCAmJiBpc0VudGl0eVRhcmdldFR5cGVEZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBpc0VudGl0eVNvdXJjZVR5cGVEZWZpbmVkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRGVmKCRzY29wZS5jdXJyZW50TG9jYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQuc291cmNlLm5hbWUgaW4gJHNjb3BlLmN1cnJlbnRMb2NhdGlvbi5kaWN0ICYmIGQudGFyZ2V0Lm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW4gJHNjb3BlLmN1cnJlbnRMb2NhdGlvbi5kaWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIE1vZGlmaWNhdGlvbiAtIEJvdW5kYXJpZXMgICAgICB2YXIgayA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNjYWxlWyRzY29wZS5zaXplQnldKGRbJHNjb3BlLnNpemVCeV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrID0gc2NhbGVbJHNjb3BlLnNpemVCeV0oKGQuc291cmNlKVskc2NvcGUuc2l6ZUJ5XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKE1hdGgubWF4KDQuNSAqIGssIE1hdGgubWluKHdpZHRoIC0gNC41ICogayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5zb3VyY2UueFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIG9mZnNldHNbZC5zb3VyY2UudHlwZV1bMF0pKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoNC41ICogaywgTWF0aC5taW4oaGVpZ2h0IC0gNC41ICogayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5zb3VyY2UueVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIG9mZnNldHNbZC5zb3VyY2UudHlwZV1bMV0pKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKE1hdGgubWF4KDQuNSAqIGssIE1hdGgubWluKHdpZHRoIC0gNC41ICogayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC50YXJnZXQueFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIG9mZnNldHNbZC50YXJnZXQudHlwZV1bMF0pKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoNC41ICogaywgTWF0aC5taW4oaGVpZ2h0IC0gNC41ICogayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC50YXJnZXQueVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIG9mZnNldHNbZC50YXJnZXQudHlwZV1bMV0pKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGNvbG9yc1t0eXBlXVsnZm9jdXNlZCddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNEZWYoJHNjb3BlLmN1cnJlbnRFbnRpdHkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGQuc291cmNlID09PSAkc2NvcGUuY3VycmVudEVudGl0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBkLnRhcmdldCA9PT0gJHNjb3BlLmN1cnJlbnRFbnRpdHkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBNb2RpZmljYXRpb24gLSBCb3VuZGFyaWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGsgPSBzY2FsZVskc2NvcGUuc2l6ZUJ5XSgoZC5zb3VyY2UpWyRzY29wZS5zaXplQnldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oTWF0aC5tYXgoNC41ICogaywgTWF0aC5taW4od2lkdGggLSA0LjUgKiBrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnNvdXJjZS54XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgb2Zmc2V0c1tkLnNvdXJjZS50eXBlXVswXSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCg0LjUgKiBrLCBNYXRoLm1pbihoZWlnaHQgLSA0LjUgKiBrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnNvdXJjZS55XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgb2Zmc2V0c1tkLnNvdXJjZS50eXBlXVsxXSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oTWF0aC5tYXgoNC41ICogaywgTWF0aC5taW4od2lkdGggLSA0LjUgKiBrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnRhcmdldC54XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgb2Zmc2V0c1tkLnRhcmdldC50eXBlXVswXSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCg0LjUgKiBrLCBNYXRoLm1pbihoZWlnaHQgLSA0LjUgKiBrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnRhcmdldC55XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgb2Zmc2V0c1tkLnRhcmdldC50eXBlXVsxXSkpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gY29sb3JzW3R5cGVdWydmb2N1c2VkJ107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFbnRpdGllc1tkLnNvdXJjZS5pZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93RW50aXRpZXNbZC50YXJnZXQuaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBlbnRpdHlOYW1lcyA9IFtdO1xuICAgICAgICAgICAgICAgIGFsbE5vZGVzLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5lbnRpdHlUeXBlc1tkLnR5cGVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm9jdXM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY3VycmVudExvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQubmFtZSBpbiAkc2NvcGUuY3VycmVudExvY2F0aW9uLmRpY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXMgICAgICAgICAgICAgICA9ICdmb2N1c2VkJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eU5hbWVzLnB1c2goZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzICAgICAgICAgICAgICAgPSAndW5mb2N1c2VkJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISRzY29wZS5jdXJyZW50RW50aXR5IHx8IHNob3dFbnRpdGllc1tkLmlkXSB8fCBkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPT09ICRzY29wZS5jdXJyZW50RW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzICAgICAgICAgICAgICAgPSAnZm9jdXNlZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmN1cnJlbnRFbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eU5hbWVzLnB1c2goZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZC53ZWxsY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5TmFtZXMucHVzaChkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXMgICAgICAgICAgICAgICA9ICd1bmZvY3VzZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrID0gc2NhbGVbJHNjb3BlLnNpemVCeV0oZFskc2NvcGUuc2l6ZUJ5XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBjb2xvcnNbZC50eXBlXVtmb2N1c107XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCg0LjUgKiBrLCBNYXRoLm1pbih3aWR0aCAtIDQuNSAqIGssIGQueCArIG9mZnNldHNbZC50eXBlXVswXSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KDQuNSAqIGssIE1hdGgubWluKGhlaWdodCAtIDQuNSAqIGssIGQueSArIG9mZnNldHNbZC50eXBlXVsxXSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQuNSAqIGssIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfLmZvckVhY2goZW50aXR5TmFtZXMsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrICAgICAgICAgICAgICAgPSBzY2FsZVskc2NvcGUuc2l6ZUJ5XShkWyRzY29wZS5zaXplQnldKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICcjMzMzMzMzJztcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgICAgICAgICAgICA9IGQubmlja25hbWUgPyBkLm5pY2tuYW1lIDogZC5uYW1lO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZvbnQgICAgICAgID1cbiAgICAgICAgICAgICAgICAgICAgICAgICdsaWdodGVyIDExcHggU2Vnb2UgVUksIEhlbHZldGljYU5ldWUtTGlnaHQsIHNhbnMtc2VyaWYtbGlnaHQsIHNhbnMtc2VyaWYnO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVRleHQobmFtZSwgTWF0aC5tYXgoNC41ICogaywgTWF0aC5taW4od2lkdGggLSA0LjUgKiBrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC54ICsgb2Zmc2V0c1tkLnR5cGVdWzBdKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gbmFtZS5sZW5ndGggKiAyLCBNYXRoLm1heCg0LjUgKiBrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKGhlaWdodCAtIDQuNSAqIGssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC55ICsgb2Zmc2V0c1tkLnR5cGVdWzFdKSkgKyAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGZvcmNlID0gZDMubGF5b3V0LmZvcmNlKClcbiAgICAgICAgICAgICAgICAuc2l6ZShbd2lkdGgsIGhlaWdodF0pXG4gICAgICAgICAgICAgICAgLm5vZGVzKGRhdGEubm9kZXMpXG4gICAgICAgICAgICAgICAgLmxpbmtzKGRhdGEubGlua3MpXG4gICAgICAgICAgICAgICAgLm9uKFwidGlja1wiLCB0aWNrKVxuICAgICAgICAgICAgICAgIC5jaGFyZ2UoLTIpXG4gICAgICAgICAgICAgICAgLmxpbmtTdHJlbmd0aCgwLjEpXG4gICAgICAgICAgICAgICAgLmxpbmtEaXN0YW5jZSg1MClcbiAgICAgICAgICAgICAgICAuc3RhcnQoKTtcblxuICAgICAgICAgICAgJHNjb3BlLiRvbigndG9nZ2xlTm9kZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aWNrKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICRzY29wZS4kb24oJ3RvZ2dsZUxpbmsnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGljaygpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCduZXR3b3JrIGZvdW5kJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICRzY29wZS4kb24oJ2NoYW5nZVNpemVCeScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aWNrKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICRzY29wZS4kb24oJ3NlbGVjdEl0ZW0nLCBmdW5jdGlvbiAoZXZlbnQsIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbG9jYXRpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkTG9jYXRpb24ubG9jYXRpb24gPSAkc2NvcGUuY3VycmVudExvY2F0aW9uO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ3NldEN1cnJlbnRFbnRpdHknLCB7dmFsdWU6IG51bGx9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSA9ICRzY29wZS5jdXJyZW50RW50aXR5O1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ3NldEN1cnJlbnRMb2NhdGlvbicsIHt2YWx1ZTogbnVsbH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XG4gICAgICAgICAgICAgICAgdGljaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGRyYXdOZXR3b3JrID0gZnVuY3Rpb24gKGVudGl0eUFycmF5LCBjb25uZWN0aW9uQXJyYXkpIHtcbiAgICAgICAgICAgICRzY29wZS5pc0xvYWRpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgdmFyIHN2ZyA9IGQzLnNlbGVjdCgnI25ldHdvcmsnKTtcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuICAgICAgICAgICAgdmFyIGJvdW5kcyAgICAgICAgICAgPSBzdmcubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgdmFyIGhlaWdodCAgICAgICAgICAgPSBib3VuZHMuaGVpZ2h0O1xuICAgICAgICAgICAgdmFyIHdpZHRoICAgICAgICAgICAgPSBib3VuZHMud2lkdGg7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0U2NhbGUgICAgICA9IDY7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdE5vZGVTaXplICA9IDc7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0cyAgICAgICAgICA9IHtcbiAgICAgICAgICAgICAgICAnSW5kaXZpZHVhbCc6IHsneCc6IDEsICd5JzogMX0sXG4gICAgICAgICAgICAgICAgJ0Zvci1Qcm9maXQnOiB7J3gnOiAxLCAneSc6IC0xfSxcbiAgICAgICAgICAgICAgICAnTm9uLVByb2ZpdCc6IHsneCc6IC0xLCAneSc6IDF9LFxuICAgICAgICAgICAgICAgICdHb3Zlcm5tZW50Jzogeyd4JzogLTEsICd5JzogLTF9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGxvd2VyQm91bmRSYWRpdXMgPSAxMDtcbiAgICAgICAgICAgIHZhciB1cHBlckJvdW5kUmFkaXVzID0gNTA7XG4gICAgICAgICAgICB2YXIgbWF4RW1wbG95ZWVzICAgICA9IGQzLm1heChlbnRpdHlBcnJheSwgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGVsLmVtcGxveWVlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBtYXhGb2xsb3dlcnMgICAgID0gZDMubWF4KGVudGl0eUFycmF5LCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoZWwuZm9sbG93ZXJzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHNjYWxlICAgICAgICAgICAgPSB7XG4gICAgICAgICAgICAgICAgJ2VtcGxveWVlcyc6IGQzLnNjYWxlLnNxcnQoKS5kb21haW4oWzEwLCBtYXhFbXBsb3llZXNdKVxuICAgICAgICAgICAgICAgICAgICAucmFuZ2UoW2xvd2VyQm91bmRSYWRpdXMsIHVwcGVyQm91bmRSYWRpdXNdKSxcbiAgICAgICAgICAgICAgICAnZm9sbG93ZXJzJzogZDMuc2NhbGUuc3FydCgpLmRvbWFpbihbMTAsIG1heEZvbGxvd2Vyc10pXG4gICAgICAgICAgICAgICAgICAgIC5yYW5nZShbbG93ZXJCb3VuZFJhZGl1cywgdXBwZXJCb3VuZFJhZGl1c10pXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGxpbmtzICAgICAgICAgICAgPSB7fTtcbiAgICAgICAgICAgIHZhciBmb3JjZSAgICAgICAgICAgID0gZDMubGF5b3V0LmZvcmNlKClcbiAgICAgICAgICAgICAgICAuc2l6ZShbd2lkdGgsIGhlaWdodF0pXG4gICAgICAgICAgICAgICAgLm5vZGVzKGVudGl0eUFycmF5KVxuICAgICAgICAgICAgICAgIC5saW5rcyhfLmZsYXR0ZW4oXy52YWx1ZXMoY29ubmVjdGlvbkFycmF5KSkpXG4gICAgICAgICAgICAgICAgLmNoYXJnZShmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5lbXBsb3llZXMgPyAtMiAqIHNjYWxlLmVtcGxveWVlcyhkLmVtcGxveWVlcykgOiAtMjA7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAubGlua1N0cmVuZ3RoKDApXG4gICAgICAgICAgICAgICAgLmxpbmtEaXN0YW5jZSg1MCk7XG5cbiAgICAgICAgICAgIF8uZm9yRWFjaChjb25uZWN0aW9uQXJyYXksIGZ1bmN0aW9uIChjb25uZWN0aW9ucywgdHlwZSkge1xuICAgICAgICAgICAgICAgIGxpbmtzW3R5cGVdID0gc3ZnLnNlbGVjdEFsbCgnLmxpbmsgLicgKyB0eXBlICsgJy1saW5rJylcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEoY29ubmVjdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgIC5lbnRlcigpLmFwcGVuZCgnbGluZScpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRGVmKGQuc291cmNlKSB8fCAhaXNEZWYoZC50YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkLnR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdsaW5rICcgKyB0eXBlICsgJy1saW5rICcgKyBkLnNvdXJjZS50eXBlICsgJy1saW5rICcgKyBkLnRhcmdldC50eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAnLWxpbmsnO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgbm9kZSA9IHN2Zy5zZWxlY3RBbGwoJy5ub2RlJylcbiAgICAgICAgICAgICAgICAuZGF0YShlbnRpdHlBcnJheSlcbiAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbm9kZSAnICsgZC50eXBlICsgJy1ub2RlJztcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYWxsKGZvcmNlLmRyYWcpO1xuXG4gICAgICAgICAgICBub2RlLmFwcGVuZCgnY2lyY2xlJylcbiAgICAgICAgICAgICAgICAuYXR0cigncicsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmVtcGxveWVlcyA/IHNjYWxlWydlbXBsb3llZXMnXShkLmVtcGxveWVlcykgOiBkZWZhdWx0Tm9kZVNpemU7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG5vZGUuYXBwZW5kKCd0ZXh0JylcbiAgICAgICAgICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5uaWNrbmFtZSA/IGQubmlja25hbWUgOiBkLm5hbWU7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYXR0cignZHgnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoLTAuMDY1ICogdGhpcy5nZXRDb21wdXRlZFRleHRMZW5ndGgoKSAvIDIpICsgJ2VtJztcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5hdHRyKCdkeScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgwLjA4ICogdGhpcy5wYXJlbnROb2RlLmdldEJCb3goKS5oZWlnaHQgLyAyICsgMC41KSArICdlbSc7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZvcmNlLm9uKCd0aWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBDbHVzdGVyIGluIGZvdXIgY29ybmVycyBiYXNlZCBvbiBvZmZzZXQuXG4gICAgICAgICAgICAgICAgdmFyIGsgPSBvZmZzZXRTY2FsZSAqIGUuYWxwaGE7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZS5hbHBoYSlcbiAgICAgICAgICAgICAgICBfLmZvckVhY2goZW50aXR5QXJyYXksIGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVudGl0eS54ICYmIG9mZnNldHNbZW50aXR5LnR5cGVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkueCArPSBvZmZzZXRzW2VudGl0eS50eXBlXS54ICogaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS55ICs9IG9mZnNldHNbZW50aXR5LnR5cGVdLnkgKiBrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LnggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KHVwcGVyQm91bmRSYWRpdXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4od2lkdGggLSB1cHBlckJvdW5kUmFkaXVzLCBlbnRpdHkueCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LnkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KHVwcGVyQm91bmRSYWRpdXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4oaGVpZ2h0IC0gdXBwZXJCb3VuZFJhZGl1cywgZW50aXR5LnkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGxpbmtzLCBmdW5jdGlvbiAobGluaykge1xuICAgICAgICAgICAgICAgICAgICBsaW5rXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnNvdXJjZS54O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuc291cmNlLnk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC50YXJnZXQueDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnRhcmdldC55O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbm9kZS5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgZC54ICsgJywnICsgZC55ICsgJyknO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgc3BlZWRBbmltYXRlID0gZnVuY3Rpb24gKHRpY2tzKSB7XG4gICAgICAgICAgICAgICAgLy8gU3BlZWQgdXAgdGhlIGluaXRpYWwgYW5pbWF0aW9uLlxuICAgICAgICAgICAgICAgIC8vIFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjE4OTExMFxuICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGlja3M7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2UudGljaygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3JjZS5hbHBoYSgpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoISRzY29wZS5tb2JpbGUpIHtcbiAgICAgICAgICAgICAgICBzcGVlZEFuaW1hdGUoNyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3JjZS5zdGFydCgpO1xuXG4gICAgICAgICAgICAvLyBIYXNoIGxpbmtlZCBuZWlnaGJvcnMgZm9yIGVhc3kgaG92ZXJpbmcgZWZmZWN0cy5cbiAgICAgICAgICAgIC8vIFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS84NzgwMjc3XG4gICAgICAgICAgICB2YXIgbGlua2VkQnlJbmRleCA9IHt9O1xuICAgICAgICAgICAgXy5mb3JFYWNoKGxpbmtzLCBmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChsWzBdLCBmdW5jdGlvbiAoY29ubmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSBjb25uZWN0aW9uLl9fZGF0YV9fLnNvdXJjZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gY29ubmVjdGlvbi5fX2RhdGFfXy50YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgIGxpbmtlZEJ5SW5kZXhbc291cmNlLmluZGV4ICsgJywnICsgdGFyZ2V0LmluZGV4XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGxpbmtlZEJ5SW5kZXhbdGFyZ2V0LmluZGV4ICsgJywnICsgc291cmNlLmluZGV4XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIG5laWdoYm9yaW5nID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlua2VkQnlJbmRleFthLmluZGV4ICsgJywnICsgYi5pbmRleF0gfHwgYS5pbmRleCA9PT0gYi5pbmRleDtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBmb2N1c25laWdoYm9ycyA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAvLyBBcHBseSAndW5mb2N1c2VkJyBjbGFzcyB0byBhbGwgbm9uLW5laWdoYm9ycy5cbiAgICAgICAgICAgICAgICAvLyBBcHBseSAnZm9jdXNlZCcgY2xhc3MgdG8gYWxsIG5laWdoYm9ycy5cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBTZWUgaWYgaXQgY2FuIGJlIGRvbmUgd2l0aCBqdXN0IG9uZSBjbGFzcyBhbmQgOm5vdCguZm9jdXNlZCkgQ1NTIHNlbGVjdG9ycy5cbiAgICAgICAgICAgICAgICBub2RlXG4gICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdmb2N1c2VkJywgZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZWlnaGJvcmluZyhlbnRpdHksIG4pO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhbmVpZ2hib3JpbmcoZW50aXR5LCBuKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBfLmZvckVhY2gobGlua3MsIGZ1bmN0aW9uIChsaW5rKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdmb2N1c2VkJywgZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW50aXR5LmluZGV4ID09PSBvLnNvdXJjZS5pbmRleCB8fCBlbnRpdHkuaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9PT0gby50YXJnZXQuaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ3VuZm9jdXNlZCcsIGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEoZW50aXR5LmluZGV4ID09PSBvLnNvdXJjZS5pbmRleCB8fCBlbnRpdHkuaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID09PSBvLnRhcmdldC5pbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBmb2N1cyA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmN1cnJlbnRFbnRpdHkgIT09IGVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2V0RW50aXR5KGVudGl0eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcbiAgICAgICAgICAgICAgICBmb2N1c25laWdoYm9ycyhlbnRpdHkpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIHVuZm9jdXMgICAgICAgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgLy92YXIgdHJhbnNpdGlvbmRlbGF5ID0gNzU7XG4gICAgICAgICAgICAgICAgbm9kZVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgnZm9jdXNlZCcsIGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChsaW5rcywgZnVuY3Rpb24gKGxpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgbGlua1xuICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2ZvY3VzZWQnLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCd1bmZvY3VzZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZW50aXR5LmZpeGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gUmVzdGFydCBkMyBhbmltYXRpb25zLlxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yY2UucmVzdW1lKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vVE9ETzogU2hvdyBnZW5lcmljIGRldGFpbHMgYW5kIG5vdCBpbmRpdmlkdWFsIGVudGl0eSBkZXRhaWxzP1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBob3ZlclRpbWVyO1xuICAgICAgICAgICAgdmFyIGhvdmVyICAgICAgICAgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgJiYgISRzY29wZS5lZGl0aW5nICYmICEkc2NvcGUuY3VycmVudExvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvdmVyVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRzY29wZS5hY3Rpb25zLmludGVyYWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgdW5ob3ZlciAgICAgICA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICBpZiAoISRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSAmJiAhJHNjb3BlLmN1cnJlbnRMb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB1bmZvY3VzKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChob3ZlclRpbWVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBmb2N1c0xvY2F0aW9uID0gZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gIElmIHRoZSBjdXJyZW50IGVudGl0eSBpcyBzaG93biBhbmQgaXQgZG9lc24ndCBtYXRjaCB0aGUgY2xpY2tlZCBub2RlLCB0aGVuIHNldFxuICAgICAgICAgICAgICAgIC8vIHRoZSBuZXcgbm9kZSB0byBjbGlja2VkLlxuICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcblxuICAgICAgICAgICAgICAgIG5vZGUuY2xhc3NlZCgnZm9jdXNlZCcsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbi5uYW1lIGluIGxvY2F0aW9uLmRpY3Q7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCd1bmZvY3VzZWQnLCBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEobi5uYW1lIGluIGxvY2F0aW9uLmRpY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChsaW5rcywgZnVuY3Rpb24gKGxpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgbGlua1xuICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2ZvY3VzZWQnLCBmdW5jdGlvbiAobykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoby5zb3VyY2UubmFtZSBpbiBsb2NhdGlvbi5kaWN0ICYmIG8udGFyZ2V0Lm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiBsb2NhdGlvbi5kaWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIShvLnNvdXJjZS5uYW1lIGluIGxvY2F0aW9uLmRpY3QpIHx8ICEoby50YXJnZXQubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiBsb2NhdGlvbi5kaWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIHVuZm9jdXNMb2NhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBub2RlXG4gICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdmb2N1c2VkJywgZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCd1bmZvY3VzZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGxpbmtzLCBmdW5jdGlvbiAobGluaykge1xuICAgICAgICAgICAgICAgICAgICBsaW5rXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgnZm9jdXNlZCcsIGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ3VuZm9jdXNlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcmNlLnJlc3VtZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBoaWdobGlnaHRMb2NhdGlvbiA9IGZ1bmN0aW9uIChsb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICRzY29wZS5zaG93TGljZW5zZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdW5mb2N1cygkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbiAhPT0gbG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdW5mb2N1c0xvY2F0aW9uKCRzY29wZS5jbGlja2VkTG9jYXRpb24ubG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICAgICAgICAgIGZvY3VzTG9jYXRpb24obG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZDMuZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZDMuZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRzY29wZS5hY3Rpb25zLmludGVyYWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgY2xpY2sgICAgICAgICAgICAgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dMaWNlbnNlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNEZWYoJHNjb3BlLmNsaWNrZWRMb2NhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRGVmKCRzY29wZS5jbGlja2VkTG9jYXRpb24ubG9jYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1bmZvY3VzTG9jYXRpb24oJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5lbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gIElmIHRoZSBwcmV2aW91cyBub2RlIGlzIGVxdWFsIHRvIHRoZSBuZXcgbm9kZSwgZG8gbm90aGluZy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSA9PT0gZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gIFVuZm9jdXMgb24gcHJldmlvdXMgbm9kZSBhbmQgZm9jdXMgb24gbmV3IG5vZGUuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5mb2N1cygkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gZW50aXR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXMoZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFN0b3AgZXZlbnQgc28gd2UgZG9uJ3QgZGV0ZWN0IGEgY2xpY2sgb24gdGhlIGJhY2tncm91bmQuXG4gICAgICAgICAgICAgICAgLy8gU2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xLzIyOTQxNzk2XG4gICAgICAgICAgICAgICAgaWYgKGQzLmV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGQzLmV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgYmFja2dyb3VuZGNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChpc0RlZigkc2NvcGUuY2xpY2tlZExvY2F0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNEZWYoJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZm9jdXMoJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNEZWYoJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5mb2N1cygkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XG4gICAgICAgICAgICAgICAgLy9UT0RPOiBTaG93IGdlbmVyaWMgZGV0YWlscyBhbmQgbm90IGluZGl2aWR1YWwgZW50aXR5IGRldGFpbHMuXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGRibGNsaWNrICAgICAgICA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWVudGl0eS5maXhlZCkge1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkueCAgICAgICAgICAgICAgICAgICAgPSB3aWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS55ICAgICAgICAgICAgICAgICAgICA9IGhlaWdodCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5weCAgICAgICAgICAgICAgICAgICA9IHdpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LnB5ICAgICAgICAgICAgICAgICAgID0gaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LmZpeGVkICAgICAgICAgICAgICAgID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gZW50aXR5O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHVuZm9jdXMoZW50aXR5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgbm9kZS5vbignbW91c2VvdmVyJywgaG92ZXIpO1xuICAgICAgICAgICAgbm9kZS5vbignbW91c2VvdXQnLCB1bmhvdmVyKTtcbiAgICAgICAgICAgIG5vZGUub24oJ2NsaWNrJywgY2xpY2spO1xuICAgICAgICAgICAgbm9kZS5vbignZGJsY2xpY2snLCBkYmxjbGljayk7XG4gICAgICAgICAgICBzdmcub24oJ2NsaWNrJywgYmFja2dyb3VuZGNsaWNrKTtcblxuICAgICAgICAgICAgbm9kZVxuICAgICAgICAgICAgICAgIC5jbGFzc2VkKCd3ZWxsY29ubmVjdGVkJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuaGFzT3duUHJvcGVydHkoJ3dlbGxjb25uZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHNjb3BlLiRvbignY2hhbmdlU2l6ZUJ5JywgZnVuY3Rpb24gKGV2ZW50LCBzaXplQnkpIHtcbiAgICAgICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCdjaXJjbGUnKVxuICAgICAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbigyNTApXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdyJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkW3NpemVCeV0gPyBzY2FsZVtzaXplQnldKGRbc2l6ZUJ5XSkgOiBkZWZhdWx0Tm9kZVNpemU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkc2NvcGUuJG9uKCd0b2dnbGVMaW5rJywgZnVuY3Rpb24gKGV2ZW50LCBsaW5rKSB7XG4gICAgICAgICAgICAgICAgLy8gbGlua3NbbGluay5uYW1lXVxuICAgICAgICAgICAgICAgIC8vIC5jbGFzc2VkKHsndmlzaWJsZSc6IGxpbmsuZW5hYmxlZCwgJ2hpZGRlbic6ICFsaW5rLmVuYWJsZWR9KTtcbiAgICAgICAgICAgICAgICBfLm1hcCgkc2NvcGUuZW50aXR5VHlwZXMsIGZ1bmN0aW9uICh2YWwsIGtleSkge1xuICAgICAgICAgICAgICAgICAgICBzdmdcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZWxlY3RBbGwoJy4nICsga2V5ICsgJy1saW5rJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmlzaWJsZSc6IGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbm5lY3Rpb25UeXBlIGVuYWJsZWQsIGNvbm5lY3Rpb24gc291cmNlIGVudGl0eSB0eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzIGVuYWJsZWQsIGNvbm5lY3Rpb24gdGFyZ2V0IGVudGl0eSB0eXBlIGlzIGVuYWJsZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhJHNjb3BlLmNvbm5lY3Rpb25UeXBlc1tsLnR5cGVdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoJHNjb3BlLmVudGl0eVR5cGVzW2wuc291cmNlLnR5cGVdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgJHNjb3BlLmVudGl0eVR5cGVzW2wudGFyZ2V0LnR5cGVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoaWRkZW4nIDogZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgYW55IG9mIENvbm5lY3Rpb25UeXBlLCBzb3VyY2UgZW50aXR5IHR5cGUsIG9yIHRhcmdldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbnRpdHkgdHlwZSBhcmUgZGlzYWJsZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhJHNjb3BlLmNvbm5lY3Rpb25UeXBlc1tsLnR5cGVdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoISRzY29wZS5lbnRpdHlUeXBlc1tsLnNvdXJjZS50eXBlXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgISRzY29wZS5lbnRpdHlUeXBlc1tsLnRhcmdldC50eXBlXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJHNjb3BlLiRvbigndG9nZ2xlTm9kZScsIGZ1bmN0aW9uIChldmVudCwgdHlwZSkge1xuICAgICAgICAgICAgICAgIHN2Z1xuICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCcuJyArIHR5cGUubmFtZSArICctbm9kZScpXG4gICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKHsndmlzaWJsZSc6IHR5cGUuZW5hYmxlZCwgJ2hpZGRlbic6ICF0eXBlLmVuYWJsZWR9KTtcblxuICAgICAgICAgICAgICAgIHN2Z1xuICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCcuJyArIHR5cGUubmFtZSArICctbGluaycpXG4gICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2aXNpYmxlJzogZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb25uZWN0aW9uVHlwZSBlbmFibGVkLCBjb25uZWN0aW9uIHNvdXJjZSBlbnRpdHkgdHlwZSBpc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVuYWJsZWQsIGNvbm5lY3Rpb24gdGFyZ2V0IGVudGl0eSB0eXBlIGlzIGVuYWJsZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5jb25uZWN0aW9uVHlwZXNbbC50eXBlXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAoJHNjb3BlLmVudGl0eVR5cGVzW2wuc291cmNlLnR5cGVdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICRzY29wZS5lbnRpdHlUeXBlc1tsLnRhcmdldC50eXBlXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hpZGRlbicgOiBmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGFueSBvZiBDb25uZWN0aW9uVHlwZSwgc291cmNlIGVudGl0eSB0eXBlLCBvciB0YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbnRpdHkgdHlwZSBhcmUgZGlzYWJsZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEkc2NvcGUuY29ubmVjdGlvblR5cGVzW2wudHlwZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKCEkc2NvcGUuZW50aXR5VHlwZXNbbC5zb3VyY2UudHlwZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgISRzY29wZS5lbnRpdHlUeXBlc1tsLnRhcmdldC50eXBlXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHNjb3BlLiRvbignc2VsZWN0SXRlbScsIGZ1bmN0aW9uIChldmVudCwgaXRlbSkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdsb2NhdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0TG9jYXRpb24oJHNjb3BlLmN1cnJlbnRMb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjbGljaygkc2NvcGUuY3VycmVudEVudGl0eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ25ldHdvcmtDdHJsJywgZGVwZW5kZW5jaWVzKTtcblxufSkoYW5ndWxhciwgUlRQKTtcbiJdfQ==
