!function(e){"use strict";var c=["ui.bootstrap","leaflet-directive","ngAnimate","mscg.network.graph","mscg.app.service"],r=["mscg.app.service"],a=[];e.module("mscg.app.service",a),e.module("mscg.network.graph",r),e.module("civic-graph",c)}(angular);
!function(t){"use strict";function a(){return{templateUrl:"/js/analytic/analytics.html",restrict:"E",scope:{},controller:"analyticsCtrl"}}var c=[a];t.module("civic-graph").directive("analytics",c)}(angular);
!function(e){"use strict";function o(e,o,t,n,i){function c(){u.entityTypes=e.getEntityTypes(),u.connectionTypes=o.getConnectionTypes(),u.sizeByList=[{name:"Employees",value:"employees"},{name:"Twitter Followers",value:"followers"}],u.sizeBy="employees",u.showView={Network:!0,Map:!1},u.changeView=a,u.showAbout=l,u.toggleNode=s,u.toggleLink=r,u.changeSizeBy=g,u.switchView=y,g()}function a(e){n.forEach(n.keys(u.showView),function(o){u.showView[o]=e===o}),t.$broadcast("viewChange")}function l(){i.open({animation:!1,templateUrl:"control/about.html",controller:"modalCtrl"})}function s(e){t.$broadcast("toggleNode",{name:e,enabled:u.entityTypes[e]})}function r(e){t.$broadcast("toggleLink",{name:e,enabled:u.connectionTypes[e]})}function y(){a(u.toggleNetwork?"Network":"Map")}function g(){console.debug("Setting the sizeBy value to %O",u.sizeBy),t.$broadcast("changeSizeBy",u.sizeBy)}var u=this;c()}var t=["entityService","connectionService","$rootScope","_","$modal",o];e.module("civic-graph").controller("controlCtrl",t)}(angular);
!function(o){"use strict";function r(){return{templateUrl:"/js/control/controls.html",restrict:"E",scope:{},controller:"controlCtrl",controllerAs:"control",bindToController:{minConnections:"=",toggleNetwork:"="}}}var t=[r];o.module("civic-graph").directive("control",t)}(angular);
!function(e){"use strict";e.module("civic-graph").directive("input",function(){return{restict:"E",require:"?ngModel",link:function(e,r,t,i){"type"in t&&"range"===t.type.toLowerCase()&&i.$parsers.push(parseFloat)}}})}(angular);
!function(t){"use strict";function e(){return{templateUrl:"/js/edit-entity/edit.html",restrict:"E",scope:{entity:"=",entities:"=",isOpen:"="},controller:"editCtrl"}}var i=[e];t.module("civic-graph").directive("editEntity",i)}(angular);
!function(i,t){"use strict";function s(i){function s(){var i=t(this);i.css("height","55vh")}function c(){var i=t(this);window.innerHeight/3>parseInt(i.css("height"))?i.css("height","55vh"):i.css("height","30vh")}var e;i.mobile&&(e=t("#details-panel"),e.css("height","30vh"),e.scrollTop(0),e.scroll(s),e.click(c))}function c(){return{restrict:"A",link:s}}i.module("civic-graph").directive("addMobileEvents",[c])}(angular,$);
!function(o){"use strict";function c(o,c){o.closeWindow=function(){c.close()}}o.module("civic-graph").controller("modalCtrl",["$scope","$modalInstance",c])}(angular);
!function(t){"use strict";t.module("civic-graph").constant("_",window._).constant("config",{apiHost:"https://api.civicgraph.io/"}).config(["$locationProvider","$httpProvider","$compileProvider",function(t,o,i){t.html5Mode(!0),o.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",i.debugInfoEnabled(!0)}]).filter("thousandSuffix",function(){return function(t,o){var i,n=["k","M","G","T","P","E"];return window.isNaN(t)?null:t<1e3?t:(i=Math.floor(Math.log(t)/Math.log(1e3)),(t/Math.pow(1e3,i)).toFixed(o)+n[i-1])}})}(angular);
!function(i){"use strict";function e(i){function e(){const e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,o=i.navigator.userAgent||i.navigator.vendor||i.opera;return e.test(o)||a.test(o.substr(0,4))}return{mobileCheck:e}}e.$inject=["$window"],i.module("mscg.app.service").factory("CivicGraphService",e)}(angular);
!function(t){"use strict";function n(t,n,e,i,o){function s(){t.random=(new Date).getTime(),t.entities=[],t.searchItems=null,t.categories=[],t.currentLocation=null,t.clickedLocation={},t.clickedLocation.location=null,t.clickedEntity={},t.clickedEntity.entity=null,t.editing=!1,t.actions={interacted:!1},t.showsearchMB=!1,t.showAnalytics=!1,t.entityTypes=e.getEntityTypes(),t.connectionTypes=i.getConnectionTypes(),t.status={isNetworkShown:!0,license:!0,networkLoading:!0},t.mobile=o.mobileCheck(),t.settingsEnabled=!t.mobile,t.overviewUrl=null,t.sizeBy="employees",L.minConnections=t.minConnections=0,t.toggleAnalytics=w,t.connectionChange=a,t.hydePartials=l,t.showSearch=m,t.toggleSettings=b,t.startEdit=E,t.setEntity=h,t.setEntityID=y,t.setLocation=f,t.selectItem=u,t.setEntities=g,t.stopEdit=p,t.$watch("minConnections",c),t.$on("setCurrentEntity",v),t.$on("setCurrentLocation",C),t.$on("editEntitySuccess",r),setTimeout(d,100)}function c(){t.$broadcast("entitiesLoaded")}function a(){t.minConnections=L.minConnections,t.$broadcast("entitiesLoaded")}function r(n){t.setEntities(n.nodes),t.$broadcast("entitiesLoaded")}function l(n){"search"===n?(t.editing=!1,t.settingsEnabled=!1):"settings"===n?(t.editing=!1,t.showsearchMB=!1):"edit"===n?(t.settingsEnabled=!1,t.showsearchMB=!1):(t.editing=!1,t.settingsEnabled=!1,t.showsearchMB=!1)}function d(){e.getFromAPI().then(function(e){t.entities=e.nodes;var i=n.uniq(n.pluck(n.flatten(n.pluck(t.entities,"locations")),"locality")),o=n.map(i,function(e){var i=n.filter(t.entities,n.flow(n.property("locations"),n.partialRight(n.any,{locality:e})));return{name:e,type:"location",entities:i,dict:n.zipObject(n.pluck(i,"name"),n.pluck(i,"index"))}});t.searchItems=o.concat(t.entities),t.overviewUrl="js/overview/overview.html?i="+t.random,t.$broadcast("entitiesLoaded")})}function u(n){"location"===n.type?t.setLocation(n):t[n%1===0?"setEntityID":"setEntity"](n),t.$broadcast("selectItem",n)}function h(n){t.currentLocation=null,t.currentEntity=n,t.editing&&t.stopEdit(),t.$broadcast("entityChange")}function y(e){t.setEntity(n.find(t.entities,{id:e}))}function g(n){t.entities=n}function f(n){t.currentLocation=n,t.editing&&t.stopEdit(),t.$broadcast("itemChange")}function m(){t.hydePartials("search"),t.showsearchMB=!t.showsearchMB,t.status.license=!1}function E(n){t.currentEntity=n,t.mobile&&t.hydePartials("edit"),t.editing=!0}function p(){t.editing=!1}function w(){t.showAnalytics=!t.showAnalytics}function b(){t.hydePartials("settings"),t.settingsEnabled=!t.settingsEnabled}function v(n,e){t.currentEntity=e.value}function C(n,e){t.currentLocation=e.value}var L=this;s()}n.$inject=["$scope","_","entityService","connectionService","CivicGraphService"],t.module("civic-graph").controller("homeCtrl",n)}(angular);
!function(i){"use strict";var a=[];i.module("civic-graph").directive("map",a)}(angular);
!function(t){"use strict";function r(){return{restrict:"E",templateUrl:"/js/network/network.template.html",controller:"networkCtrl"}}t.module("civic-graph").directive("network",r)}(angular);
!function(t,e){"use strict";function n(t){return void 0!==t&&null!==t}function i(t,i){function c(c,o){function a(t){i.mobileCheck()?s(t):r(t)}function r(i){if(!i)return void console.log("This happened");var o=i.entityArray,a=i.connectionArray;l.selectAll("*").remove();var r=l.node().getBoundingClientRect(),s=r.height,u=r.width,d=6,y=7,f={Individual:{x:1,y:1},"For-Profit":{x:1,y:-1},"Non-Profit":{x:-1,y:1},Government:{x:-1,y:-1}},p=10,h=50,m=e.max(o,function(t){return parseInt(t.employees)}),g=e.max(o,function(t){return parseInt(t.followers)}),k={employees:e.scale.sqrt().domain([10,m]).range([p,h]),followers:e.scale.sqrt().domain([10,g]).range([p,h])},x={},E=e.layout.force().size([u,s]).nodes(o).links(t.flatten(t.values(a))).charge(function(t){return t.employees?-2*k.employees(t.employees):-20}).linkStrength(0).linkDistance(50);t.forEach(a,function(t,e){x[e]=l.selectAll(".link ."+e+"-link").data(t).enter().append("line").attr("class",function(t){return n(t.source)&&n(t.target)?(t.type=e,"link "+e+"-link "+t.source.type+"-link "+t.target.type+"-link"):""})});var v=l.selectAll(".node").data(o).enter().append("g").attr("class",function(t){return"node "+t.type+"-node"}).call(E.drag);v.append("circle").attr("r",function(t){return t.employees?k.employees(t.employees):y}),v.append("text").text(function(t){return t.nickname?t.nickname:t.name}).attr("dx",function(){return-.065*this.getComputedTextLength()/2+"em"}).attr("dy",function(){return.08*this.parentNode.getBBox().height/2+.5+"em"}),E.on("tick",function(e){var n=d*e.alpha;t.forEach(o,function(t){t.x&&f[t.type]&&(t.x+=f[t.type].x*n,t.y+=f[t.type].y*n,t.x=Math.max(h,Math.min(u-h,t.x)),t.y=Math.max(h,Math.min(s-h,t.y)))}),t.forEach(x,function(t){t.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y})}),v.attr("transform",function(t){return"translate("+t.x+","+t.y+")"})});var L=function(t){requestAnimationFrame(function e(){for(var n=0;n<t;n++)E.tick();E.alpha()>0&&requestAnimationFrame(e)})};c.mobile||L(7),E.start();var w={};t.forEach(x,function(e){t.forEach(e[0],function(t){var e=t.__data__.source,n=t.__data__.target;w[e.index+","+n.index]=!0,w[n.index+","+e.index]=!0})});var M,T=function(t,e){return w[t.index+","+e.index]||t.index===e.index},P=function(e){v.classed("focused",function(t){return T(e,t)}).classed("unfocused",function(t){return!T(e,t)}),t.forEach(x,function(t){t.classed("focused",function(t){return e.index===t.source.index||e.index===t.target.index}).classed("unfocused",function(t){return!(e.index===t.source.index||e.index===t.target.index)})})},b=function(t){c.currentEntity!==t&&c.setEntity(t),c.safeApply(),P(t)},A=function(e){v.classed("focused",!1).classed("unfocused",!1),t.forEach(x,function(t){t.classed("focused",!1).classed("unfocused",!1)}),e.fixed=!1,c.clickedEntity.entity&&E.resume()},B=function(t){c.clickedEntity.entity||c.editing||c.currentLocation||(M=setTimeout(function(){b(t)},500)),c.actions.interacted=!0,c.safeApply()},S=function(t){c.clickedEntity.entity||c.currentLocation||(A(t),clearTimeout(M)),c.actions.interacted=!0,c.safeApply()},$=function(e){c.safeApply(),v.classed("focused",function(t){return t.name in e.dict}).classed("unfocused",function(t){return!(t.name in e.dict)}),t.forEach(x,function(t){t.classed("focused",function(t){return t.source.name in e.dict&&t.target.name in e.dict}).classed("unfocused",function(t){return!(t.source.name in e.dict&&t.target.name in e.dict)})})},F=function(){v.classed("focused",!1).classed("unfocused",!1),t.forEach(x,function(t){t.classed("focused",!1).classed("unfocused",!1)}),c.clickedLocation.location&&E.resume()},C=function(t){c.showLicense=!1,c.clickedEntity.entity&&(A(c.clickedEntity.entity),c.clickedEntity.entity=null),c.clickedLocation.location!==t&&(F(c.clickedLocation.location),c.clickedLocation.location=t,$(t)),e.event&&e.event.stopPropagation(),c.actions.interacted=!0,c.safeApply()},z=function(t){c.showLicense=!1,n(c.clickedLocation)&&(n(c.clickedLocation.location)&&(F(c.clickedLocation.entity),c.clickedLocation.location=null),c.clickedEntity.entity===t?c.clickedEntity.entity=null:(c.clickedEntity.entity&&A(c.clickedEntity.entity),c.clickedEntity.entity=t,b(t))),e.event&&e.event.stopPropagation(),c.actions.interacted=!0,c.safeApply()},I=function(){n(c.clickedLocation)&&(n(c.clickedLocation.location)&&(A(c.clickedLocation.location),c.clickedLocation.location=null),n(c.clickedEntity.entity)&&(A(c.clickedEntity.entity),c.clickedEntity.entity=null)),c.safeApply()},R=function(t){t.fixed?A(t):(t.x=u/2,t.y=s/2,t.px=u/2,t.py=s/2,t.fixed=!0,c.clickedEntity.entity=t),c.actions.interacted=!0,c.safeApply()};v.on("mouseover",B),v.on("mouseout",S),v.on("click",z),v.on("dblclick",R),l.on("click",I),v.classed("wellconnected",function(t){return t.hasOwnProperty("wellconnected")}),c.$on("changeSizeBy",function(t,e){l.selectAll("circle").transition().duration(250).attr("r",function(t){return t[e]?k[e](t[e]):y})}),c.$on("toggleLink",function(e,n){t.map(c.entityTypes,function(t,e){l.selectAll("."+e+"-link").classed({visible:function(t){return!c.connectionTypes[t.type]||c.entityTypes[t.source.type]&&c.entityTypes[t.target.type]},hidden:function(t){return!c.connectionTypes[t.type]||!c.entityTypes[t.source.type]||!c.entityTypes[t.target.type]}})})}),c.$on("toggleNode",function(t,e){l.selectAll("."+e.name+"-node").classed({visible:e.enabled,hidden:!e.enabled}),l.selectAll("."+e.name+"-link").classed({visible:function(t){return c.connectionTypes[t.type]&&c.entityTypes[t.source.type]&&c.entityTypes[t.target.type]},hidden:function(t){return!c.connectionTypes[t.type]||!c.entityTypes[t.source.type]||!c.entityTypes[t.target.type]}})}),c.$on("selectItem",function(t,e){"location"===e.type?C(c.currentLocation):z(c.currentEntity)})}function s(i){function o(){function e(t){var e=f[c.sizeBy](t[c.sizeBy]),n=t.nickname?t.nickname:t.name;h.strokeStyle="#333333",h.font="lighter 11px Segoe UI, HelveticaNeue-Light, sans-serif-light, sans-serif",h.strokeText(n,Math.max(4.5*e,Math.min(u-4.5*e,t.x+d[t.type][0]))-2*n.length,Math.max(4.5*e,Math.min(l-4.5*e,t.y+d[t.type][1]))+10,100)}var i;L++,L>70&&w&&(w=!1,P.stop(),i=new RTP.PinchZoom($("#networkCanvas"),{})),h.clearRect(0,0,u,l),v={},h.strokeStyle="#ccc",t.forEach(c.connections,function(t,e){t.forEach(function(t){var i,o=n(c.connectionTypes[e]),a=n(c.entityTypes[t.target.type]),s=n(c.entityTypes[t.source.type]);o&&a&&s&&(n(c.currentLocation)?t.source.name in c.currentLocation.dict&&t.target.name in c.currentLocation.dict&&(h.beginPath(),i=f[c.sizeBy](t.source[c.sizeBy]),h.moveTo(Math.max(4.5*i,Math.min(u-4.5*i,t.source.x+d[t.source.type][0])),Math.max(4.5*i,Math.min(l-4.5*i,t.source.y+d[t.source.type][1]))),h.lineTo(Math.max(4.5*i,Math.min(u-4.5*i,t.target.x+d[t.target.type][0])),Math.max(4.5*i,Math.min(l-4.5*i,t.target.y+d[t.target.type][1]))),h.strokeStyle=r[e].focused,h.stroke(),h.closePath()):n(c.currentEntity)&&t.source!==c.currentEntity&&t.target!==c.currentEntity||(h.beginPath(),i=f[c.sizeBy](t.source[c.sizeBy]),h.moveTo(Math.max(4.5*i,Math.min(u-4.5*i,t.source.x+d[t.source.type][0])),Math.max(4.5*i,Math.min(l-4.5*i,t.source.y+d[t.source.type][1]))),h.lineTo(Math.max(4.5*i,Math.min(u-4.5*i,t.target.x+d[t.target.type][0])),Math.max(4.5*i,Math.min(l-4.5*i,t.target.y+d[t.target.type][1]))),h.strokeStyle=r[e].focused,h.stroke(),h.closePath(),v[t.source.id]=!0,v[t.target.id]=!0))})});var o=[];T.forEach(function(t){if(c.entityTypes[t.type]){var e;c.currentLocation?t.name in c.currentLocation.dict?(e="focused",h.strokeStyle="white",o.push(t)):(h.strokeStyle="rgba(255, 255, 255, 0.1)",e="unfocused"):!c.currentEntity||v[t.id]||t===c.currentEntity?(e="focused",h.strokeStyle="white",(c.currentEntity||t.wellconnected)&&o.push(t)):(h.strokeStyle="rgba(255, 255, 255, 0.1)",e="unfocused");var n=f[c.sizeBy](t[c.sizeBy]);h.beginPath(),h.fillStyle=r[t.type][e],h.arc(Math.max(4.5*n,Math.min(u-4.5*n,t.x+d[t.type][0])),Math.max(4.5*n,Math.min(l-4.5*n,t.y+d[t.type][1])),4.5*n,0,2*Math.PI),h.fill(),h.lineWidth=1,h.stroke(),h.closePath()}}),o.forEach(e)}var a={nodes:c.entities,links:t.flatten(t.values(c.connections))},r={Government:{focused:"rgba(242, 80, 34, 1)",unfocused:"rgba(242, 80, 34, 0.1)"},"Non-Profit":{focused:"rgba(30, 144, 255, 1)",unfocused:"rgba(30, 144, 255, 0.1)"},"For-Profit":{focused:"rgba(127, 186, 0, 1)",unfocused:"rgba(127, 186, 0, 0.1)"},Individual:{focused:"rgba(255, 175, 44, 1)",unfocused:"rgba(255, 175, 44, 0.1)"},Funding:{focused:"#FF7460",unfocused:"#E3DFE4"},Data:{focused:"#84C2FF",unfocused:"#E3DFE4"},Employment:{focused:"#EE73FF",unfocused:"#E3DFE4"},Collaboration:{focused:"#FFD955",unfocused:"#E3DFE4"}},s=$("#canvas-force"),u=s.width(),l=s.height(),d={Government:[-90,-90-l/7],"Non-Profit":[-90,90-l/7],"For-Profit":[90,-90-l/7],Individual:[90,90-l/7]},y=function(t,e,n,i,c){var o=t-n,a=e-i;return o*o+a*a<=c*c},f={employees:function(t){return t>10?Math.log(t)/3:1.5},followers:function(t){return t>0&&t<=500?1.5:t>500&&t<=5e3?1.8:t>5e3&&t<=1e4?2:t>1e4&&t<=25e3?2.5:t>25e3&&t<=9e5?3:t>9e5?5:1}},p=e.select("div#canvas-force").append("canvas"),h=p.node().getContext("2d"),m=window.devicePixelRatio||1,g=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1,k=m/g;p.attr("width",u*k).attr("height",l*k).attr("id","networkCanvas");var x=document.getElementById("networkCanvas");x.style.width=u+"px",x.style.height=l+"px",h.scale(k,k),c.loading=!1;var E=1;$("#networkCanvas").click(function(t){var e=t.offsetX/E,n=t.offsetY/E;c.showLicense=!1,c.clickedEntity.entity=null;var i=!1;a.nodes.forEach(function(t){var o=f[c.sizeBy](t[c.sizeBy]);y(e,n,t.x+d[t.type][0],t.y+d[t.type][1],4.5*o)&&(c.hydePartials(),c.$emit("setCurrentEntity",{value:t}),i=!0,c.setEntity(t),c.clickedEntity.entity=t,focus(t))}),i||(c.$emit("setCurrentLocation",{value:null}),c.$emit("setCurrentEntity",{value:null})),o(),c.actions.interacted=!0,c.safeApply(),$("#details-panel").scrollTop(0)});var v,L=0,w=!0,M=[],T=[];a.nodes.filter(function(t){return n(i.find(function(e){return e.id===t.id}))}).forEach(function(t){c.currentLocation?t.name in c.currentLocation.dict&&M.push(t):c.currentEntity&&!v[t.id]&&t!==c.currentEntity||(c.currentEntity||t.wellconnected?M.push(t):T.push(t))}),a.nodes.forEach(function(t){n(i[t.type])&&(c.currentLocation?t.name in c.currentLocation.dict&&M.push(t):c.currentEntity&&!v[t.id]&&t!==c.currentEntity||(c.currentEntity||t.wellconnected?M.push(t):T.push(t)))}),T=T.concat(M);var P=e.layout.force().size([u,l]).nodes(a.nodes).links(a.links).on("tick",o).charge(-2).linkStrength(.1).linkDistance(50).start();c.$on("toggleNode",o),c.$on("toggleLink",o),c.$on("changeSizeBy",o),c.$on("selectItem",function(t,e){"location"===e.type?(c.clickedLocation.location=c.currentLocation,c.$emit("setCurrentEntity",{value:null})):(c.clickedEntity.entity=c.currentEntity,c.$emit("setCurrentLocation",{value:null})),c.actions.interacted=!0,c.safeApply(),o()})}var u=o[0],l=e.select(u).append("svg").attr("height","100vh").attr("width","100%");c.$watch("data",a,!0)}return{restrict:"EA",scope:{data:"="},link:c}}i.$inject=["_","CivicGraphService"],t.module("mscg.network.graph").directive("mscgNetworkGraph",i)}(angular,d3);
!function(n,t){"use strict";function e(n){return void 0!==n&&null!==n}function o(n){return e(n)&&"object"==typeof n}function i(n,t,i){function r(){n.isLoading=!0,n.connections={},n.safeApply=u,n.$on("entitiesLoaded",c)}function c(){i.getFromAPI().then(s)}function s(i){function r(n,t){return n[t]=[],n}function c(t){return t.collaborations.length>=n.minConnections}function s(n){function o(n){return{source:t.find(f,{id:n.source}),target:t.find(f,{id:n.target})}}function i(n){return e(n.source)&&e(n.target)}var r=n.connections,c=n.type;r.map(o).filter(i).reduceRight(function(n,t){return n[c].push(t),n},l)}function u(n){return{type:n,connections:i.connections[n]}}if(console.log(i),console.log(n.entities),o(i.connections)&&Array.isArray(n.entities)){var a=Object.keys(i.connections),f=n.entities.filter(c),l=a.reduceRight(r,{}),g=a.map(u);g.forEach(s),t.forEach(t.keys(n.entityTypes),function(e){var o=t.takeRight(t.sortBy(t.filter(n.entities,{type:e}),"collaborations.length"),5);t.forEach(o,function(n){n.wellconnected=!0})}),f=t.sortBy(f,function(n){return n.wellconnected?1:0}),n.entitiesAndConnections={entityArray:f,connectionArray:l},console.log("Should be refreshing directive now"),n.isLoading=!1}}function u(n){var t=this.$root.$$phase;"$apply"===t||"$digest"===t?n&&"function"==typeof n&&n():this.$apply(n)}r()}var r=["$scope","_","connectionService",i];n.module("mscg.network.graph").controller("networkCtrl",r)}(angular,RTP);
!function(n){"use strict";function t(){function n(){}function t(t){return new n(t)}return{getInstance:t}}var r=[t];n.module("mscg.network.graph").factory("MSCGNetworkService",r)}(angular);
!function(e){"use strict";function t(e,t){e.categorizedEntities={},t.forEach(t.keys(e.entityTypes),function(i){e.categorizedEntities[i]=t.filter(e.entities,{type:i})})}e.module("civic-graph").controller("overviewCtrl",["$scope","_",t])}(angular);
!function(c){"use strict";function n(c){}c.module("civic-graph").controller("analyticsCtrl",["$scope",n])}(angular);
!function(e){"use strict";function n(e,n){e.itemsShownDefault={key_people:3,grants_given:3,grants_received:3,investments_made:3,investments_received:3,collaborations:3,employments:3,relations:3,data_given:3,data_received:3,revenues:3,expenses:3},e.itemsShown=n.clone(e.itemsShownDefault),e.$on("entityChange",function(){e.itemsShown=n.clone(e.itemsShownDefault)}),e.showMore=function(n){e.itemsShown[n]=e.currentEntity[n].length},e.showLess=function(n){e.itemsShown[n]=e.itemsShownDefault[n]}}e.module("civic-graph").controller("detailsCtrl",["$scope","_",n])}(angular);
!function(t){"use strict";function e(t){return void 0!==t&&null!==t}function i(i,n,o,s,c,a,r){function d(){var t,e,n,o;for(e in i.categories)if(i.categories.hasOwnProperty(e)){t=i.categories[e];for(n in i.editEntity.categories)i.editEntity.categories.hasOwnProperty(n)&&(o=i.editEntity.categories[n],t.id===o.id&&(t.enabled=o.enabled))}}i.isEditing=!1,i.editEntity=c.getEntityModel(i.entity),i.entityTypes=c.getEntityTypes(),i.influenceTypes=c.getInfluenceTypes();var u;i.categories=[],i.addressSearch=function(t){return n.jsonp("https://dev.virtualearth.net/REST/v1/Locations",{params:{query:t,key:"Ai58581yC-Sr7mcFbYTtUkS3ixE7f6ZuJnbFJCVI4hAtW1XoDEeZyidQz2gLCCyD",jsonp:"JSON_CALLBACK",include:"ciso2"}}).then(function(t){if(e(t.data.resourceSets)&&t.data.resourceSets.length>0)return t.data.resourceSets[0].resources})},i.toggleCategory=function(t){if(0===i.editEntity.categories.length)i.editEntity.categories.push(t);else{var e=!1;for(var n in i.editEntity.categories)if(i.editEntity.categories.hasOwnProperty(n)){var o=i.editEntity.categories[n];if(o.id===t.id){e=!0,o.enabled=t.enabled;break}}e||i.editEntity.categories.push(t)}},i.setLocation=function(t,n){i.addressSearch(t.formattedAddress).then(function(o){var s=o[0],c=s.address,a=s.point;i.addLocation(n),t.address_line=e(c.addressLine)?c.addressLine:"",t.locality=e(c.locality)?c.locality:"",t.district=e(c.adminDistrict)?c.adminDistrict:"",t.country=e(c.countryRegion)?c.countryRegion:null,t.country_code=e(c.countryRegionIso2)?c.countryRegionIso2:"",t.coordinates=e(a.coordinates)?a.coordinates:null,t.postal_code=e(c.postalCode)?c.postalCode:null})},i.addLocation=function(t){t&&i.editEntity.locations.push(a.getLocationModel())},i.addKeyPerson=function(){s.some(i.editEntity.key_people,{name:"",id:null})||i.editEntity.key_people.push({name:"",id:null})},i.setFundingConnection=function(t,e){e.entity_id=t.id},i.addFundingConnection=function(t){s.some(t,{entity:""})||t.push({entity:"",amount:null,year:null,id:null})},i.setConnection=function(t,e){e.entity_id=t.id},i.addConnection=function(t){s.some(t,{entity:"",id:null})||t.push({entity:"",id:null,details:null})},i.addFinance=function(t){s.every(t,function(t){return t.amount>0&&t.year>1750})&&t.push({amount:null,year:null,id:null})},i.save=function(){i.isSaving=!0,console.log(i.editEntity.generateDBModel()),n.post(r.apiHost+"api/save",{entity:i.editEntity.generateDBModel()}).success(function(t){i.isSaving=!1,i.$emit("editEntitySuccess",t),i.cancelEdit()}).error(function(){i.isError=!0,o(function(){i.isError=!1},2e3)})},i.cancelEdit=function(){i.isOpen=!1},i.$watch("entity",function(n,o){t.equals(n,o)||(console.log(i.entity),i.editEntity=c.getEntityModel(n),i.categories=t.copy(u),d(),i.isEditing=e(i.editEntity.id))}),n.get(r.apiHost+"api/categories").success(function(e){u=e.categories,i.categories=t.copy(u)})}var n=["$scope","$http","$timeout","_","entityService","locationService","config",i];t.module("civic-graph").controller("editCtrl",n)}(angular);
!function(n){"use strict";function e(){function n(n){return void 0!==n&&null!==n}function e(e){var i=n(e)?e:{};this.name=n(i.name)?i.name:null,this.enabled=!n(i.enable)||i.enabled,this.id=n(i.id)?i.id:null}this.getCategoryModel=function(n){return new e(n)}}var i=[e];n.module("civic-graph").service("categoryService",i)}(angular);
!function(n){"use strict";function t(n){return void 0!==n&&null!==n}function i(n,i,e){function u(n){var i=t(n);this.entity=i&&t(n.entity)?n.entity:null,this.id=i&&t(n.id)?n.id:null,this.details=i&&t(n.details)?n.details:null,this.name=i&&t(n.name)?n.name:null,this.entity_id=i&&t(n.entity_id)?n.entity_id:null}function l(n){return new u(n)}function r(){return o}function c(){return n.get(e.apiHost+"api/connections").then(function(n){return n.data})}return{getConnectionModel:l,getConnectionTypes:r,getFromAPI:c}}var e=["$http","$q","config",i],o={Funding:!0,Data:!0,Employment:!0,Collaboration:!0};n.module("civic-graph").service("connectionService",e)}(angular);
!function(e){"use strict";function n(n,t,i,o,s,r,p,a){function l(e){return void 0!==e&&null!==e}function c(n,t){if(!l(n)&&!e.isArray(n))return[t()];var i,o,s=[];for(i in n)n.hasOwnProperty(i)&&(o=n[i],e.isObject(o)&&s.push(t(o)));return s.push(t()),s}function d(e){var n=this,p=l(e)?e:{};this.id=l(p.id)?p.id:null,this.name=l(p.name)?p.name:null,this.locations=c(p.locations,s.getLocationModel),this.influence=l(p.influence)?p.influence:null,this.grants_received=c(p.grants_received,t.getFundingConnectionModel),this.investments_received=c(p.investments_received,t.getFundingConnectionModel),this.grants_given=c(p.grants_given,t.getFundingConnectionModel),this.investments_made=c(p.investments_made,t.getFundingConnectionModel),this.data_given=c(p.data_given,i.getConnectionModel),this.data_received=c(p.data_received,i.getConnectionModel),this.collaborations=c(p.collaborations,i.getConnectionModel),this.key_people=c(p.key_people,i.getConnectionModel),this.employments=c(p.employments,i.getConnectionModel),this.revenues=c(p.revenues,o.getFinanceModel),this.expenses=c(p.expenses,o.getFinanceModel),this.categories=c(p.categories,r.getCategoryModel),this.type=l(p.type)?p.type:null,this.nickname=l(p.nickname)?p.nickname:null,this.url=l(p.url)?p.url:null,this.twitter_handle=l(p.twitter_handle)?p.twitter_handle:null,this.employees=l(p.employees)?p.employees:null,this.generateDBModel=function(){var e=new d(n);return e.locations.pop(),e.locations.pop(),e.grants_received.pop(),e.grants_received.pop(),e.grants_given.pop(),e.grants_given.pop(),e.investments_received.pop(),e.investments_received.pop(),e.investments_made.pop(),e.investments_made.pop(),e.data_given.pop(),e.data_given.pop(),e.data_received.pop(),e.data_received.pop(),e.collaborations.pop(),e.collaborations.pop(),e.key_people.pop(),e.key_people.pop(),e.employments.pop(),e.employments.pop(),e.revenues.pop(),e.revenues.pop(),e.expenses.pop(),e.expenses.pop(),e.categories.pop(),e.categories.pop(),e.description="",console.log(e),e}}function u(e){return new d(e)}function g(){return m}function v(){return _}function h(){return n.get(p.apiHost+"api/entities").then(function(e){return e.data})}var m={Government:!0,"For-Profit":!0,"Non-Profit":!0,Individual:!0},_=["Local","National","Global"];return{getEntityModel:u,getEntityTypes:g,getInfluenceTypes:v,getFromAPI:h}}var t=["$http","fundingConnectionService","connectionService","financeService","locationService","categoryService","config","$q",n];e.module("civic-graph").service("entityService",t)}(angular);
!function(n){"use strict";function i(n){return void 0!==n&&null!==n}function t(){function n(n){var t=i(n)?n:{};this.amount=i(t.amount)&&t.amount>=0?t.amount:0,this.year=i(t.year)&&t.year>=1750?t.year:null,this.id=i(t.id)?t.id:null}this.getFinanceModel=function(i){return new n(i)}}var e=[t];n.module("civic-graph").service("financeService",e)}(angular);
!function(n){"use strict";function i(n){return void 0!==n&&null!==n}function t(){function n(n){var t=i(n);this.entity=t&&i(n.entity)?n.entity:"",this.amount=t&&i(n.amount)?n.amount:null,this.year=t&&i(n.year)?n.year:null,this.id=t&&i(n.id)?n.id:null}this.getFundingConnectionModel=function(i){return new n(i)}}var e=[t];n.module("civic-graph").service("fundingConnectionService",e)}(angular);
!function(t){"use strict";function i(){function t(t){return void 0!==t&&null!==t}function i(i){var s=t(i)?i:{};this.address_line=t(s.address_line)?s.address_line:null,this.locality=t(s.locality)?s.locality:null,this.district=t(s.district)?s.district:null,this.postal_code=t(s.postal_code)?s.postal_code:null,this.country=t(s.country)?s.country:null,this.country_code=t(s.country_code)?s.country_code:null,this.coordinates=t(s.coordinates)?s.coordinates:null,this.id=t(s.id)?s.id:null,this.formattedAddress=(t(this.address_line)?this.address_line+" ":"")+(t(this.locality)?this.locality+", ":"")+(t(this.country_code)?this.country_code+" ":"")+(t(this.postal_code)?this.postal_code:""),this.formattedAddress=this.formattedAddress.trim()}this.getLocationModel=function(t){return new i(t)}}var s=[i];t.module("civic-graph").service("locationService",s)}(angular);
!function(t,e,n){"use strict";function i(t,i,o,r,a){t.options={center:{lat:20,lng:-40,zoom:3},defaults:{tileLayer:"https://api.tiles.mapbox.com/v4/mapbox.light/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiZGF2aWRscm50IiwiYSI6IjA0M2RkNzMzZWJmNzEzNGYzMTdhYTExYzAyZmU4ZTE1In0.TNYlFta2VItrkn4L0Z9BJQ",tileLayerOptions:{detectRetina:!0,reuseTiles:!1},zoomControl:!1,attributionControl:!1}},i(function(){var i=function(t){var n=t.data,i=e.layout.pie().sort(null).value(function(t){return t.value}),o=e.svg.arc().outerRadius(t.r).innerRadius(t.r-10),r=t.r+t.strokeWidth,a=2*r,c=a,l=document.createElementNS(e.ns.prefix.svg,"svg"),s=e.select(l).data(n).attr("class","piechart").attr("width",a).attr("height",c),u=s.selectAll(".arc").data(i(n)).enter().append("g").attr("class","arc").attr("transform","translate("+r+","+r+")");return u.append("path").attr("d",o).attr("class",function(t){return t.data.type+"-arc"}),u.append("svg:text").text(function(e,n){if(0===n)return t.count}).attr("x",-4*t.count.toString().length).attr("dy",5).attr("class","arcText"),window.XMLSerializer?(new window.XMLSerializer).serializeToString(l):l.xml?l.xml:""};o.getMap().then(function(e){function o(t){var e=t.getAllChildMarkers(),o=e.length,a=r.pluck(e,"options"),c=r.map(r.countBy(a,"type"),function(t,e){return{type:e,value:t}}),l=28,s=1,u=2*(l+s),d=i({data:c,r:l,strokeWidth:s,count:o});return new n.DivIcon({html:d,className:"marker-cluster",iconSize:new n.point(u,u)})}function c(t){function e(e){if(r.every(e.coordinates)){"40.78200"===e.coordinates[0].toFixed(5)&&"-73.83170"===e.coordinates[1].toFixed(5)&&(e.coordinates[0]=40.77065,e.coordinates[1]=-73.97406);var i=n.marker(e.coordinates,{icon:u[t.type],title:t.name,entity_id:t.id,message:t.name,type:t.type});d.addLayer(i)}}r.forEach(t.locations,e)}function l(t){console.error(t.message+"  %O",t)}var s=a("filter")(t.entities,function(t){return t.collaborations.length>4});e.invalidateSize(),new n.Control.Zoom({position:"topright"}).addTo(e),n.control.locate({position:"topright",showPopup:!1,icon:"fa fa-location-arrow"}).addTo(e);var u={"Non-Profit":n.icon({iconUrl:"img/marker-nonprof.svg",iconSize:[60,60]}),"For-Profit":n.icon({iconUrl:"img/marker-prof.svg",iconSize:[60,60]}),Individual:n.icon({iconUrl:"img/marker-ind.svg",iconSize:[60,60]}),Government:n.icon({iconUrl:"img/marker-gov.svg",iconSize:[60,60]})},d=n.markerClusterGroup({spiderfyOnMaxZoom:!0,showCoverageOnHover:!1,iconCreateFunction:o,maxClusterRadius:30,spiderfyDistanceMultiplier:1.3});console.log("Original: %O",t.entities),console.log("Filtered: %O",s),r.forEach(s,c),e.addLayer(d),e.on("locationerror",l),d.on("click",function(e){t.setEntityID(e.layer.options.entity_id),t.clickedEntity.entity=t.currentEntity,t.actions.interacted=!0,t.settingsEnabled&&t.mobile&&t.toggleSettings(),t.safeApply()}),e.on("click",function(){t.clickedEntity.entity=null,t.actions.interacted=!0,t.safeApply()}),t.$on("selectItem",function(){var n=t.currentEntity.locations.length>0?r.pluck(t.currentEntity.locations,"coordinates"):null;n.length>0&&e.setView(n[0],11),t.actions.interacted=!0,t.safeApply()})})})}var o=["$scope","$timeout","leafletData","_","$filter",i];t.module("civic-graph").controller("mapCtrl",o)}(angular,d3,L);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNpdmljLWdyYXBoLm1vZHVsZS5qcyIsImFuYWx5dGljL2FuYWx5dGljc0RpcmVjdGl2ZS5qcyIsImNvbnRyb2wvY29udHJvbEN0cmwuanMiLCJjb250cm9sL2NvbnRyb2xEaXJlY3RpdmUuanMiLCJjb250cm9sL3NsaWRlckJhci5qcyIsImVkaXQtZW50aXR5L2VkaXRFbnRpdHlEaXJlY3RpdmUuanMiLCJleHRyYS9hZGRNb2JpbGVFdmVudHMuanMiLCJleHRyYS9tb2RhbEN0cmwuanMiLCJtYWluL2FwcC5qcyIsIm1haW4vYXBwLnNlcnZpY2UuanMiLCJtYWluL2hvbWVDdHJsLmpzIiwibWFwL21hcERpcmVjdGl2ZS5qcyIsIm5ldHdvcmsvbmV0d29yay5kaXJlY3RpdmUuanMiLCJuZXR3b3JrL25ldHdvcmsuZ3JhcGguZGlyZWN0aXZlLmpzIiwibmV0d29yay9uZXR3b3JrLmpzIiwibmV0d29yay9uZXR3b3JrLnNlcnZpY2UuanMiLCJvdmVydmlldy9vdmVydmlld0N0cmwuanMiLCJhbmFseXRpYy9jb250cm9sbGVyL2FuYWx5dGljc0N0cmwuanMiLCJkZXRhaWwvY29udHJvbGxlci9kZXRhaWxzQ3RybC5qcyIsImVkaXQtZW50aXR5L2NvbnRyb2xsZXIvZWRpdEN0cmwuanMiLCJlZGl0LWVudGl0eS9zZXJ2aWNlL2NhdGVnb3J5U2VydmljZS5qcyIsImVkaXQtZW50aXR5L3NlcnZpY2UvY29ubmVjdGlvblNlcnZpY2UuanMiLCJlZGl0LWVudGl0eS9zZXJ2aWNlL2VudGl0eVNlcnZpY2UuanMiLCJlZGl0LWVudGl0eS9zZXJ2aWNlL2ZpbmFuY2VTZXJ2aWNlLmpzIiwiZWRpdC1lbnRpdHkvc2VydmljZS9mdW5kaW5nQ29ubmVjdGlvblNlcnZpY2UuanMiLCJlZGl0LWVudGl0eS9zZXJ2aWNlL2xvY2F0aW9uU2VydmljZS5qcyIsIm1hcC9jb250cm9sbGVyL21hcEN0cmwuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1haW5EZXBlbmRlbmNpZXMiLCJuZXR3b3JrR3JhcGhEZXBlbmRlbmN5TGlzdCIsImFwcFNlcnZpY2VEZXBlbmRlbmN5TGlzdCIsIm1vZHVsZSIsImFuYWx5dGljc0RpcmVjdGl2ZSIsInRlbXBsYXRlVXJsIiwicmVzdHJpY3QiLCJzY29wZSIsImNvbnRyb2xsZXIiLCJhbmFseXRpY3NEZXBlbmRlbmNpZXMiLCJkaXJlY3RpdmUiLCJjb250cm9sQ3RybCIsImVudGl0eVNlcnZpY2UiLCJjb25uZWN0aW9uU2VydmljZSIsIiRyb290U2NvcGUiLCJfIiwiJG1vZGFsIiwiYWN0aXZhdGUiLCJ2bSIsImVudGl0eVR5cGVzIiwiZ2V0RW50aXR5VHlwZXMiLCJjb25uZWN0aW9uVHlwZXMiLCJnZXRDb25uZWN0aW9uVHlwZXMiLCJzaXplQnlMaXN0IiwibmFtZSIsInZhbHVlIiwic2l6ZUJ5Iiwic2hvd1ZpZXciLCJOZXR3b3JrIiwiTWFwIiwiY2hhbmdlVmlldyIsInNob3dBYm91dCIsInRvZ2dsZU5vZGUiLCJ0b2dnbGVMaW5rIiwiY2hhbmdlU2l6ZUJ5Iiwic3dpdGNoVmlldyIsInZpZXciLCJmb3JFYWNoIiwia2V5cyIsIiRicm9hZGNhc3QiLCJvcGVuIiwiYW5pbWF0aW9uIiwidHlwZSIsImVuYWJsZWQiLCJ0b2dnbGVOZXR3b3JrIiwiY29uc29sZSIsImRlYnVnIiwidGhpcyIsImNvbnRyb2xEZXBzIiwiY29udHJvbERpcmVjdGl2ZSIsImNvbnRyb2xsZXJBcyIsImJpbmRUb0NvbnRyb2xsZXIiLCJtaW5Db25uZWN0aW9ucyIsImNvbnRyb2xEZXBlbmRlbmNpZXMiLCJyZXN0aWN0IiwicmVxdWlyZSIsImxpbmsiLCJlbGVtZW50IiwiYXR0cnMiLCJuZ01vZGVsIiwidG9Mb3dlckNhc2UiLCIkcGFyc2VycyIsInB1c2giLCJwYXJzZUZsb2F0IiwiZWRpdEVudGl0eURpcmVjdGl2ZSIsImVudGl0eSIsImVudGl0aWVzIiwiaXNPcGVuIiwiZWRpdEVudGl0eURlcGVuZGVuY2llcyIsIiQiLCJsaW5rRnVuY3Rpb24iLCJzY3JvbGwiLCJzZWxmIiwiY3NzIiwiY2xpY2siLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsInBhcnNlSW50IiwiZGV0YWlsc1BhbmVsIiwibW9iaWxlIiwic2Nyb2xsVG9wIiwiYWRkTW9iaWxlRXZlbnRzIiwibW9kYWxDdHJsIiwiJHNjb3BlIiwiJG1vZGFsSW5zdGFuY2UiLCJjbG9zZVdpbmRvdyIsImNsb3NlIiwiY29uc3RhbnQiLCJhcGlIb3N0IiwiY29uZmlnIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCIkaHR0cFByb3ZpZGVyIiwiJGNvbXBpbGVQcm92aWRlciIsImh0bWw1TW9kZSIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiIsImRlYnVnSW5mb0VuYWJsZWQiLCJmaWx0ZXIiLCJpbnB1dCIsImRlY2ltYWxzIiwiZXhwIiwic3VmZml4ZXMiLCJpc05hTiIsIk1hdGgiLCJmbG9vciIsImxvZyIsInBvdyIsInRvRml4ZWQiLCJGYWN0b3J5IiwiJHdpbmRvdyIsIm1vYmlsZUNoZWNrIiwicmVnZXgiLCJyZWdleDIiLCJhZ2VudENoZWNrIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidmVuZG9yIiwib3BlcmEiLCJ0ZXN0Iiwic3Vic3RyIiwiJGluamVjdCIsImZhY3RvcnkiLCJDb250cm9sbGVyIiwiY2dTZXJ2aWNlIiwicmFuZG9tIiwiRGF0ZSIsImdldFRpbWUiLCJzZWFyY2hJdGVtcyIsImNhdGVnb3JpZXMiLCJjdXJyZW50TG9jYXRpb24iLCJjbGlja2VkTG9jYXRpb24iLCJsb2NhdGlvbiIsImNsaWNrZWRFbnRpdHkiLCJlZGl0aW5nIiwiYWN0aW9ucyIsImludGVyYWN0ZWQiLCJzaG93c2VhcmNoTUIiLCJzaG93QW5hbHl0aWNzIiwic3RhdHVzIiwiaXNOZXR3b3JrU2hvd24iLCJsaWNlbnNlIiwibmV0d29ya0xvYWRpbmciLCJzZXR0aW5nc0VuYWJsZWQiLCJvdmVydmlld1VybCIsInRvZ2dsZUFuYWx5dGljcyIsImNvbm5lY3Rpb25DaGFuZ2UiLCJoeWRlUGFydGlhbHMiLCJzaG93U2VhcmNoIiwidG9nZ2xlU2V0dGluZ3MiLCJzdGFydEVkaXQiLCJzZXRFbnRpdHkiLCJzZXRFbnRpdHlJRCIsInNldExvY2F0aW9uIiwic2VsZWN0SXRlbSIsInNldEVudGl0aWVzIiwic3RvcEVkaXQiLCIkd2F0Y2giLCJicm9hZGNhc3RMb2FkRW50aXRpZXMiLCIkb24iLCJ1cGRhdGVDdXJyZW50RW50aXR5IiwidXBkYXRlQ3VycmVudExvY2F0aW9uIiwiZWRpdEVudGl0eVN1Y2Nlc3MiLCJzZXRUaW1lb3V0IiwicXVlcnlBUEkiLCJyZXNwb25zZSIsIm5vZGVzIiwiZXhjZXB0IiwiZ2V0RnJvbUFQSSIsInRoZW4iLCJkYXRhIiwibG9jYXRpb25zIiwidW5pcSIsInBsdWNrIiwiZmxhdHRlbiIsImVudGl0aWVzQnlMb2NhdGlvbiIsIm1hcCIsImxvYyIsImZpbmRpbmdzIiwiZmxvdyIsInByb3BlcnR5IiwicGFydGlhbFJpZ2h0IiwiYW55IiwibG9jYWxpdHkiLCJkaWN0IiwiemlwT2JqZWN0IiwiY29uY2F0IiwiaXRlbSIsImN1cnJlbnRFbnRpdHkiLCJpZCIsImZpbmQiLCJldmVudCIsImFyZ3MiLCJkZXBlbmRlbmNpZXMiLCJEaXJlY3RpdmUiLCJkMyIsImlzRGVmIiwibyIsInVuZGVmaW5lZCIsImxvYWREYXRhIiwiZHJhd05ldHdvcmtNb2JpbGUiLCJkcmF3TmV0d29ya0dyYXBoIiwiZW50aXR5QXJyYXkiLCJjb25uZWN0aW9uQXJyYXkiLCJzdmciLCJzZWxlY3RBbGwiLCJyZW1vdmUiLCJib3VuZHMiLCJub2RlIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaGVpZ2h0Iiwid2lkdGgiLCJvZmZzZXRTY2FsZSIsImRlZmF1bHROb2RlU2l6ZSIsIm9mZnNldHMiLCJJbmRpdmlkdWFsIiwieCIsInkiLCJGb3ItUHJvZml0IiwiTm9uLVByb2ZpdCIsIkdvdmVybm1lbnQiLCJsb3dlckJvdW5kUmFkaXVzIiwidXBwZXJCb3VuZFJhZGl1cyIsIm1heEVtcGxveWVlcyIsIm1heCIsImVsIiwiZW1wbG95ZWVzIiwibWF4Rm9sbG93ZXJzIiwiZm9sbG93ZXJzIiwic2NhbGUiLCJzcXJ0IiwiZG9tYWluIiwicmFuZ2UiLCJsaW5rcyIsImZvcmNlIiwibGF5b3V0Iiwic2l6ZSIsInZhbHVlcyIsImNoYXJnZSIsImQiLCJsaW5rU3RyZW5ndGgiLCJsaW5rRGlzdGFuY2UiLCJjb25uZWN0aW9ucyIsImVudGVyIiwiYXBwZW5kIiwiYXR0ciIsInNvdXJjZSIsInRhcmdldCIsImNhbGwiLCJkcmFnIiwidGV4dCIsIm5pY2tuYW1lIiwiZ2V0Q29tcHV0ZWRUZXh0TGVuZ3RoIiwicGFyZW50Tm9kZSIsImdldEJCb3giLCJvbiIsImUiLCJrIiwiYWxwaGEiLCJtaW4iLCJzcGVlZEFuaW1hdGUiLCJ0aWNrcyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInJlbmRlciIsImkiLCJ0aWNrIiwic3RhcnQiLCJsaW5rZWRCeUluZGV4IiwibCIsImNvbm5lY3Rpb24iLCJfX2RhdGFfXyIsImluZGV4IiwiaG92ZXJUaW1lciIsIm5laWdoYm9yaW5nIiwiYSIsImIiLCJmb2N1c25laWdoYm9ycyIsImNsYXNzZWQiLCJuIiwiZm9jdXMiLCJzYWZlQXBwbHkiLCJ1bmZvY3VzIiwiZml4ZWQiLCJyZXN1bWUiLCJob3ZlciIsInVuaG92ZXIiLCJjbGVhclRpbWVvdXQiLCJmb2N1c0xvY2F0aW9uIiwidW5mb2N1c0xvY2F0aW9uIiwiaGlnaGxpZ2h0TG9jYXRpb24iLCJzaG93TGljZW5zZSIsInN0b3BQcm9wYWdhdGlvbiIsImJhY2tncm91bmRjbGljayIsImRibGNsaWNrIiwicHgiLCJweSIsImhhc093blByb3BlcnR5IiwidHJhbnNpdGlvbiIsImR1cmF0aW9uIiwidmFsIiwia2V5IiwidmlzaWJsZSIsImhpZGRlbiIsImRyYXdFbnRpdHlOYW1lIiwiY29udGV4dCIsInN0cm9rZVN0eWxlIiwiZm9udCIsInN0cm9rZVRleHQiLCJsZW5ndGgiLCJwaW5jaFpvb20iLCJjb3VudCIsImluaXRpYWxMb2FkIiwic3RvcCIsIlJUUCIsIlBpbmNoWm9vbSIsImNsZWFyUmVjdCIsInNob3dFbnRpdGllcyIsImlzQ29uVHlwZURlZmluZWQiLCJpc0VudGl0eVRhcmdldFR5cGVEZWZpbmVkIiwiaXNFbnRpdHlTb3VyY2VUeXBlRGVmaW5lZCIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsImNvbG9ycyIsInN0cm9rZSIsImNsb3NlUGF0aCIsImVudGl0eU5hbWVzIiwiYWxsTm9kZXMiLCJ3ZWxsY29ubmVjdGVkIiwiZmlsbFN0eWxlIiwiYXJjIiwiUEkiLCJmaWxsIiwibGluZVdpZHRoIiwiZm9jdXNlZCIsInVuZm9jdXNlZCIsIkZ1bmRpbmciLCJEYXRhIiwiRW1wbG95bWVudCIsIkNvbGxhYm9yYXRpb24iLCJjYW52YXNGb3JjZSIsImlzSW5zaWRlQ2lyY2xlIiwiY3giLCJjeSIsInJhZGl1cyIsImR4IiwiZHkiLCJmIiwiY2FudmFzIiwic2VsZWN0IiwiZ2V0Q29udGV4dCIsImRldmljZVBpeGVsUmF0aW8iLCJiYWNraW5nU3RvcmVSYXRpbyIsIndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJtb3pCYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwibXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwib0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJiYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwicmF0aW8iLCJjYW52YXNFbCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsImxvYWRpbmciLCJzY2FsZXpvb20iLCJvWCIsIm9mZnNldFgiLCJvWSIsIm9mZnNldFkiLCJlbnRpdHlGb3VuZCIsIiRlbWl0IiwiZHJhd09uVG9wIiwidiIsInJvb3RFbCIsImlzT2JqIiwiaXNMb2FkaW5nIiwiZW50aXRpZXNMb2FkZWQiLCJwYXJzZUNvbm5lY3Rpb25zIiwiY3JlYXRlRmlsdGVyZWRDb25uZWN0aW9ucyIsInQiLCJmaWx0ZXJNaW5Db25uZWN0aW9ucyIsImNvbGxhYm9yYXRpb25zIiwiZmlyc3RMYXllciIsImNvbm5lY3Rpb25UeXBlT2JqZWN0IiwiZmluZFNvdXJjZVRhcmdldEVudGl0aWVzIiwiZmlsdGVyZWRFbnRpdGllcyIsImZpbHRlck5vbkV4aXN0ZW50RW50aXRpZXMiLCJzb3VyY2VUYXJnZXQiLCJyZWR1Y2VSaWdodCIsIm9iaiIsImZpbHRlcmVkQ29ubmVjdGlvbnMiLCJtYXBLZXlUb1ZhbHVlIiwiQXJyYXkiLCJpc0FycmF5IiwiY29ubmVjdGlvbktleXMiLCJPYmplY3QiLCJ0eXBlQ29ubmVjdGlvbk9iaiIsInRvcDUiLCJ0YWtlUmlnaHQiLCJzb3J0QnkiLCJlbnRpdGllc0FuZENvbm5lY3Rpb25zIiwiZm4iLCJwaGFzZSIsIiRyb290IiwiJCRwaGFzZSIsIiRhcHBseSIsIk5ldHdvcmtTZXJ2aWNlIiwiZ2V0SW5zdGFuY2UiLCJkZXBlbmRlbmN5TGlzdCIsIm92ZXJ2aWV3Q3RybCIsImNhdGVnb3JpemVkRW50aXRpZXMiLCJhbmFseXRpY3NDdHJsIiwiZGV0YWlsc0N0cmwiLCJpdGVtc1Nob3duRGVmYXVsdCIsImtleV9wZW9wbGUiLCJncmFudHNfZ2l2ZW4iLCJncmFudHNfcmVjZWl2ZWQiLCJpbnZlc3RtZW50c19tYWRlIiwiaW52ZXN0bWVudHNfcmVjZWl2ZWQiLCJlbXBsb3ltZW50cyIsInJlbGF0aW9ucyIsImRhdGFfZ2l2ZW4iLCJkYXRhX3JlY2VpdmVkIiwicmV2ZW51ZXMiLCJleHBlbnNlcyIsIml0ZW1zU2hvd24iLCJjbG9uZSIsInNob3dNb3JlIiwic2hvd0xlc3MiLCJlZGl0Q3RybCIsIiRodHRwIiwiJHRpbWVvdXQiLCJsb2NhdGlvblNlcnZpY2UiLCJpbml0Q2F0ZWdvcnlBcnJheSIsImNhdGVnb3J5IiwiY2F0ZWdvcnlJbmRleCIsImVudGl0eUNhdGVnb3J5SW5kZXgiLCJlbnRpdHlDYXRlZ29yeSIsImVkaXRFbnRpdHkiLCJpc0VkaXRpbmciLCJnZXRFbnRpdHlNb2RlbCIsImluZmx1ZW5jZVR5cGVzIiwiZ2V0SW5mbHVlbmNlVHlwZXMiLCJjYXRlZ29yeUJhY2t1cCIsImFkZHJlc3NTZWFyY2giLCJzZWFyY2giLCJqc29ucCIsInBhcmFtcyIsInF1ZXJ5IiwiaW5jbHVkZSIsInJlc291cmNlU2V0cyIsInJlc291cmNlcyIsInRvZ2dsZUNhdGVnb3J5IiwiZm91bmQiLCJpc0xhc3QiLCJmb3JtYXR0ZWRBZGRyZXNzIiwiYXBpQ2FsbFJlc3VsdCIsInJlc3VsdCIsImFkZHJlc3MiLCJwb2ludCIsImFkZExvY2F0aW9uIiwiYWRkcmVzc19saW5lIiwiYWRkcmVzc0xpbmUiLCJkaXN0cmljdCIsImFkbWluRGlzdHJpY3QiLCJjb3VudHJ5IiwiY291bnRyeVJlZ2lvbiIsImNvdW50cnlfY29kZSIsImNvdW50cnlSZWdpb25Jc28yIiwiY29vcmRpbmF0ZXMiLCJwb3N0YWxfY29kZSIsInBvc3RhbENvZGUiLCJnZXRMb2NhdGlvbk1vZGVsIiwiYWRkS2V5UGVyc29uIiwic29tZSIsInNldEZ1bmRpbmdDb25uZWN0aW9uIiwiZnVuZGluZyIsImVudGl0eV9pZCIsImFkZEZ1bmRpbmdDb25uZWN0aW9uIiwiYW1vdW50IiwieWVhciIsInNldENvbm5lY3Rpb24iLCJhZGRDb25uZWN0aW9uIiwiZGV0YWlscyIsImFkZEZpbmFuY2UiLCJyZWNvcmRzIiwiZXZlcnkiLCJyIiwic2F2ZSIsImlzU2F2aW5nIiwiZ2VuZXJhdGVEQk1vZGVsIiwicG9zdCIsInN1Y2Nlc3MiLCJjYW5jZWxFZGl0IiwiZXJyb3IiLCJpc0Vycm9yIiwibmV3VmFsIiwib2xkVmFsIiwiZXF1YWxzIiwiY29weSIsImdldCIsImVkaXRDb250cm9sbGVyRGVwcyIsIkNhdGVnb3J5U2VydmljZSIsIkNhdGVnb3J5IiwiZGVmT2JqIiwiZW5hYmxlIiwiZ2V0Q2F0ZWdvcnlNb2RlbCIsImNhdGVnb3J5U2VydmljZURlcGVuZGVuY2llcyIsInNlcnZpY2UiLCJDb25uZWN0aW9ucyIsIiRxIiwiQ29ubmVjdGlvbiIsIm9iaklzRGVmIiwiZ2V0Q29ubmVjdGlvbk1vZGVsIiwiRW50aXR5U2VydmljZSIsImZ1bmRpbmdDb25uZWN0aW9uU2VydmljZSIsImZpbmFuY2VTZXJ2aWNlIiwiY2F0ZWdvcnlTZXJ2aWNlIiwibG9vcEFuZEluaXQiLCJtb2RlbEFycmF5IiwiaW5pdE1vZGVsRnVuY3Rpb24iLCJhcnJheUluZGV4IiwiYXJyYXlWYWx1ZSIsIm5ld01vZGVsQXJyYXkiLCJpc09iamVjdCIsIkVudGl0eSIsImluZmx1ZW5jZSIsImdldEZ1bmRpbmdDb25uZWN0aW9uTW9kZWwiLCJnZXRGaW5hbmNlTW9kZWwiLCJ1cmwiLCJ0d2l0dGVyX2hhbmRsZSIsImRiTW9kZWwiLCJwb3AiLCJkZXNjcmlwdGlvbiIsImVudGl0eVNlcnZpY2VEZXBlbmRlbmNpZXMiLCJGaW5hbmNlU2VydmljZSIsIkZpbmFuY2UiLCJGdW5kaW5nQ29ubmVjdGlvbnMiLCJGdW5kaW5nQ29ubmVjdGlvbiIsImZ1bmRpbmdDb25uZWN0aW9uU2VydmljZURlcGVuZGVuY2llcyIsIkxvY2F0aW9uU2VydmljZSIsIkxvY2F0aW9uIiwidHJpbSIsImxvY2F0aW9uU2VydmljZURlcGVuZGVuY2llcyIsIkwiLCJtYXBDdHJsIiwibGVhZmxldERhdGEiLCIkZmlsdGVyIiwib3B0aW9ucyIsImNlbnRlciIsImxhdCIsImxuZyIsInpvb20iLCJ0aWxlTGF5ZXIiLCJ0aWxlTGF5ZXJPcHRpb25zIiwiZGV0ZWN0UmV0aW5hIiwicmV1c2VUaWxlcyIsInpvb21Db250cm9sIiwiYXR0cmlidXRpb25Db250cm9sIiwiY3JlYXRlUGllQ2hhcnQiLCJwaWUiLCJzb3J0Iiwib3V0ZXJSYWRpdXMiLCJpbm5lclJhZGl1cyIsInN0cm9rZVdpZHRoIiwidyIsImgiLCJjcmVhdGVFbGVtZW50TlMiLCJucyIsInByZWZpeCIsInZpcyIsImFyY3MiLCJ0b1N0cmluZyIsIlhNTFNlcmlhbGl6ZXIiLCJzZXJpYWxpemVUb1N0cmluZyIsInhtbCIsImdldE1hcCIsImNsdXN0ZXJJY29uIiwiY2x1c3RlciIsImNoaWxkcmVuIiwiZ2V0QWxsQ2hpbGRNYXJrZXJzIiwidG90YWwiLCJjbHVzdGVyTWFya2VycyIsImNvdW50cyIsImNvdW50QnkiLCJpY29uRGltIiwiaHRtbCIsIkRpdkljb24iLCJjbGFzc05hbWUiLCJpY29uU2l6ZSIsIm91dGVyTG9vcCIsImlubmVyTG9vcCIsIm0iLCJtYXJrZXIiLCJpY29uIiwibWFya2VySWNvbiIsInRpdGxlIiwibWVzc2FnZSIsIm1hcmtlcnMiLCJhZGRMYXllciIsIm9uTG9jYXRpb25FcnJvciIsImxlYWZsZXRFcnJvciIsImludmFsaWRhdGVTaXplIiwiQ29udHJvbCIsIlpvb20iLCJwb3NpdGlvbiIsImFkZFRvIiwiY29udHJvbCIsImxvY2F0ZSIsInNob3dQb3B1cCIsImljb25VcmwiLCJtYXJrZXJDbHVzdGVyR3JvdXAiLCJzcGlkZXJmeU9uTWF4Wm9vbSIsInNob3dDb3ZlcmFnZU9uSG92ZXIiLCJpY29uQ3JlYXRlRnVuY3Rpb24iLCJtYXhDbHVzdGVyUmFkaXVzIiwic3BpZGVyZnlEaXN0YW5jZU11bHRpcGxpZXIiLCJsYXllciIsInNldFZpZXciXSwibWFwcGluZ3MiOiJDQUFBLFNBQVVBLEdBRU4sWUFFQSxJQUFJQyxJQUNBLGVBQ0Esb0JBQ0EsWUFDQSxxQkFDQSxvQkFHQUMsR0FDQSxvQkFHQUMsSUFFSkgsR0FBUUksT0FBTyxtQkFBb0JELEdBRW5DSCxFQUFRSSxPQUFPLHFCQUFzQkYsR0FFckNGLEVBQVFJLE9BQU8sY0FBZUgsSUFFL0JEO0NDbkJILFNBQVdBLEdBRVAsWUFJQSxTQUFTSyxLQUNMLE9BQ0lDLFlBQWEsOEJBQ2JDLFNBQWEsSUFDYkMsU0FDQUMsV0FBZSxpQkFQdkIsR0FBSUMsSUFBeUJMLEVBVzdCTCxHQUFRSSxPQUFPLGVBQ1ZPLFVBQVUsWUFBYUQsSUFFN0JWO0NDbkJILFNBQVdBLEdBRVAsWUFXQSxTQUFTWSxHQUFZQyxFQUFlQyxFQUFtQkMsRUFBWUMsRUFBR0MsR0FJbEUsUUFBU0MsS0FDTEMsRUFBR0MsWUFBY1AsRUFBY1EsaUJBQy9CRixFQUFHRyxnQkFBa0JSLEVBQWtCUyxxQkFDdkNKLEVBQUdLLGFBQ0VDLEtBQVEsWUFBYUMsTUFBUyxjQUM5QkQs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RCxJQUFJLGVBQWdCdkIsRUFBT2pCLFVBQ25DckIsUUFBUTZELElBQUksZUFBZ0J1UixHQUU1QmxYLEVBQUVzQixRQUFRNFYsRUFBa0I2TSxHQUM1QjlaLEVBQUl1YSxTQUFTRCxHQU1idGEsRUFBSStFLEdBQUcsZ0JBQWlCeVYsR0FFeEJGLEVBQVF2VixHQUFHLFFBQVMsU0FBVWtWLEdBQzFCOWYsRUFBT3FFLFlBQVl5YixFQUFPd0IsTUFBTXJFLFFBQVF2RSxXQUN4QzFZLEVBQU9rRCxjQUFjcEUsT0FBU2tCLEVBQU95RyxjQUNyQ3pHLEVBQU9vRCxRQUFRQyxZQUFlLEVBQzFCckQsRUFBTzRELGlCQUFtQjVELEVBQU9KLFFBQ2pDSSxFQUFPa0UsaUJBRVhsRSxFQUFPcU0sY0FHWHhHLEVBQUkrRSxHQUFHLFFBQVMsV0FDWjVLLEVBQU9rRCxjQUFjcEUsT0FBUyxLQUM5QmtCLEVBQU9vRCxRQUFRQyxZQUFlLEVBQzlCckQsRUFBT3FNLGNBRVhyTSxFQUFPNEUsSUFBSSxhQUFjLFdBQ3JCLEdBQUlzVCxHQUFjbFksRUFBT3lHLGNBQWNqQixVQUFVeUksT0FBUyxFQUFJclMsRUFBRThKLE1BQzVEMUYsRUFBT3lHLGNBQWNqQixVQUFXLGVBQWlCLElBQ2pEMFMsR0FBWWpLLE9BQVMsR0FDckJwSSxFQUFJMGIsUUFBUXJKLEVBQVksR0FBSSxJQUVoQ2xZLEVBQU9vRCxRQUFRQyxZQUFhLEVBQzVCckQsRUFBT3FNLGtCQWpNdkIsR0FBSXZGLElBQ0EsU0FDQSxXQUNBLGNBQ0EsSUFDQSxVQUNBZ1csRUFpTUpsaUIsR0FBUUksT0FBTyxlQUVWSyxXQUFXLFVBQVd5TCxJQUM1QmxNLFFBQVNvTSxHQUFJNlYiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbihhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgbWFpbkRlcGVuZGVuY2llcyA9IFtcbiAgICAgICAgJ3VpLmJvb3RzdHJhcCcsXG4gICAgICAgICdsZWFmbGV0LWRpcmVjdGl2ZScsXG4gICAgICAgICduZ0FuaW1hdGUnLFxuICAgICAgICAnbXNjZy5uZXR3b3JrLmdyYXBoJyxcbiAgICAgICAgXCJtc2NnLmFwcC5zZXJ2aWNlXCJcbiAgICBdO1xuXG4gICAgdmFyIG5ldHdvcmtHcmFwaERlcGVuZGVuY3lMaXN0ID0gW1xuICAgICAgICBcIm1zY2cuYXBwLnNlcnZpY2VcIlxuICAgIF07XG5cbiAgICB2YXIgYXBwU2VydmljZURlcGVuZGVuY3lMaXN0ID0gW107XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcIm1zY2cuYXBwLnNlcnZpY2VcIiwgYXBwU2VydmljZURlcGVuZGVuY3lMaXN0KTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdtc2NnLm5ldHdvcmsuZ3JhcGgnLCBuZXR3b3JrR3JhcGhEZXBlbmRlbmN5TGlzdCk7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnLCBtYWluRGVwZW5kZW5jaWVzKTtcblxufSkoYW5ndWxhcik7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDcvMS8xNi5cbiAqL1xuXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGFuYWx5dGljc0RlcGVuZGVuY2llcyA9IFthbmFseXRpY3NEaXJlY3RpdmVdO1xuXG4gICAgZnVuY3Rpb24gYW5hbHl0aWNzRGlyZWN0aXZlKCl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9qcy9hbmFseXRpYy9hbmFseXRpY3MuaHRtbCcsXG4gICAgICAgICAgICByZXN0cmljdCAgIDogJ0UnLFxuICAgICAgICAgICAgc2NvcGUgICAgICA6IHt9LFxuICAgICAgICAgICAgY29udHJvbGxlciAgIDogJ2FuYWx5dGljc0N0cmwnXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnYW5hbHl0aWNzJywgYW5hbHl0aWNzRGVwZW5kZW5jaWVzKTtcblxufSkoYW5ndWxhcik7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDcvMTAvMTYuXG4gKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgY29udHJvbERlcHMgPSBbXG4gICAgICAgICdlbnRpdHlTZXJ2aWNlJyxcbiAgICAgICAgJ2Nvbm5lY3Rpb25TZXJ2aWNlJyxcbiAgICAgICAgJyRyb290U2NvcGUnLFxuICAgICAgICAnXycsXG4gICAgICAgICckbW9kYWwnLFxuICAgICAgICBjb250cm9sQ3RybFxuICAgIF07XG5cbiAgICBmdW5jdGlvbiBjb250cm9sQ3RybChlbnRpdHlTZXJ2aWNlLCBjb25uZWN0aW9uU2VydmljZSwgJHJvb3RTY29wZSwgXywgJG1vZGFsKSB7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUgKCkge1xuICAgICAgICAgICAgdm0uZW50aXR5VHlwZXMgPSBlbnRpdHlTZXJ2aWNlLmdldEVudGl0eVR5cGVzKCk7XG4gICAgICAgICAgICB2bS5jb25uZWN0aW9uVHlwZXMgPSBjb25uZWN0aW9uU2VydmljZS5nZXRDb25uZWN0aW9uVHlwZXMoKTtcbiAgICAgICAgICAgIHZtLnNpemVCeUxpc3QgPSBbXG4gICAgICAgICAgICAgICAgeyduYW1lJzogJ0VtcGxveWVlcycsICd2YWx1ZSc6ICdlbXBsb3llZXMnfSxcbiAgICAgICAgICAgICAgICB7J25hbWUnOiAnVHdpdHRlciBGb2xsb3dlcnMnLCAndmFsdWUnOiAnZm9sbG93ZXJzJ31cbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICB2bS5zaXplQnkgPSAnZW1wbG95ZWVzJztcbiAgICAgICAgICAgIHZtLnNob3dWaWV3ID0ge1xuICAgICAgICAgICAgICAgICdOZXR3b3JrJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAnTWFwJzogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2bS5jaGFuZ2VWaWV3ID0gY2hhbmdlVmlldztcbiAgICAgICAgICAgIHZtLnNob3dBYm91dCA9IHNob3dBYm91dDtcbiAgICAgICAgICAgIHZtLnRvZ2dsZU5vZGUgPSB0b2dnbGVOb2RlO1xuICAgICAgICAgICAgdm0udG9nZ2xlTGluayA9IHRvZ2dsZUxpbms7XG4gICAgICAgICAgICB2bS5jaGFuZ2VTaXplQnkgPSBjaGFuZ2VTaXplQnk7XG4gICAgICAgICAgICB2bS5zd2l0Y2hWaWV3ID0gc3dpdGNoVmlldztcblxuICAgICAgICAgICAgLy8gU2hpdHR5IHNpdHVhdGlvbiB3aGVyZSBob21lQ3RybCBuZWVkcyB0byBrbm93IHRoaXMsIGJ1dCB3b24ndCB1cGRhdGUgdW5sZXNzIHRoaXMgaXMgY2FsbGVkXG4gICAgICAgICAgICBjaGFuZ2VTaXplQnkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNoYW5nZVZpZXcodmlldykge1xuICAgICAgICAgICAgXy5mb3JFYWNoKF8ua2V5cyh2bS5zaG93VmlldyksIGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgdm0uc2hvd1ZpZXdbbmFtZV0gPSB2aWV3ID09PSBuYW1lO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3ZpZXdDaGFuZ2UnKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzaG93QWJvdXQoKSB7XG4gICAgICAgICAgICAkbW9kYWwub3Blbih7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbnRyb2wvYWJvdXQuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21vZGFsQ3RybCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHRvZ2dsZU5vZGUodHlwZSkge1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCd0b2dnbGVOb2RlJywgeyduYW1lJzogdHlwZSwgJ2VuYWJsZWQnOiB2bS5lbnRpdHlUeXBlc1t0eXBlXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gdG9nZ2xlTGluayh0eXBlKSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3RvZ2dsZUxpbmsnLCB7J25hbWUnOiB0eXBlLCAnZW5hYmxlZCc6IHZtLmNvbm5lY3Rpb25UeXBlc1t0eXBlXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc3dpdGNoVmlldygpIHtcbiAgICAgICAgICAgIGNoYW5nZVZpZXcoIXZtLnRvZ2dsZU5ldHdvcmsgPyAnTWFwJyA6ICdOZXR3b3JrJyk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gY2hhbmdlU2l6ZUJ5KCkge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhcIlNldHRpbmcgdGhlIHNpemVCeSB2YWx1ZSB0byAlT1wiLCB2bS5zaXplQnkpO1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdjaGFuZ2VTaXplQnknLCB2bS5zaXplQnkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2NvbnRyb2xDdHJsJywgY29udHJvbERlcHMpO1xuXG59KShhbmd1bGFyKTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNy8xMC8xNi5cbiAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBjb250cm9sRGVwZW5kZW5jaWVzID0gW2NvbnRyb2xEaXJlY3RpdmVdO1xuXG4gICAgZnVuY3Rpb24gY29udHJvbERpcmVjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2pzL2NvbnRyb2wvY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICByZXN0cmljdCAgIDogJ0UnLFxuICAgICAgICAgICAgc2NvcGUgICAgICA6IHt9LFxuICAgICAgICAgICAgY29udHJvbGxlciAgIDogJ2NvbnRyb2xDdHJsJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBcyA6ICdjb250cm9sJyxcbiAgICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXIgOiB7XG4gICAgICAgICAgICAgICAgbWluQ29ubmVjdGlvbnMgOiBcIj1cIixcbiAgICAgICAgICAgICAgICB0b2dnbGVOZXR3b3JrIDogJz0nXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnY29udHJvbCcsIGNvbnRyb2xEZXBlbmRlbmNpZXMpO1xuXG59KShhbmd1bGFyKTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNi8yNi8xNi5cbiAqL1xuKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuZGlyZWN0aXZlKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RpY3Q6ICdFJyxcbiAgICAgICAgICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIG5nTW9kZWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoICd0eXBlJyBpbiBhdHRycyAmJiBhdHRycy50eXBlLnRvTG93ZXJDYXNlKCkgPT09ICdyYW5nZScgKSB7XG4gICAgICAgICAgICAgICAgICAgIG5nTW9kZWwuJHBhcnNlcnMucHVzaChwYXJzZUZsb2F0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSk7XG59KShhbmd1bGFyKTsiLCIvKipcbiAqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI3LzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGVkaXRFbnRpdHlEZXBlbmRlbmNpZXMgPSBbZWRpdEVudGl0eURpcmVjdGl2ZV07XG5cbiAgICBmdW5jdGlvbiBlZGl0RW50aXR5RGlyZWN0aXZlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvanMvZWRpdC1lbnRpdHkvZWRpdC5odG1sJyxcbiAgICAgICAgICAgIHJlc3RyaWN0ICAgOiAnRScsXG4gICAgICAgICAgICBzY29wZSAgICAgIDoge1xuICAgICAgICAgICAgICAgICdlbnRpdHknICA6IFwiPVwiLFxuICAgICAgICAgICAgICAgICdlbnRpdGllcyc6IFwiPVwiLFxuICAgICAgICAgICAgICAgICdpc09wZW4nICA6IFwiPVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udHJvbGxlciA6ICdlZGl0Q3RybCdcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuZGlyZWN0aXZlKCdlZGl0RW50aXR5JywgZWRpdEVudGl0eURlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIpO1xuXG5cbiIsIihmdW5jdGlvbiAoYW5ndWxhciwgJCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZnVuY3Rpb24gbGlua0Z1bmN0aW9uKHNjb3BlKSB7XG5cbiAgICAgICAgZnVuY3Rpb24gc2Nyb2xsKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSAkKHRoaXMpO1xuICAgICAgICAgICAgc2VsZi5jc3MoJ2hlaWdodCcsICc1NXZoJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjbGljaygpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gJCh0aGlzKTtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuaW5uZXJIZWlnaHQgLyAzID4gcGFyc2VJbnQoc2VsZi5jc3MoJ2hlaWdodCcpKSkge1xuICAgICAgICAgICAgICAgIHNlbGYuY3NzKCdoZWlnaHQnLCAnNTV2aCcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxmLmNzcygnaGVpZ2h0JywgJzMwdmgnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZXRhaWxzUGFuZWw7XG4gICAgICAgIGlmIChzY29wZS5tb2JpbGUpIHtcbiAgICAgICAgICAgIGRldGFpbHNQYW5lbCA9ICQoXCIjZGV0YWlscy1wYW5lbFwiKTtcbiAgICAgICAgICAgIGRldGFpbHNQYW5lbC5jc3MoXCJoZWlnaHRcIiwgXCIzMHZoXCIpO1xuICAgICAgICAgICAgZGV0YWlsc1BhbmVsLnNjcm9sbFRvcCgwKTtcbiAgICAgICAgICAgIGRldGFpbHNQYW5lbC5zY3JvbGwoc2Nyb2xsKTtcbiAgICAgICAgICAgIGRldGFpbHNQYW5lbC5jbGljayhjbGljayk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRNb2JpbGVFdmVudHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgbGluazogbGlua0Z1bmN0aW9uXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnYWRkTW9iaWxlRXZlbnRzJywgW2FkZE1vYmlsZUV2ZW50c10pO1xufSkoYW5ndWxhciwgJCk7XG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZnVuY3Rpb24gbW9kYWxDdHJsKCRzY29wZSwgJG1vZGFsSW5zdGFuY2UpIHtcbiAgICAgICAgJHNjb3BlLmNsb3NlV2luZG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJG1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuY29udHJvbGxlcignbW9kYWxDdHJsJywgWyckc2NvcGUnLCAnJG1vZGFsSW5zdGFuY2UnLCBtb2RhbEN0cmxdKTtcblxufSkoYW5ndWxhcik7IiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuY29uc3RhbnQoJ18nLCB3aW5kb3cuXylcbiAgICAgICAgLmNvbnN0YW50KCdjb25maWcnLCB7XG4gICAgICAgICAgICBhcGlIb3N0OiAnaHR0cHM6Ly9hcGkuY2l2aWNncmFwaC5pby8nXG4gICAgICAgIH0pXG4gICAgICAgIC5jb25maWcoWyckbG9jYXRpb25Qcm92aWRlcicsICckaHR0cFByb3ZpZGVyJywgJyRjb21waWxlUHJvdmlkZXInLFxuICAgICAgICAgICAgZnVuY3Rpb24gKCRsb2NhdGlvblByb3ZpZGVyLCAkaHR0cFByb3ZpZGVyLCAkY29tcGlsZVByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xuICAgICAgICAgICAgICAgICRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtUmVxdWVzdGVkLVdpdGgnXSA9ICdYTUxIdHRwUmVxdWVzdCc7XG4gICAgICAgICAgICAgICAgLy8gJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnRXZlbnQtTmFtZSddID0gJ1Rlc3RfRXZlbnQnO1xuICAgICAgICAgICAgICAgICRjb21waWxlUHJvdmlkZXIuZGVidWdJbmZvRW5hYmxlZCh0cnVlKTtcbiAgICAgICAgICAgIH1dKVxuICAgICAgICAuZmlsdGVyKCd0aG91c2FuZFN1ZmZpeCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoaW5wdXQsIGRlY2ltYWxzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV4cCxcbiAgICAgICAgICAgICAgICAgICAgc3VmZml4ZXMgPSBbJ2snLCAnTScsICdHJywgJ1QnLCAnUCcsICdFJ107XG5cbiAgICAgICAgICAgICAgICBpZiAod2luZG93LmlzTmFOKGlucHV0KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPCAxMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBleHAgPSBNYXRoLmZsb29yKE1hdGgubG9nKGlucHV0KSAvIE1hdGgubG9nKDEwMDApKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiAoaW5wdXQgLyBNYXRoLnBvdygxMDAwLCBleHApKS50b0ZpeGVkKGRlY2ltYWxzKSArIHN1ZmZpeGVzW2V4cCAtIDFdO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcblxuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgZnVuY3Rpb24gRmFjdG9yeSgkd2luZG93KSB7XG4gICAgICAgIGZ1bmN0aW9uIG1vYmlsZUNoZWNrKCkge1xuICAgICAgICAgICAgY29uc3QgcmVnZXggID0gLyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhdmFudGdvfGJhZGFcXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWlkcHxtbXB8bW9iaWxlLitmaXJlZm94fG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVxcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIGNlfHhkYXx4aWluby9pLFxuICAgICAgICAgICAgICAgIHJlZ2V4MiA9IC8xMjA3fDYzMTB8NjU5MHwzZ3NvfDR0aHB8NTBbMS02XWl8Nzcwc3w4MDJzfGEgd2F8YWJhY3xhYyhlcnxvb3xzXFwtKXxhaShrb3xybil8YWwoYXZ8Y2F8Y28pfGFtb2l8YW4oZXh8bnl8eXcpfGFwdHV8YXIoY2h8Z28pfGFzKHRlfHVzKXxhdHR3fGF1KGRpfFxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1xcLShufHUpfGM1NVxcL3xjYXBpfGNjd2F8Y2RtXFwtfGNlbGx8Y2h0bXxjbGRjfGNtZFxcLXxjbyhtcHxuZCl8Y3Jhd3xkYShpdHxsbHxuZyl8ZGJ0ZXxkY1xcLXN8ZGV2aXxkaWNhfGRtb2J8ZG8oY3xwKW98ZHMoMTJ8XFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFxcLXxfKXxnMSB1fGc1NjB8Z2VuZXxnZlxcLTV8Z1xcLW1vfGdvKFxcLnd8b2QpfGdyKGFkfHVuKXxoYWllfGhjaXR8aGRcXC0obXxwfHQpfGhlaVxcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXFwtY3xodChjKFxcLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGlcXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XFwtfFxcLyl8aWJyb3xpZGVhfGlnMDF8aWtvbXxpbTFrfGlubm98aXBhcXxpcmlzfGphKHR8dilhfGpicm98amVtdXxqaWdzfGtkZGl8a2VqaXxrZ3QoIHxcXC8pfGtsb258a3B0IHxrd2NcXC18a3lvKGN8ayl8bGUobm98eGkpfGxnKCBnfFxcLyhrfGx8dSl8NTB8NTR8XFwtW2Etd10pfGxpYnd8bHlueHxtMVxcLXd8bTNnYXxtNTBcXC98bWEodGV8dWl8eG8pfG1jKDAxfDIxfGNhKXxtXFwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXFwtfCB8b3x2KXx6eil8bXQoNTB8cDF8diApfG13YnB8bXl3YXxuMTBbMC0yXXxuMjBbMi0zXXxuMzAoMHwyKXxuNTAoMHwyfDUpfG43KDAoMHwxKXwxMCl8bmUoKGN8bSlcXC18b258dGZ8d2Z8d2d8d3QpfG5vayg2fGkpfG56cGh8bzJpbXxvcCh0aXx3dil8b3Jhbnxvd2cxfHA4MDB8cGFuKGF8ZHx0KXxwZHhnfHBnKDEzfFxcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblxcLTJ8cG8oY2t8cnR8c2UpfHByb3h8cHNpb3xwdFxcLWd8cWFcXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFxcLVsyLTddfGlcXC0pfHF0ZWt8cjM4MHxyNjAwfHJha3N8cmltOXxybyh2ZXx6byl8czU1XFwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXFwtfG9vfHBcXC0pfHNka1xcL3xzZShjKFxcLXwwfDEpfDQ3fG1jfG5kfHJpKXxzZ2hcXC18c2hhcnxzaWUoXFwtfG0pfHNrXFwtMHxzbCg0NXxpZCl8c20oYWx8YXJ8YjN8aXR8dDUpfHNvKGZ0fG55KXxzcCgwMXxoXFwtfHZcXC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcXC18dGRnXFwtfHRlbChpfG0pfHRpbVxcLXx0XFwtbW98dG8ocGx8c2gpfHRzKDcwfG1cXC18bTN8bTUpfHR4XFwtOXx1cChcXC5ifGcxfHNpKXx1dHN0fHY0MDB8djc1MHx2ZXJpfHZpKHJnfHRlKXx2ayg0MHw1WzAtM118XFwtdil8dm00MHx2b2RhfHZ1bGN8dngoNTJ8NTN8NjB8NjF8NzB8ODB8ODF8ODN8ODV8OTgpfHczYyhcXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcXC18eW91cnx6ZXRvfHp0ZVxcLS9pLFxuICAgICAgICAgICAgICAgIGFnZW50Q2hlY2sgPSAkd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQgfHwgJHdpbmRvdy5uYXZpZ2F0b3IudmVuZG9yIHx8ICR3aW5kb3cub3BlcmE7XG5cbiAgICAgICAgICAgIHJldHVybiByZWdleC50ZXN0KGFnZW50Q2hlY2spIHx8IHJlZ2V4Mi50ZXN0KGFnZW50Q2hlY2suc3Vic3RyKDAsNCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFwibW9iaWxlQ2hlY2tcIjogbW9iaWxlQ2hlY2tcbiAgICAgICAgfTtcblxuICAgIH1cbiAgICBGYWN0b3J5LiRpbmplY3QgPSBbXG4gICAgICAgIFwiJHdpbmRvd1wiXG4gICAgXTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKFwibXNjZy5hcHAuc2VydmljZVwiKVxuICAgICAgICAuZmFjdG9yeShcIkNpdmljR3JhcGhTZXJ2aWNlXCIsIEZhY3RvcnkpO1xuXG59KShhbmd1bGFyKTsiLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGZ1bmN0aW9uIENvbnRyb2xsZXIoJHNjb3BlLCBfLCBlbnRpdHlTZXJ2aWNlLCBjb25uZWN0aW9uU2VydmljZSwgY2dTZXJ2aWNlKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuXG4gICAgICAgICAgICAkc2NvcGUucmFuZG9tICAgICAgICAgICAgICAgICAgID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAkc2NvcGUuZW50aXRpZXMgICAgICAgICAgICAgICAgID0gW107XG4gICAgICAgICAgICAkc2NvcGUuc2VhcmNoSXRlbXMgICAgICAgICAgICAgID0gbnVsbDtcbiAgICAgICAgICAgICRzY29wZS5jYXRlZ29yaWVzICAgICAgICAgICAgICAgPSBbXTtcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50TG9jYXRpb24gICAgICAgICAgPSBudWxsO1xuICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRMb2NhdGlvbiAgICAgICAgICA9IHt9O1xuICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eSAgICAgICAgICAgID0ge307XG4gICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgICAgID0gbnVsbDtcbiAgICAgICAgICAgICRzY29wZS5lZGl0aW5nICAgICAgICAgICAgICAgICAgPSBmYWxzZTtcbiAgICAgICAgICAgICRzY29wZS5hY3Rpb25zICAgICAgICAgICAgICAgICAgPSB7J2ludGVyYWN0ZWQnOiBmYWxzZX07XG4gICAgICAgICAgICAkc2NvcGUuc2hvd3NlYXJjaE1CICAgICAgICAgICAgID0gZmFsc2U7XG4gICAgICAgICAgICAkc2NvcGUuc2hvd0FuYWx5dGljcyAgICAgICAgICAgID0gZmFsc2U7XG4gICAgICAgICAgICAkc2NvcGUuZW50aXR5VHlwZXMgICAgICAgICAgICAgID0gZW50aXR5U2VydmljZS5nZXRFbnRpdHlUeXBlcygpO1xuICAgICAgICAgICAgJHNjb3BlLmNvbm5lY3Rpb25UeXBlcyAgICAgICAgICA9IGNvbm5lY3Rpb25TZXJ2aWNlLmdldENvbm5lY3Rpb25UeXBlcygpO1xuICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyAgICAgICAgICAgICAgICAgICA9IHtcbiAgICAgICAgICAgICAgICBcImlzTmV0d29ya1Nob3duXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgXCJsaWNlbnNlXCIgICAgICAgOiB0cnVlLFxuICAgICAgICAgICAgICAgIFwibmV0d29ya0xvYWRpbmdcIjogdHJ1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICRzY29wZS5tb2JpbGUgICAgICAgICAgICAgICAgICAgPSBjZ1NlcnZpY2UubW9iaWxlQ2hlY2soKTtcbiAgICAgICAgICAgICRzY29wZS5zZXR0aW5nc0VuYWJsZWQgICAgICAgICAgPSAhJHNjb3BlLm1vYmlsZTtcbiAgICAgICAgICAgICRzY29wZS5vdmVydmlld1VybCAgICAgICAgICAgICAgPSBudWxsO1xuICAgICAgICAgICAgJHNjb3BlLnNpemVCeSAgICAgICAgICAgICAgICAgICA9ICdlbXBsb3llZXMnO1xuXG4gICAgICAgICAgICBzZWxmLm1pbkNvbm5lY3Rpb25zID0gJHNjb3BlLm1pbkNvbm5lY3Rpb25zID0gMDtcblxuICAgICAgICAgICAgJHNjb3BlLnRvZ2dsZUFuYWx5dGljcyAgPSB0b2dnbGVBbmFseXRpY3M7XG4gICAgICAgICAgICAkc2NvcGUuY29ubmVjdGlvbkNoYW5nZSA9IGNvbm5lY3Rpb25DaGFuZ2U7XG4gICAgICAgICAgICAkc2NvcGUuaHlkZVBhcnRpYWxzICAgICA9IGh5ZGVQYXJ0aWFscztcbiAgICAgICAgICAgICRzY29wZS5zaG93U2VhcmNoICAgICAgID0gc2hvd1NlYXJjaDtcbiAgICAgICAgICAgICRzY29wZS50b2dnbGVTZXR0aW5ncyAgID0gdG9nZ2xlU2V0dGluZ3M7XG4gICAgICAgICAgICAkc2NvcGUuc3RhcnRFZGl0ICAgICAgICA9IHN0YXJ0RWRpdDtcbiAgICAgICAgICAgICRzY29wZS5zZXRFbnRpdHkgICAgICAgID0gc2V0RW50aXR5O1xuICAgICAgICAgICAgJHNjb3BlLnNldEVudGl0eUlEICAgICAgPSBzZXRFbnRpdHlJRDtcbiAgICAgICAgICAgICRzY29wZS5zZXRMb2NhdGlvbiAgICAgID0gc2V0TG9jYXRpb247XG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0SXRlbSAgICAgICA9IHNlbGVjdEl0ZW07XG4gICAgICAgICAgICAkc2NvcGUuc2V0RW50aXRpZXMgICAgICA9IHNldEVudGl0aWVzO1xuICAgICAgICAgICAgJHNjb3BlLnN0b3BFZGl0ICAgICAgICAgPSBzdG9wRWRpdDtcblxuICAgICAgICAgICAgJHNjb3BlLiR3YXRjaCgnbWluQ29ubmVjdGlvbnMnLCBicm9hZGNhc3RMb2FkRW50aXRpZXMpO1xuXG4gICAgICAgICAgICAkc2NvcGUuJG9uKCdzZXRDdXJyZW50RW50aXR5JywgdXBkYXRlQ3VycmVudEVudGl0eSk7XG5cbiAgICAgICAgICAgICRzY29wZS4kb24oJ3NldEN1cnJlbnRMb2NhdGlvbicsIHVwZGF0ZUN1cnJlbnRMb2NhdGlvbik7XG5cbiAgICAgICAgICAgICRzY29wZS4kb24oXCJlZGl0RW50aXR5U3VjY2Vzc1wiLCBlZGl0RW50aXR5U3VjY2Vzcyk7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQocXVlcnlBUEksIDEwMCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBicm9hZGNhc3RMb2FkRW50aXRpZXMoKSB7XG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnZW50aXRpZXNMb2FkZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNvbm5lY3Rpb25DaGFuZ2UoKSB7XG4gICAgICAgICAgICAkc2NvcGUubWluQ29ubmVjdGlvbnMgPSBzZWxmLm1pbkNvbm5lY3Rpb25zO1xuICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ2VudGl0aWVzTG9hZGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBlZGl0RW50aXR5U3VjY2VzcyhyZXNwb25zZSkge1xuICAgICAgICAgICAgJHNjb3BlLnNldEVudGl0aWVzKHJlc3BvbnNlLm5vZGVzKTtcbiAgICAgICAgICAgIC8vICRzY29wZS5zZXRFbnRpdHlJRCgkc2NvcGUuY3VycmVudEVudGl0eS5pZCk7XG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnZW50aXRpZXNMb2FkZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGh5ZGVQYXJ0aWFscyhleGNlcHQpIHtcbiAgICAgICAgICAgIGlmIChleGNlcHQgPT09IFwic2VhcmNoXCIpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdGluZyAgICAgICAgID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChleGNlcHQgPT09IFwic2V0dGluZ3NcIikge1xuICAgICAgICAgICAgICAgICRzY29wZS5lZGl0aW5nICAgICAgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd3NlYXJjaE1CID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV4Y2VwdCA9PT0gXCJlZGl0XCIpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2V0dGluZ3NFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dzZWFyY2hNQiAgICA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdGluZyAgICAgICAgID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zaG93c2VhcmNoTUIgICAgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHF1ZXJ5QVBJKCkge1xuICAgICAgICAgICAgZW50aXR5U2VydmljZVxuICAgICAgICAgICAgICAgIC5nZXRGcm9tQVBJKClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZW50aXRpZXMgPSBkYXRhLm5vZGVzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb25zICAgPSBfLnVuaXEoXG4gICAgICAgICAgICAgICAgICAgICAgICBfLnBsdWNrKF8uZmxhdHRlbihfLnBsdWNrKCRzY29wZS5lbnRpdGllcywgJ2xvY2F0aW9ucycpKSwgJ2xvY2FsaXR5JykpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbnRpdGllc0J5TG9jYXRpb24gPSBfLm1hcChsb2NhdGlvbnMsIGZ1bmN0aW9uIChsb2MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaW5kaW5ncyA9IF8uZmlsdGVyKCRzY29wZS5lbnRpdGllcywgXy5mbG93KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ucHJvcGVydHkoJ2xvY2F0aW9ucycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ucGFydGlhbFJpZ2h0KF8uYW55LCB7bG9jYWxpdHk6IGxvY30pXG4gICAgICAgICAgICAgICAgICAgICAgICApKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lICAgIDogbG9jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgICAgOiAnbG9jYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0aWVzOiBmaW5kaW5ncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWN0ICAgIDogXy56aXBPYmplY3QoXy5wbHVjayhmaW5kaW5ncywgJ25hbWUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5wbHVjayhmaW5kaW5ncywgJ2luZGV4JykpXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2VhcmNoSXRlbXMgPSBlbnRpdGllc0J5TG9jYXRpb24uY29uY2F0KCRzY29wZS5lbnRpdGllcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKCRzY29wZS5nZXRVUkxJRCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyBTZXQgdGhlIGVudGl0eSB0byB0aGUgSUQgaW4gdGhlIFVSTCBpZiBpdCBleGlzdHMuXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAkc2NvcGUuc2V0RW50aXR5SUQoJHNjb3BlLmdldFVSTElEKCkpO1xuICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5vdmVydmlld1VybCA9ICdqcy9vdmVydmlldy9vdmVydmlldy5odG1sP2k9JyArICRzY29wZS5yYW5kb207XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdlbnRpdGllc0xvYWRlZCcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2VsZWN0SXRlbShpdGVtKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbG9jYXRpb24nKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNldExvY2F0aW9uKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlW2l0ZW0gJSAxID09PSAwID8gJ3NldEVudGl0eUlEJyA6ICdzZXRFbnRpdHknXShpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdzZWxlY3RJdGVtJywgaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzZXRFbnRpdHkoZW50aXR5KSB7XG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudExvY2F0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50RW50aXR5ICAgPSBlbnRpdHk7XG4gICAgICAgICAgICBpZiAoJHNjb3BlLmVkaXRpbmcpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RvcEVkaXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdlbnRpdHlDaGFuZ2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNldEVudGl0eUlEKGlkKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2V0RW50aXR5KF8uZmluZCgkc2NvcGUuZW50aXRpZXMsIHsnaWQnOiBpZH0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNldEVudGl0aWVzKGVudGl0aWVzKSB7XG4gICAgICAgICAgICAkc2NvcGUuZW50aXRpZXMgPSBlbnRpdGllcztcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNldExvY2F0aW9uKGxvY2F0aW9uKSB7XG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICBpZiAoJHNjb3BlLmVkaXRpbmcpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RvcEVkaXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdpdGVtQ2hhbmdlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzaG93U2VhcmNoKCkge1xuICAgICAgICAgICAgJHNjb3BlLmh5ZGVQYXJ0aWFscyhcInNlYXJjaFwiKTtcbiAgICAgICAgICAgICRzY29wZS5zaG93c2VhcmNoTUIgID0gISRzY29wZS5zaG93c2VhcmNoTUI7XG4gICAgICAgICAgICAvLyAkc2NvcGUuJGJyb2FkY2FzdCgnaGlkZUxpY2Vuc2UnKTtcbiAgICAgICAgICAgICRzY29wZS5zdGF0dXMubGljZW5zZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc3RhcnRFZGl0KGVudGl0eSkge1xuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRFbnRpdHkgPSBlbnRpdHk7XG4gICAgICAgICAgICBpZiAoJHNjb3BlLm1vYmlsZSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5oeWRlUGFydGlhbHMoXCJlZGl0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLmVkaXRpbmcgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc3RvcEVkaXQoKSB7XG4gICAgICAgICAgICAkc2NvcGUuZWRpdGluZyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdG9nZ2xlQW5hbHl0aWNzKCkge1xuICAgICAgICAgICAgJHNjb3BlLnNob3dBbmFseXRpY3MgPSAhJHNjb3BlLnNob3dBbmFseXRpY3M7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB0b2dnbGVTZXR0aW5ncygpIHtcbiAgICAgICAgICAgICRzY29wZS5oeWRlUGFydGlhbHMoXCJzZXR0aW5nc1wiKTtcbiAgICAgICAgICAgICRzY29wZS5zZXR0aW5nc0VuYWJsZWQgPSAhJHNjb3BlLnNldHRpbmdzRW5hYmxlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUN1cnJlbnRFbnRpdHkoZXZlbnQsIGFyZ3MpIHtcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50RW50aXR5ID0gYXJncy52YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUN1cnJlbnRMb2NhdGlvbihldmVudCwgYXJncykge1xuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRMb2NhdGlvbiA9IGFyZ3MudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBDb250cm9sbGVyLiRpbmplY3QgPSBbXG4gICAgICAgICckc2NvcGUnLFxuICAgICAgICAnXycsXG4gICAgICAgICdlbnRpdHlTZXJ2aWNlJyxcbiAgICAgICAgJ2Nvbm5lY3Rpb25TZXJ2aWNlJyxcbiAgICAgICAgXCJDaXZpY0dyYXBoU2VydmljZVwiXG4gICAgXTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdob21lQ3RybCcsIENvbnRyb2xsZXIpO1xuXG59KShhbmd1bGFyKTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNy8xNC8xNi5cbiAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBkZXBlbmRlbmNpZXMgPSBbXTtcblxuICAgIGZ1bmN0aW9uIGRpcmVjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFwicmVzdHJpY3RcIjogXCJFXCIsXG4gICAgICAgICAgICBcInRlbXBsYXRlVXJsXCI6IFwiL21hcC9tYXAuaHRtbFwiLFxuICAgICAgICAgICAgXCJjb250cm9sbGVyXCI6IFwibWFwQ3RybFwiXG4gICAgICAgIH07XG4gICAgfVxuICAgICAgICBhbmd1bGFyLm1vZHVsZShcImNpdmljLWdyYXBoXCIpXG4gICAgICAgICAgICAuZGlyZWN0aXZlKFwibWFwXCIsIGRlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNy8xMS8xNi5cbiAqL1xuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBmdW5jdGlvbiBEaXJlY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBcInJlc3RyaWN0XCI6IFwiRVwiLFxuICAgICAgICAgICAgXCJ0ZW1wbGF0ZVVybFwiOiBcIi9qcy9uZXR3b3JrL25ldHdvcmsudGVtcGxhdGUuaHRtbFwiLFxuICAgICAgICAgICAgXCJjb250cm9sbGVyXCI6IFwibmV0d29ya0N0cmxcIlxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKFwiY2l2aWMtZ3JhcGhcIilcbiAgICAgICAgLmRpcmVjdGl2ZShcIm5ldHdvcmtcIiwgRGlyZWN0aXZlKTtcblxufSkoYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24oYW5ndWxhciwgZDMpIHtcblxuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgZnVuY3Rpb24gaXNEZWYobykge1xuICAgICAgICByZXR1cm4gbyAhPT0gdW5kZWZpbmVkICYmIG8gIT09IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gRGlyZWN0aXZlKF8sIGNnU2VydmljZSkge1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmtGdW5jdGlvbigkc2NvcGUsIGVsZW1lbnQpIHtcblxuICAgICAgICAgICAgdmFyIHJvb3RFbCA9IGVsZW1lbnRbMF07XG4gICAgICAgICAgICB2YXIgc3ZnID0gZDNcbiAgICAgICAgICAgICAgICAuc2VsZWN0KHJvb3RFbClcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFwic3ZnXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgXCIxMDB2aFwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwid2lkdGhcIiwgXCIxMDAlXCIpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBsb2FkRGF0YShkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNnU2VydmljZS5tb2JpbGVDaGVjaygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRyYXdOZXR3b3JrTW9iaWxlKGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhd05ldHdvcmtHcmFwaChkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGRyYXdOZXR3b3JrR3JhcGgoZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVGhpcyBoYXBwZW5lZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBlbnRpdHlBcnJheSA9IGRhdGEuZW50aXR5QXJyYXk7XG4gICAgICAgICAgICAgICAgdmFyIGNvbm5lY3Rpb25BcnJheSA9IGRhdGEuY29ubmVjdGlvbkFycmF5O1xuXG4gICAgICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IHN2Zy5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IGJvdW5kcy5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gYm91bmRzLndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRTY2FsZSA9IDY7XG4gICAgICAgICAgICAgICAgdmFyIGRlZmF1bHROb2RlU2l6ZSA9IDc7XG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldHMgPSB7XG4gICAgICAgICAgICAgICAgICAgICdJbmRpdmlkdWFsJzogeyd4JzogMSwgJ3knOiAxfSxcbiAgICAgICAgICAgICAgICAgICAgJ0Zvci1Qcm9maXQnOiB7J3gnOiAxLCAneSc6IC0xfSxcbiAgICAgICAgICAgICAgICAgICAgJ05vbi1Qcm9maXQnOiB7J3gnOiAtMSwgJ3knOiAxfSxcbiAgICAgICAgICAgICAgICAgICAgJ0dvdmVybm1lbnQnOiB7J3gnOiAtMSwgJ3knOiAtMX1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBsb3dlckJvdW5kUmFkaXVzID0gMTA7XG4gICAgICAgICAgICAgICAgdmFyIHVwcGVyQm91bmRSYWRpdXMgPSA1MDtcbiAgICAgICAgICAgICAgICB2YXIgbWF4RW1wbG95ZWVzID0gZDMubWF4KGVudGl0eUFycmF5LCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGVsLmVtcGxveWVlcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIG1heEZvbGxvd2VycyA9IGQzLm1heChlbnRpdHlBcnJheSwgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChlbC5mb2xsb3dlcnMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBzY2FsZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgJ2VtcGxveWVlcyc6IGQzLnNjYWxlLnNxcnQoKS5kb21haW4oWzEwLCBtYXhFbXBsb3llZXNdKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJhbmdlKFtsb3dlckJvdW5kUmFkaXVzLCB1cHBlckJvdW5kUmFkaXVzXSksXG4gICAgICAgICAgICAgICAgICAgICdmb2xsb3dlcnMnOiBkMy5zY2FsZS5zcXJ0KCkuZG9tYWluKFsxMCwgbWF4Rm9sbG93ZXJzXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yYW5nZShbbG93ZXJCb3VuZFJhZGl1cywgdXBwZXJCb3VuZFJhZGl1c10pXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgbGlua3MgPSB7fTtcbiAgICAgICAgICAgICAgICB2YXIgZm9yY2UgPSBkMy5sYXlvdXQuZm9yY2UoKVxuICAgICAgICAgICAgICAgICAgICAuc2l6ZShbd2lkdGgsIGhlaWdodF0pXG4gICAgICAgICAgICAgICAgICAgIC5ub2RlcyhlbnRpdHlBcnJheSlcbiAgICAgICAgICAgICAgICAgICAgLmxpbmtzKF8uZmxhdHRlbihfLnZhbHVlcyhjb25uZWN0aW9uQXJyYXkpKSlcbiAgICAgICAgICAgICAgICAgICAgLmNoYXJnZShmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuZW1wbG95ZWVzID8gLTIgKiBzY2FsZS5lbXBsb3llZXMoZC5lbXBsb3llZXMpIDogLTIwO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAubGlua1N0cmVuZ3RoKDApXG4gICAgICAgICAgICAgICAgICAgIC5saW5rRGlzdGFuY2UoNTApO1xuXG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGNvbm5lY3Rpb25BcnJheSwgZnVuY3Rpb24gKGNvbm5lY3Rpb25zLCB0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmtzW3R5cGVdID0gc3ZnLnNlbGVjdEFsbCgnLmxpbmsgLicgKyB0eXBlICsgJy1saW5rJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kYXRhKGNvbm5lY3Rpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdsaW5lJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0RlZihkLnNvdXJjZSkgfHwgIWlzRGVmKGQudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZC50eXBlID0gdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2xpbmsgJyArIHR5cGUgKyAnLWxpbmsgJyArIGQuc291cmNlLnR5cGUgKyAnLWxpbmsgJyArIGQudGFyZ2V0LnR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAnLWxpbmsnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IHN2Zy5zZWxlY3RBbGwoJy5ub2RlJylcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEoZW50aXR5QXJyYXkpXG4gICAgICAgICAgICAgICAgICAgIC5lbnRlcigpLmFwcGVuZCgnZycpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ25vZGUgJyArIGQudHlwZSArICctbm9kZSc7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYWxsKGZvcmNlLmRyYWcpO1xuXG4gICAgICAgICAgICAgICAgbm9kZS5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdyJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmVtcGxveWVlcyA/IHNjYWxlWydlbXBsb3llZXMnXShkLmVtcGxveWVlcykgOiBkZWZhdWx0Tm9kZVNpemU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbm9kZS5hcHBlbmQoJ3RleHQnKVxuICAgICAgICAgICAgICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQubmlja25hbWUgPyBkLm5pY2tuYW1lIDogZC5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZHgnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKC0wLjA2NSAqIHRoaXMuZ2V0Q29tcHV0ZWRUZXh0TGVuZ3RoKCkgLyAyKSArICdlbSc7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdkeScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoMC4wOCAqIHRoaXMucGFyZW50Tm9kZS5nZXRCQm94KCkuaGVpZ2h0IC8gMiArIDAuNSkgKyAnZW0nO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGZvcmNlLm9uKCd0aWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2x1c3RlciBpbiBmb3VyIGNvcm5lcnMgYmFzZWQgb24gb2Zmc2V0LlxuICAgICAgICAgICAgICAgICAgICB2YXIgayA9IG9mZnNldFNjYWxlICogZS5hbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgXy5mb3JFYWNoKGVudGl0eUFycmF5LCBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50aXR5LnggJiYgb2Zmc2V0c1tlbnRpdHkudHlwZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkueCArPSBvZmZzZXRzW2VudGl0eS50eXBlXS54ICogaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkueSArPSBvZmZzZXRzW2VudGl0eS50eXBlXS55ICogaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkueCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KHVwcGVyQm91bmRSYWRpdXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbih3aWR0aCAtIHVwcGVyQm91bmRSYWRpdXMsIGVudGl0eS54KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LnkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCh1cHBlckJvdW5kUmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4oaGVpZ2h0IC0gdXBwZXJCb3VuZFJhZGl1cywgZW50aXR5LnkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgXy5mb3JFYWNoKGxpbmtzLCBmdW5jdGlvbiAobGluaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlua1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnNvdXJjZS54O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuc291cmNlLnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDInLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC50YXJnZXQueDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnRhcmdldC55O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIGQueCArICcsJyArIGQueSArICcpJztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIHNwZWVkQW5pbWF0ZSA9IGZ1bmN0aW9uICh0aWNrcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBTcGVlZCB1cCB0aGUgaW5pdGlhbCBhbmltYXRpb24uXG4gICAgICAgICAgICAgICAgICAgIC8vIFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjE4OTExMFxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aWNrczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2UudGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcmNlLmFscGhhKCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUubW9iaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwZWVkQW5pbWF0ZSg3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yY2Uuc3RhcnQoKTtcblxuICAgICAgICAgICAgICAgIC8vIEhhc2ggbGlua2VkIG5laWdoYm9ycyBmb3IgZWFzeSBob3ZlcmluZyBlZmZlY3RzLlxuICAgICAgICAgICAgICAgIC8vIFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS84NzgwMjc3XG4gICAgICAgICAgICAgICAgdmFyIGxpbmtlZEJ5SW5kZXggPSB7fTtcbiAgICAgICAgICAgICAgICBfLmZvckVhY2gobGlua3MsIGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaChsWzBdLCBmdW5jdGlvbiAoY29ubmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGNvbm5lY3Rpb24uX19kYXRhX18uc291cmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGNvbm5lY3Rpb24uX19kYXRhX18udGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlua2VkQnlJbmRleFtzb3VyY2UuaW5kZXggKyAnLCcgKyB0YXJnZXQuaW5kZXhdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmtlZEJ5SW5kZXhbdGFyZ2V0LmluZGV4ICsgJywnICsgc291cmNlLmluZGV4XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdmFyIG5laWdoYm9yaW5nID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpbmtlZEJ5SW5kZXhbYS5pbmRleCArICcsJyArIGIuaW5kZXhdIHx8IGEuaW5kZXggPT09IGIuaW5kZXg7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBmb2N1c25laWdoYm9ycyA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXBwbHkgJ3VuZm9jdXNlZCcgY2xhc3MgdG8gYWxsIG5vbi1uZWlnaGJvcnMuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5ICdmb2N1c2VkJyBjbGFzcyB0byBhbGwgbmVpZ2hib3JzLlxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBTZWUgaWYgaXQgY2FuIGJlIGRvbmUgd2l0aCBqdXN0IG9uZSBjbGFzcyBhbmQgOm5vdCguZm9jdXNlZCkgQ1NTIHNlbGVjdG9ycy5cbiAgICAgICAgICAgICAgICAgICAgbm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2ZvY3VzZWQnLCBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZWlnaGJvcmluZyhlbnRpdHksIG4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCd1bmZvY3VzZWQnLCBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhbmVpZ2hib3JpbmcoZW50aXR5LCBuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaChsaW5rcywgZnVuY3Rpb24gKGxpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgnZm9jdXNlZCcsIGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRpdHkuaW5kZXggPT09IG8uc291cmNlLmluZGV4IHx8IGVudGl0eS5pbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPT09IG8udGFyZ2V0LmluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ3VuZm9jdXNlZCcsIGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhKGVudGl0eS5pbmRleCA9PT0gby5zb3VyY2UuaW5kZXggfHwgZW50aXR5LmluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID09PSBvLnRhcmdldC5pbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgZm9jdXMgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY3VycmVudEVudGl0eSAhPT0gZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2V0RW50aXR5KGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgICAgICBmb2N1c25laWdoYm9ycyhlbnRpdHkpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgdW5mb2N1cyA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy92YXIgdHJhbnNpdGlvbmRlbGF5ID0gNzU7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdmb2N1c2VkJywgZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBfLmZvckVhY2gobGlua3MsIGZ1bmN0aW9uIChsaW5rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2ZvY3VzZWQnLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LmZpeGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlc3RhcnQgZDMgYW5pbWF0aW9ucy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2UucmVzdW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy9UT0RPOiBTaG93IGdlbmVyaWMgZGV0YWlscyBhbmQgbm90IGluZGl2aWR1YWwgZW50aXR5IGRldGFpbHM/XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgaG92ZXJUaW1lcjtcbiAgICAgICAgICAgICAgICB2YXIgaG92ZXIgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ICYmICEkc2NvcGUuZWRpdGluZyAmJiAhJHNjb3BlLmN1cnJlbnRMb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG92ZXJUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hY3Rpb25zLmludGVyYWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgdW5ob3ZlciA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgJiYgISRzY29wZS5jdXJyZW50TG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZm9jdXMoZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChob3ZlclRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIGZvY3VzTG9jYXRpb24gPSBmdW5jdGlvbiAobG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gIElmIHRoZSBjdXJyZW50IGVudGl0eSBpcyBzaG93biBhbmQgaXQgZG9lc24ndCBtYXRjaCB0aGUgY2xpY2tlZCBub2RlLCB0aGVuIHNldFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbmV3IG5vZGUgdG8gY2xpY2tlZC5cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIG5vZGUuY2xhc3NlZCgnZm9jdXNlZCcsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbi5uYW1lIGluIGxvY2F0aW9uLmRpY3Q7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIShuLm5hbWUgaW4gbG9jYXRpb24uZGljdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBfLmZvckVhY2gobGlua3MsIGZ1bmN0aW9uIChsaW5rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2ZvY3VzZWQnLCBmdW5jdGlvbiAobykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG8uc291cmNlLm5hbWUgaW4gbG9jYXRpb24uZGljdCAmJiBvLnRhcmdldC5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIGxvY2F0aW9uLmRpY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ3VuZm9jdXNlZCcsIGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhKG8uc291cmNlLm5hbWUgaW4gbG9jYXRpb24uZGljdCkgfHwgIShvLnRhcmdldC5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiBsb2NhdGlvbi5kaWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciB1bmZvY3VzTG9jYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdmb2N1c2VkJywgZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBfLmZvckVhY2gobGlua3MsIGZ1bmN0aW9uIChsaW5rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2ZvY3VzZWQnLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2UucmVzdW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIGhpZ2hsaWdodExvY2F0aW9uID0gZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93TGljZW5zZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1bmZvY3VzKCRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uICE9PSBsb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5mb2N1c0xvY2F0aW9uKCRzY29wZS5jbGlja2VkTG9jYXRpb24ubG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXNMb2NhdGlvbihsb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGQzLmV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkMy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIGNsaWNrID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xpY2Vuc2UgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNEZWYoJHNjb3BlLmNsaWNrZWRMb2NhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0RlZigkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZm9jdXNMb2NhdGlvbigkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgSWYgdGhlIHByZXZpb3VzIG5vZGUgaXMgZXF1YWwgdG8gdGhlIG5ldyBub2RlLCBkbyBub3RoaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSA9PT0gZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBVbmZvY3VzIG9uIHByZXZpb3VzIG5vZGUgYW5kIGZvY3VzIG9uIG5ldyBub2RlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5mb2N1cygkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPSBlbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXMoZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFN0b3AgZXZlbnQgc28gd2UgZG9uJ3QgZGV0ZWN0IGEgY2xpY2sgb24gdGhlIGJhY2tncm91bmQuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8yMjk0MTc5NlxuICAgICAgICAgICAgICAgICAgICBpZiAoZDMuZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQzLmV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hY3Rpb25zLmludGVyYWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBiYWNrZ3JvdW5kY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0RlZigkc2NvcGUuY2xpY2tlZExvY2F0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRGVmKCRzY29wZS5jbGlja2VkTG9jYXRpb24ubG9jYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5mb2N1cygkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0RlZigkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5mb2N1cygkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgICAgICAvL1RPRE86IFNob3cgZ2VuZXJpYyBkZXRhaWxzIGFuZCBub3QgaW5kaXZpZHVhbCBlbnRpdHkgZGV0YWlscy5cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBkYmxjbGljayA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlbnRpdHkuZml4ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS54ID0gd2lkdGggLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LnkgPSBoZWlnaHQgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LnB4ID0gd2lkdGggLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LnB5ID0gaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS5maXhlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPSBlbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1bmZvY3VzKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgbm9kZS5vbignbW91c2VvdmVyJywgaG92ZXIpO1xuICAgICAgICAgICAgICAgIG5vZGUub24oJ21vdXNlb3V0JywgdW5ob3Zlcik7XG4gICAgICAgICAgICAgICAgbm9kZS5vbignY2xpY2snLCBjbGljayk7XG4gICAgICAgICAgICAgICAgbm9kZS5vbignZGJsY2xpY2snLCBkYmxjbGljayk7XG4gICAgICAgICAgICAgICAgc3ZnLm9uKCdjbGljaycsIGJhY2tncm91bmRjbGljayk7XG5cbiAgICAgICAgICAgICAgICBub2RlXG4gICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCd3ZWxsY29ubmVjdGVkJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmhhc093blByb3BlcnR5KCd3ZWxsY29ubmVjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRvbignY2hhbmdlU2l6ZUJ5JywgZnVuY3Rpb24gKGV2ZW50LCBzaXplQnkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnY2lyY2xlJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbigyNTApXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigncicsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRbc2l6ZUJ5XSA/IHNjYWxlW3NpemVCeV0oZFtzaXplQnldKSA6IGRlZmF1bHROb2RlU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICRzY29wZS4kb24oJ3RvZ2dsZUxpbmsnLCBmdW5jdGlvbiAoZXZlbnQsIGxpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbGlua3NbbGluay5uYW1lXVxuICAgICAgICAgICAgICAgICAgICAvLyAuY2xhc3NlZCh7J3Zpc2libGUnOiBsaW5rLmVuYWJsZWQsICdoaWRkZW4nOiAhbGluay5lbmFibGVkfSk7XG4gICAgICAgICAgICAgICAgICAgIF8ubWFwKCRzY29wZS5lbnRpdHlUeXBlcywgZnVuY3Rpb24gKHZhbCwga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCcuJyArIGtleSArICctbGluaycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmlzaWJsZSc6IGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb25uZWN0aW9uVHlwZSBlbmFibGVkLCBjb25uZWN0aW9uIHNvdXJjZSBlbnRpdHkgdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXMgZW5hYmxlZCwgY29ubmVjdGlvbiB0YXJnZXQgZW50aXR5IHR5cGUgaXMgZW5hYmxlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhJHNjb3BlLmNvbm5lY3Rpb25UeXBlc1tsLnR5cGVdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKCRzY29wZS5lbnRpdHlUeXBlc1tsLnNvdXJjZS50eXBlXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICRzY29wZS5lbnRpdHlUeXBlc1tsLnRhcmdldC50eXBlXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoaWRkZW4nOiBmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgYW55IG9mIENvbm5lY3Rpb25UeXBlLCBzb3VyY2UgZW50aXR5IHR5cGUsIG9yIHRhcmdldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW50aXR5IHR5cGUgYXJlIGRpc2FibGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEkc2NvcGUuY29ubmVjdGlvblR5cGVzW2wudHlwZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoISRzY29wZS5lbnRpdHlUeXBlc1tsLnNvdXJjZS50eXBlXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICEkc2NvcGUuZW50aXR5VHlwZXNbbC50YXJnZXQudHlwZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLiRvbigndG9nZ2xlTm9kZScsIGZ1bmN0aW9uIChldmVudCwgdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBzdmdcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZWxlY3RBbGwoJy4nICsgdHlwZS5uYW1lICsgJy1ub2RlJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKHsndmlzaWJsZSc6IHR5cGUuZW5hYmxlZCwgJ2hpZGRlbic6ICF0eXBlLmVuYWJsZWR9KTtcblxuICAgICAgICAgICAgICAgICAgICBzdmdcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZWxlY3RBbGwoJy4nICsgdHlwZS5uYW1lICsgJy1saW5rJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmlzaWJsZSc6IGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbm5lY3Rpb25UeXBlIGVuYWJsZWQsIGNvbm5lY3Rpb24gc291cmNlIGVudGl0eSB0eXBlIGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVuYWJsZWQsIGNvbm5lY3Rpb24gdGFyZ2V0IGVudGl0eSB0eXBlIGlzIGVuYWJsZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuY29ubmVjdGlvblR5cGVzW2wudHlwZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICgkc2NvcGUuZW50aXR5VHlwZXNbbC5zb3VyY2UudHlwZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICRzY29wZS5lbnRpdHlUeXBlc1tsLnRhcmdldC50eXBlXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGlkZGVuJzogZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgYW55IG9mIENvbm5lY3Rpb25UeXBlLCBzb3VyY2UgZW50aXR5IHR5cGUsIG9yIHRhcmdldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbnRpdHkgdHlwZSBhcmUgZGlzYWJsZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhJHNjb3BlLmNvbm5lY3Rpb25UeXBlc1tsLnR5cGVdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoISRzY29wZS5lbnRpdHlUeXBlc1tsLnNvdXJjZS50eXBlXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgISRzY29wZS5lbnRpdHlUeXBlc1tsLnRhcmdldC50eXBlXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICRzY29wZS4kb24oJ3NlbGVjdEl0ZW0nLCBmdW5jdGlvbiAoZXZlbnQsIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2xvY2F0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0TG9jYXRpb24oJHNjb3BlLmN1cnJlbnRMb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGljaygkc2NvcGUuY3VycmVudEVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gZHJhd05ldHdvcmtNb2JpbGUoZW50aXR5QXJyYXkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXM6ICRzY29wZS5lbnRpdGllcyxcbiAgICAgICAgICAgICAgICAgICAgbGlua3M6IF8uZmxhdHRlbihfLnZhbHVlcygkc2NvcGUuY29ubmVjdGlvbnMpKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIGNvbG9ycyA9IHtcbiAgICAgICAgICAgICAgICAgICAgJ0dvdmVybm1lbnQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnZm9jdXNlZCc6ICdyZ2JhKDI0MiwgODAsIDM0LCAxKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAndW5mb2N1c2VkJzogJ3JnYmEoMjQyLCA4MCwgMzQsIDAuMSknXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdOb24tUHJvZml0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2ZvY3VzZWQnOiAncmdiYSgzMCwgMTQ0LCAyNTUsIDEpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd1bmZvY3VzZWQnOiAncmdiYSgzMCwgMTQ0LCAyNTUsIDAuMSknXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdGb3ItUHJvZml0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2ZvY3VzZWQnOiAncmdiYSgxMjcsIDE4NiwgMCwgMSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3VuZm9jdXNlZCc6ICdyZ2JhKDEyNywgMTg2LCAwLCAwLjEpJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnSW5kaXZpZHVhbCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdmb2N1c2VkJzogJ3JnYmEoMjU1LCAxNzUsIDQ0LCAxKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAndW5mb2N1c2VkJzogJ3JnYmEoMjU1LCAxNzUsIDQ0LCAwLjEpJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnRnVuZGluZyc6IHsnZm9jdXNlZCc6ICcjRkY3NDYwJywgJ3VuZm9jdXNlZCc6ICcjRTNERkU0J30sXG4gICAgICAgICAgICAgICAgICAgICdEYXRhJzogeydmb2N1c2VkJzogJyM4NEMyRkYnLCAndW5mb2N1c2VkJzogJyNFM0RGRTQnfSxcbiAgICAgICAgICAgICAgICAgICAgJ0VtcGxveW1lbnQnOiB7J2ZvY3VzZWQnOiAnI0VFNzNGRicsICd1bmZvY3VzZWQnOiAnI0UzREZFNCd9LFxuICAgICAgICAgICAgICAgICAgICAnQ29sbGFib3JhdGlvbic6IHsnZm9jdXNlZCc6ICcjRkZEOTU1JywgJ3VuZm9jdXNlZCc6ICcjRTNERkU0J31cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBjYW52YXNGb3JjZSA9ICQoJyNjYW52YXMtZm9yY2UnKSxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBjYW52YXNGb3JjZS53aWR0aCgpLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBjYW52YXNGb3JjZS5oZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRzID0ge1xuICAgICAgICAgICAgICAgICAgICAnR292ZXJubWVudCc6IFstOTAsIC05MCAtIChoZWlnaHQgLyA3KV0sXG4gICAgICAgICAgICAgICAgICAgICdOb24tUHJvZml0JzogWy05MCwgOTAgLSAoaGVpZ2h0IC8gNyldLFxuICAgICAgICAgICAgICAgICAgICAnRm9yLVByb2ZpdCc6IFs5MCwgLTkwIC0gKGhlaWdodCAvIDcpXSxcbiAgICAgICAgICAgICAgICAgICAgJ0luZGl2aWR1YWwnOiBbOTAsIDkwIC0gKGhlaWdodCAvIDcpXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIGlzSW5zaWRlQ2lyY2xlID0gZnVuY3Rpb24gKHgsIHksIGN4LCBjeSwgcmFkaXVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkeCA9IHggLSBjeCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5ID0geSAtIGN5O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHkgPD0gcmFkaXVzICogcmFkaXVzO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIHNjYWxlID0ge1xuICAgICAgICAgICAgICAgICAgICAnZW1wbG95ZWVzJzogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlID4gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5sb2coZSkgLyAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMS41O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnZm9sbG93ZXJzJzogZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmID4gMCAmJiBmIDw9IDUwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChmID4gNTAwICYmIGYgPD0gNTAwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxLjg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChmID4gNTAwMCAmJiBmIDw9IDEwMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChmID4gMTAwMDAgJiYgZiA8PSAyNTAwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAyLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChmID4gMjUwMDAgJiYgZiA8PSA5MDAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGYgPiA5MDAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSBkMy5zZWxlY3QoJ2RpdiNjYW52YXMtZm9yY2UnKS5hcHBlbmQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLm5vZGUoKS5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgICAgIHZhciBkZXZpY2VQaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSxcbiAgICAgICAgICAgICAgICAgICAgYmFja2luZ1N0b3JlUmF0aW8gPSBjb250ZXh0LndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW96QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tc0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQub0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCAxLFxuICAgICAgICAgICAgICAgICAgICByYXRpbyA9IGRldmljZVBpeGVsUmF0aW8gLyBiYWNraW5nU3RvcmVSYXRpbztcblxuICAgICAgICAgICAgICAgIGNhbnZhc1xuICAgICAgICAgICAgICAgICAgICAuYXR0cignd2lkdGgnLCB3aWR0aCAqIHJhdGlvKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgaGVpZ2h0ICogcmF0aW8pXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdpZCcsICduZXR3b3JrQ2FudmFzJyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgY2FudmFzRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV0d29ya0NhbnZhcycpO1xuXG4gICAgICAgICAgICAgICAgY2FudmFzRWwuc3R5bGUud2lkdGggPSB3aWR0aCArICdweCc7XG4gICAgICAgICAgICAgICAgY2FudmFzRWwuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNjYWxlKHJhdGlvLCByYXRpbyk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgc2NhbGV6b29tID0gMTtcbiAgICAgICAgICAgICAgICAkKCcjbmV0d29ya0NhbnZhcycpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvWCA9IGUub2Zmc2V0WCAvIHNjYWxlem9vbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ZID0gZS5vZmZzZXRZIC8gc2NhbGV6b29tO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xpY2Vuc2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVudGl0eUZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEubm9kZXMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGsgPSBzY2FsZVskc2NvcGUuc2l6ZUJ5XShkWyRzY29wZS5zaXplQnldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0luc2lkZUNpcmNsZShvWCwgb1ksIGQueCArIG9mZnNldHNbZC50eXBlXVswXSwgZC55ICsgb2Zmc2V0c1tkLnR5cGVdWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA0LjUgKiBrKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5oeWRlUGFydGlhbHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ3NldEN1cnJlbnRFbnRpdHknLCB7dmFsdWU6IGR9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHlGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNldEVudGl0eShkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPSBkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzKGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlbnRpdHlGb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdzZXRDdXJyZW50TG9jYXRpb24nLCB7dmFsdWU6IG51bGx9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnc2V0Q3VycmVudEVudGl0eScsIHt2YWx1ZTogbnVsbH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcbiAgICAgICAgICAgICAgICAgICAgJChcIiNkZXRhaWxzLXBhbmVsXCIpLnNjcm9sbFRvcCgwKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHZhciBpbml0aWFsTG9hZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIGRyYXdPblRvcCA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBhbGxOb2RlcyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBzaG93RW50aXRpZXM7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm5vZGVzXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gZmlsdGVyRW50aXR5KGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0RlZihlbnRpdHlBcnJheS5maW5kKGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHYuaWQgPT09IGUuaWQ7IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY3VycmVudExvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkLm5hbWUgaW4gJHNjb3BlLmN1cnJlbnRMb2NhdGlvbi5kaWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3T25Ub3AucHVzaChkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghJHNjb3BlLmN1cnJlbnRFbnRpdHkgfHwgc2hvd0VudGl0aWVzW2QuaWRdIHx8IGQgPT09ICRzY29wZS5jdXJyZW50RW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY3VycmVudEVudGl0eSB8fCBkLndlbGxjb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdPblRvcC5wdXNoKGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsTm9kZXMucHVzaChkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGRhdGEubm9kZXMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRGVmKGVudGl0eUFycmF5W2QudHlwZV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jdXJyZW50TG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkLm5hbWUgaW4gJHNjb3BlLmN1cnJlbnRMb2NhdGlvbi5kaWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd09uVG9wLnB1c2goZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoISRzY29wZS5jdXJyZW50RW50aXR5IHx8IHNob3dFbnRpdGllc1tkLmlkXSB8fCBkID09PSAkc2NvcGUuY3VycmVudEVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jdXJyZW50RW50aXR5IHx8IGQud2VsbGNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdPblRvcC5wdXNoKGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsTm9kZXMucHVzaChkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgYWxsTm9kZXMgPSBhbGxOb2Rlcy5jb25jYXQoZHJhd09uVG9wKTtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB0aWNrKCkge1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBkcmF3RW50aXR5TmFtZShkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgayA9IHNjYWxlWyRzY29wZS5zaXplQnldKGRbJHNjb3BlLnNpemVCeV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBkLm5pY2tuYW1lID8gZC5uaWNrbmFtZSA6IGQubmFtZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICcjMzMzMzMzJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZm9udCA9ICdsaWdodGVyIDExcHggU2Vnb2UgVUksIEhlbHZldGljYU5ldWUtTGlnaHQsIHNhbnMtc2VyaWYtbGlnaHQsIHNhbnMtc2VyaWYnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVRleHQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCg0LjUgKiBrLCBNYXRoLm1pbih3aWR0aCAtIDQuNSAqIGssIGQueCArIG9mZnNldHNbZC50eXBlXVswXSkpIC0gbmFtZS5sZW5ndGggKiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KDQuNSAqIGssIE1hdGgubWluKGhlaWdodCAtIDQuNSAqIGssIGQueSArIG9mZnNldHNbZC50eXBlXVsxXSkpICsgMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMTAwXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHBpbmNoWm9vbTtcblxuICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgPiA3MCAmJiBpbml0aWFsTG9hZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbExvYWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpbmNoWm9vbSA9IG5ldyBSVFAuUGluY2hab29tKCQoJyNuZXR3b3JrQ2FudmFzJyksIHt9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgc2hvd0VudGl0aWVzID0ge307XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRHJhdyBsaW5rcy5cbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICcjY2NjJztcbiAgICAgICAgICAgICAgICAgICAgXy5mb3JFYWNoKCRzY29wZS5jb25uZWN0aW9ucywgZnVuY3Rpb24gKGNvbm5lY3Rpb25zLCB0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzQ29uVHlwZURlZmluZWQgPSBpc0RlZigkc2NvcGUuY29ubmVjdGlvblR5cGVzW3R5cGVdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNFbnRpdHlUYXJnZXRUeXBlRGVmaW5lZCA9IGlzRGVmKCRzY29wZS5lbnRpdHlUeXBlc1tkLnRhcmdldC50eXBlXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRW50aXR5U291cmNlVHlwZURlZmluZWQgPSBpc0RlZigkc2NvcGUuZW50aXR5VHlwZXNbZC5zb3VyY2UudHlwZV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoaXNDb25UeXBlRGVmaW5lZCAmJiBpc0VudGl0eVRhcmdldFR5cGVEZWZpbmVkICYmIGlzRW50aXR5U291cmNlVHlwZURlZmluZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNEZWYoJHNjb3BlLmN1cnJlbnRMb2NhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQuc291cmNlLm5hbWUgaW4gJHNjb3BlLmN1cnJlbnRMb2NhdGlvbi5kaWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBkLnRhcmdldC5uYW1lIGluICRzY29wZS5jdXJyZW50TG9jYXRpb24uZGljdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIE1vZGlmaWNhdGlvbiAtIEJvdW5kYXJpZXMgICAgICB2YXIgayA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzY2FsZVskc2NvcGUuc2l6ZUJ5XShkWyRzY29wZS5zaXplQnldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGsgPSBzY2FsZVskc2NvcGUuc2l6ZUJ5XSgoZC5zb3VyY2UpWyRzY29wZS5zaXplQnldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA0LjUgKiBrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbih3aWR0aCAtIDQuNSAqIGssIGQuc291cmNlLnggKyBvZmZzZXRzW2Quc291cmNlLnR5cGVdWzBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQuNSAqIGssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKGhlaWdodCAtIDQuNSAqIGssIGQuc291cmNlLnkgKyBvZmZzZXRzW2Quc291cmNlLnR5cGVdWzFdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNC41ICogayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4od2lkdGggLSA0LjUgKiBrLCBkLnRhcmdldC54ICsgb2Zmc2V0c1tkLnRhcmdldC50eXBlXVswXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA0LjUgKiBrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihoZWlnaHQgLSA0LjUgKiBrLCBkLnRhcmdldC55ICsgb2Zmc2V0c1tkLnRhcmdldC50eXBlXVsxXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gY29sb3JzW3R5cGVdWydmb2N1c2VkJ107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghaXNEZWYoJHNjb3BlLmN1cnJlbnRFbnRpdHkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGQuc291cmNlID09PSAkc2NvcGUuY3VycmVudEVudGl0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBkLnRhcmdldCA9PT0gJHNjb3BlLmN1cnJlbnRFbnRpdHkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBNb2RpZmljYXRpb24gLSBCb3VuZGFyaWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGsgPSBzY2FsZVskc2NvcGUuc2l6ZUJ5XSgoZC5zb3VyY2UpWyRzY29wZS5zaXplQnldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oTWF0aC5tYXgoNC41ICogaywgTWF0aC5taW4od2lkdGggLSA0LjUgKiBrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQuc291cmNlLnhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIG9mZnNldHNbZC5zb3VyY2UudHlwZV1bMF0pKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KDQuNSAqIGssIE1hdGgubWluKGhlaWdodCAtIDQuNSAqIGssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5zb3VyY2UueVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgb2Zmc2V0c1tkLnNvdXJjZS50eXBlXVsxXSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8oTWF0aC5tYXgoNC41ICogaywgTWF0aC5taW4od2lkdGggLSA0LjUgKiBrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQudGFyZ2V0LnhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIG9mZnNldHNbZC50YXJnZXQudHlwZV1bMF0pKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KDQuNSAqIGssIE1hdGgubWluKGhlaWdodCAtIDQuNSAqIGssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC50YXJnZXQueVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgb2Zmc2V0c1tkLnRhcmdldC50eXBlXVsxXSkpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gY29sb3JzW3R5cGVdWydmb2N1c2VkJ107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFbnRpdGllc1tkLnNvdXJjZS5pZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93RW50aXRpZXNbZC50YXJnZXQuaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGVudGl0eU5hbWVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGFsbE5vZGVzLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHNjb3BlLmVudGl0eVR5cGVzW2QudHlwZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm9jdXM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY3VycmVudExvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQubmFtZSBpbiAkc2NvcGUuY3VycmVudExvY2F0aW9uLmRpY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXMgPSAnZm9jdXNlZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHlOYW1lcy5wdXNoKGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1cyA9ICd1bmZvY3VzZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHNjb3BlLmN1cnJlbnRFbnRpdHkgfHwgc2hvd0VudGl0aWVzW2QuaWRdIHx8IGQgPT09ICRzY29wZS5jdXJyZW50RW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzID0gJ2ZvY3VzZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jdXJyZW50RW50aXR5IHx8IGQud2VsbGNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5TmFtZXMucHVzaChkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1cyA9ICd1bmZvY3VzZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGsgPSBzY2FsZVskc2NvcGUuc2l6ZUJ5XShkWyRzY29wZS5zaXplQnldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yc1tkLnR5cGVdW2ZvY3VzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KDQuNSAqIGssIE1hdGgubWluKHdpZHRoIC0gNC41ICogaywgZC54ICsgb2Zmc2V0c1tkLnR5cGVdWzBdKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoNC41ICogaywgTWF0aC5taW4oaGVpZ2h0IC0gNC41ICogaywgZC55ICsgb2Zmc2V0c1tkLnR5cGVdWzFdKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNC41ICogayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgKiBNYXRoLlBJXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eU5hbWVzLmZvckVhY2goZHJhd0VudGl0eU5hbWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBmb3JjZSA9IGQzLmxheW91dC5mb3JjZSgpXG4gICAgICAgICAgICAgICAgICAgIC5zaXplKFt3aWR0aCwgaGVpZ2h0XSlcbiAgICAgICAgICAgICAgICAgICAgLm5vZGVzKGRhdGEubm9kZXMpXG4gICAgICAgICAgICAgICAgICAgIC5saW5rcyhkYXRhLmxpbmtzKVxuICAgICAgICAgICAgICAgICAgICAub24oXCJ0aWNrXCIsIHRpY2spXG4gICAgICAgICAgICAgICAgICAgIC5jaGFyZ2UoLTIpXG4gICAgICAgICAgICAgICAgICAgIC5saW5rU3RyZW5ndGgoMC4xKVxuICAgICAgICAgICAgICAgICAgICAubGlua0Rpc3RhbmNlKDUwKVxuICAgICAgICAgICAgICAgICAgICAuc3RhcnQoKTtcblxuICAgICAgICAgICAgICAgICRzY29wZS4kb24oJ3RvZ2dsZU5vZGUnLCB0aWNrKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuJG9uKCd0b2dnbGVMaW5rJywgdGljayk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLiRvbignY2hhbmdlU2l6ZUJ5JywgdGljayk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLiRvbignc2VsZWN0SXRlbScsIGZ1bmN0aW9uIChldmVudCwgaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbG9jYXRpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uID0gJHNjb3BlLmN1cnJlbnRMb2NhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnc2V0Q3VycmVudEVudGl0eScsIHt2YWx1ZTogbnVsbH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gJHNjb3BlLmN1cnJlbnRFbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ3NldEN1cnJlbnRMb2NhdGlvbicsIHt2YWx1ZTogbnVsbH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hY3Rpb25zLmludGVyYWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XG4gICAgICAgICAgICAgICAgICAgIHRpY2soKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChcImRhdGFcIiwgbG9hZERhdGEsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFwicmVzdHJpY3RcIjogXCJFQVwiLFxuICAgICAgICAgICAgXCJzY29wZVwiOiB7XG4gICAgICAgICAgICAgICAgXCJkYXRhXCI6IFwiPVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJsaW5rXCI6IGxpbmtGdW5jdGlvblxuICAgICAgICB9O1xuICAgIH1cblxuICAgIERpcmVjdGl2ZS4kaW5qZWN0ID0gW1xuICAgICAgICBcIl9cIixcbiAgICAgICAgXCJDaXZpY0dyYXBoU2VydmljZVwiXG4gICAgXTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdtc2NnLm5ldHdvcmsuZ3JhcGgnKVxuICAgICAgICAuZGlyZWN0aXZlKFwibXNjZ05ldHdvcmtHcmFwaFwiLCBEaXJlY3RpdmUpO1xuXG59KShhbmd1bGFyLCBkMyk7IiwiKGZ1bmN0aW9uIChhbmd1bGFyLCBSVFApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBkZXBlbmRlbmNpZXMgPSBbXG4gICAgICAgICckc2NvcGUnLFxuICAgICAgICAnXycsXG4gICAgICAgICdjb25uZWN0aW9uU2VydmljZScsXG4gICAgICAgIENvbnRyb2xsZXJcbiAgICBdO1xuXG4gICAgZnVuY3Rpb24gaXNEZWYobykge1xuICAgICAgICByZXR1cm4gbyAhPT0gdW5kZWZpbmVkICYmIG8gIT09IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNPYmoobykge1xuICAgICAgICByZXR1cm4gaXNEZWYobykgJiYgKHR5cGVvZiBvID09PSBcIm9iamVjdFwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBDb250cm9sbGVyKCRzY29wZSwgXywgY29ubmVjdGlvblNlcnZpY2UpIHtcbiAgICAgICAgYWN0aXZhdGUoKTtcblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICAgICRzY29wZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgJHNjb3BlLmNvbm5lY3Rpb25zID0ge307XG5cbiAgICAgICAgICAgIC8vIFNlZSBodHRwczovL2NvZGVyd2FsbC5jb20vcC9uZ2lzbWEvc2FmZS1hcHBseS1pbi1hbmd1bGFyLWpzXG4gICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5ID0gc2FmZUFwcGx5O1xuXG4gICAgICAgICAgICAkc2NvcGUuJG9uKCdlbnRpdGllc0xvYWRlZCcsIGVudGl0aWVzTG9hZGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGVudGl0aWVzTG9hZGVkKCkge1xuICAgICAgICAgICAgY29ubmVjdGlvblNlcnZpY2UuZ2V0RnJvbUFQSSgpLnRoZW4ocGFyc2VDb25uZWN0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBwYXJzZUNvbm5lY3Rpb25zKGRhdGEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLmVudGl0aWVzKTtcbiAgICAgICAgICAgIGlmICghaXNPYmooZGF0YS5jb25uZWN0aW9ucykgfHwgIUFycmF5LmlzQXJyYXkoJHNjb3BlLmVudGl0aWVzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlRmlsdGVyZWRDb25uZWN0aW9ucyhlLCB0KSB7XG4gICAgICAgICAgICAgICAgZVt0XSA9IFtdO1xuICAgICAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBmaWx0ZXJNaW5Db25uZWN0aW9ucyhlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZW50aXR5LmNvbGxhYm9yYXRpb25zLmxlbmd0aCA+PSAkc2NvcGUubWluQ29ubmVjdGlvbnM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjb25uZWN0aW9uS2V5cyA9IE9iamVjdC5rZXlzKGRhdGEuY29ubmVjdGlvbnMpO1xuXG4gICAgICAgICAgICB2YXIgZmlsdGVyZWRFbnRpdGllcyA9ICRzY29wZS5lbnRpdGllcy5maWx0ZXIoZmlsdGVyTWluQ29ubmVjdGlvbnMpO1xuICAgICAgICAgICAgdmFyIGZpbHRlcmVkQ29ubmVjdGlvbnMgPSBjb25uZWN0aW9uS2V5cy5yZWR1Y2VSaWdodChjcmVhdGVGaWx0ZXJlZENvbm5lY3Rpb25zLCB7fSk7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IENvbnZlcnQgdGhpcyBpbnRvIGEgZmxhdE1hcCB0aGF0IGNyZWF0ZXMgZmlsdGVyZWQgY29ubmVjdGlvbnNcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZpcnN0TGF5ZXIoY29ubmVjdGlvblR5cGVPYmplY3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29ubmVjdGlvbnMgPSBjb25uZWN0aW9uVHlwZU9iamVjdC5jb25uZWN0aW9ucztcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGNvbm5lY3Rpb25UeXBlT2JqZWN0LnR5cGU7XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBmaW5kU291cmNlVGFyZ2V0RW50aXRpZXMoY29ubmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJzb3VyY2VcIjogXy5maW5kKGZpbHRlcmVkRW50aXRpZXMsIHsnaWQnOiBjb25uZWN0aW9uLnNvdXJjZX0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0YXJnZXRcIjogXy5maW5kKGZpbHRlcmVkRW50aXRpZXMsIHsnaWQnOiBjb25uZWN0aW9uLnRhcmdldH0pXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZmlsdGVyTm9uRXhpc3RlbnRFbnRpdGllcyhzb3VyY2VUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzRGVmKHNvdXJjZVRhcmdldC5zb3VyY2UpICYmIGlzRGVmKHNvdXJjZVRhcmdldC50YXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZmluZFNvdXJjZVRhcmdldEVudGl0aWVzKVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZpbHRlck5vbkV4aXN0ZW50RW50aXRpZXMpXG4gICAgICAgICAgICAgICAgICAgIC5yZWR1Y2VSaWdodChmdW5jdGlvbiAob2JqLCBzb3VyY2VUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ialt0eXBlXS5wdXNoKHNvdXJjZVRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgICAgICAgICAgICB9LCBmaWx0ZXJlZENvbm5lY3Rpb25zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gbWFwS2V5VG9WYWx1ZShrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcInR5cGVcIjogaywgXCJjb25uZWN0aW9uc1wiOiBkYXRhLmNvbm5lY3Rpb25zW2tdfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHR5cGVDb25uZWN0aW9uT2JqID0gY29ubmVjdGlvbktleXMubWFwKG1hcEtleVRvVmFsdWUpO1xuXG5cbiAgICAgICAgICAgIHR5cGVDb25uZWN0aW9uT2JqLmZvckVhY2goZmlyc3RMYXllcik7XG5cblxuICAgICAgICAgICAgLy8gT25seSBzaG93IGxhYmVscyBvbiB0b3AgNSBtb3N0IGNvbm5lY3RlZCBlbnRpdGllcyBpbml0aWFsbHkuXG4gICAgICAgICAgICBfLmZvckVhY2goXy5rZXlzKCRzY29wZS5lbnRpdHlUeXBlcyksIGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgdG9wIDUgbW9zdC1jb25uZWN0ZWQgZW50aXRpZXMuXG4gICAgICAgICAgICAgICAgdmFyIHRvcDUgPSBfLnRha2VSaWdodChfLnNvcnRCeShfLmZpbHRlcigkc2NvcGUuZW50aXRpZXMsIHsndHlwZSc6IHR5cGV9KSxcbiAgICAgICAgICAgICAgICAgICAgJ2NvbGxhYm9yYXRpb25zLmxlbmd0aCcpLCA1KTtcbiAgICAgICAgICAgICAgICBfLmZvckVhY2godG9wNSwgZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkud2VsbGNvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZmlsdGVyZWRFbnRpdGllcyA9IF8uc29ydEJ5KGZpbHRlcmVkRW50aXRpZXMsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChlLndlbGxjb25uZWN0ZWQpID8gMSA6IDA7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gdmFyIGRyYXdGdW5jID0gKCRzY29wZS5tb2JpbGUgPyBkcmF3TmV0d29ya01vYmlsZSA6IGRyYXdOZXR3b3JrKTtcbiAgICAgICAgICAgIC8vICRzY29wZS5pc0xvYWRpbmcgPSBkcmF3RnVuYyhmaWx0ZXJlZEVudGl0aWVzLCBmaWx0ZXJlZENvbm5lY3Rpb25zKTtcbiAgICAgICAgICAgICRzY29wZS5lbnRpdGllc0FuZENvbm5lY3Rpb25zID0ge1wiZW50aXR5QXJyYXlcIjogZmlsdGVyZWRFbnRpdGllcywgXCJjb25uZWN0aW9uQXJyYXlcIjogZmlsdGVyZWRDb25uZWN0aW9uc307XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNob3VsZCBiZSByZWZyZXNoaW5nIGRpcmVjdGl2ZSBub3dcIik7XG4gICAgICAgICAgICAkc2NvcGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzYWZlQXBwbHkoZm4pIHtcbiAgICAgICAgICAgIHZhciBwaGFzZSA9IHRoaXMuJHJvb3QuJCRwaGFzZTtcbiAgICAgICAgICAgIGlmIChwaGFzZSA9PT0gJyRhcHBseScgfHwgcGhhc2UgPT09ICckZGlnZXN0Jykge1xuICAgICAgICAgICAgICAgIGlmIChmbiAmJiAodHlwZW9mKGZuKSA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuJGFwcGx5KGZuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdtc2NnLm5ldHdvcmsuZ3JhcGgnKVxuICAgICAgICAuY29udHJvbGxlcignbmV0d29ya0N0cmwnLCBkZXBlbmRlbmNpZXMpO1xuXG59KShhbmd1bGFyLCBSVFApO1xuIiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIHZhciBkZXBlbmRlbmN5TGlzdCA9IFtcbiAgICAgICAgRmFjdG9yeVxuICAgIF07XG5cbiAgICBmdW5jdGlvbiBGYWN0b3J5KCkge1xuXG5cblxuICAgICAgICBmdW5jdGlvbiBOZXR3b3JrU2VydmljZSgpIHtcbiAgICAgICAgfVxuXG5cblxuICAgICAgICBmdW5jdGlvbiBnZXRJbnN0YW5jZShvKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE5ldHdvcmtTZXJ2aWNlKG8pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFwiZ2V0SW5zdGFuY2VcIjogZ2V0SW5zdGFuY2VcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnbXNjZy5uZXR3b3JrLmdyYXBoJylcbiAgICAgICAgLmZhY3RvcnkoJ01TQ0dOZXR3b3JrU2VydmljZScsIGRlcGVuZGVuY3lMaXN0KTtcblxufSkoYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGZ1bmN0aW9uIG92ZXJ2aWV3Q3RybCgkc2NvcGUsIF8pIHtcbiAgICAgICAgJHNjb3BlLmNhdGVnb3JpemVkRW50aXRpZXMgPSB7fTtcbiAgICAgICAgXy5mb3JFYWNoKF8ua2V5cygkc2NvcGUuZW50aXR5VHlwZXMpLCBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgJHNjb3BlLmNhdGVnb3JpemVkRW50aXRpZXNbdHlwZV0gPSBfLmZpbHRlcigkc2NvcGUuZW50aXRpZXMsIHsndHlwZSc6IHR5cGV9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ292ZXJ2aWV3Q3RybCcsIFsnJHNjb3BlJywgJ18nLCBvdmVydmlld0N0cmxdKTtcbn0pKGFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA3LzEvMTYuXG4gKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBmdW5jdGlvbiBhbmFseXRpY3NDdHJsKCRzY29wZSkge1xuXG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2FuYWx5dGljc0N0cmwnLCBbJyRzY29wZScsIGFuYWx5dGljc0N0cmxdKTtcbn0pKGFuZ3VsYXIpOyIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZnVuY3Rpb24gZGV0YWlsc0N0cmwoJHNjb3BlLCBfKSB7XG4gICAgICAgICRzY29wZS5pdGVtc1Nob3duRGVmYXVsdCA9IHtcbiAgICAgICAgICAgICdrZXlfcGVvcGxlJzogMyxcbiAgICAgICAgICAgICdncmFudHNfZ2l2ZW4nOiAzLFxuICAgICAgICAgICAgJ2dyYW50c19yZWNlaXZlZCc6IDMsXG4gICAgICAgICAgICAnaW52ZXN0bWVudHNfbWFkZSc6IDMsXG4gICAgICAgICAgICAnaW52ZXN0bWVudHNfcmVjZWl2ZWQnOiAzLFxuICAgICAgICAgICAgJ2NvbGxhYm9yYXRpb25zJzogMyxcbiAgICAgICAgICAgICdlbXBsb3ltZW50cyc6IDMsXG4gICAgICAgICAgICAncmVsYXRpb25zJzogMyxcbiAgICAgICAgICAgICdkYXRhX2dpdmVuJzogMyxcbiAgICAgICAgICAgICdkYXRhX3JlY2VpdmVkJzogMyxcbiAgICAgICAgICAgICdyZXZlbnVlcyc6IDMsXG4gICAgICAgICAgICAnZXhwZW5zZXMnOiAzXG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLml0ZW1zU2hvd24gPSBfLmNsb25lKCRzY29wZS5pdGVtc1Nob3duRGVmYXVsdCk7XG5cbiAgICAgICAgJHNjb3BlLiRvbignZW50aXR5Q2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gUmVzZXQgaXRlbXMgc2hvd24gaW4gZGV0YWlscyBsaXN0LlxuICAgICAgICAgICAgJHNjb3BlLml0ZW1zU2hvd24gPSBfLmNsb25lKCRzY29wZS5pdGVtc1Nob3duRGVmYXVsdCk7XG4gICAgICAgIH0pO1xuICAgICAgICAkc2NvcGUuc2hvd01vcmUgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgJHNjb3BlLml0ZW1zU2hvd25bdHlwZV0gPSAkc2NvcGUuY3VycmVudEVudGl0eVt0eXBlXS5sZW5ndGg7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5zaG93TGVzcyA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAkc2NvcGUuaXRlbXNTaG93blt0eXBlXSA9ICRzY29wZS5pdGVtc1Nob3duRGVmYXVsdFt0eXBlXTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuY29udHJvbGxlcignZGV0YWlsc0N0cmwnLCBbJyRzY29wZScsIFwiX1wiLCBkZXRhaWxzQ3RybF0pO1xufSkoYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBlZGl0Q29udHJvbGxlckRlcHMgPSBbXG4gICAgICAgICckc2NvcGUnLFxuICAgICAgICAnJGh0dHAnLFxuICAgICAgICAnJHRpbWVvdXQnLFxuICAgICAgICAnXycsXG4gICAgICAgICdlbnRpdHlTZXJ2aWNlJyxcbiAgICAgICAgJ2xvY2F0aW9uU2VydmljZScsXG4gICAgICAgICdjb25maWcnLFxuICAgICAgICBlZGl0Q3RybFxuICAgIF07XG5cbiAgICBmdW5jdGlvbiBpc0RlZihvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAhPT0gdW5kZWZpbmVkICYmIG9iaiAhPT0gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlZGl0Q3RybCgkc2NvcGUsICRodHRwLCAkdGltZW91dCwgXywgZW50aXR5U2VydmljZSwgbG9jYXRpb25TZXJ2aWNlLCBjb25maWcpIHtcbiAgICAgICAgJHNjb3BlLmlzRWRpdGluZyA9IGZhbHNlO1xuICAgICAgICAkc2NvcGUuZWRpdEVudGl0eSA9IGVudGl0eVNlcnZpY2UuZ2V0RW50aXR5TW9kZWwoJHNjb3BlLmVudGl0eSk7XG4gICAgICAgICRzY29wZS5lbnRpdHlUeXBlcyA9IGVudGl0eVNlcnZpY2UuZ2V0RW50aXR5VHlwZXMoKTtcbiAgICAgICAgJHNjb3BlLmluZmx1ZW5jZVR5cGVzID0gZW50aXR5U2VydmljZS5nZXRJbmZsdWVuY2VUeXBlcygpO1xuXG4gICAgICAgIHZhciBjYXRlZ29yeUJhY2t1cDtcblxuICAgICAgICAkc2NvcGUuY2F0ZWdvcmllcyA9IFtdO1xuXG4gICAgICAgICRzY29wZS5hZGRyZXNzU2VhcmNoID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmpzb25wKCdodHRwczovL2Rldi52aXJ0dWFsZWFydGgubmV0L1JFU1QvdjEvTG9jYXRpb25zJywge1xuICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICBxdWVyeTogc2VhcmNoLFxuICAgICAgICAgICAgICAgICAgICBrZXk6ICdBaTU4NTgxeUMtU3I3bWNGYllUdFVrUzNpeEU3ZjZadUpuYkZKQ1ZJNGhBdFcxWG9ERWVaeWlkUXoyZ0xDQ3lEJyxcbiAgICAgICAgICAgICAgICAgICAgJ2pzb25wJzogJ0pTT05fQ0FMTEJBQ0snLFxuICAgICAgICAgICAgICAgICAgICAnaW5jbHVkZSc6ICdjaXNvMidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNEZWYocmVzcG9uc2UuZGF0YS5yZXNvdXJjZVNldHMpICYmIHJlc3BvbnNlLmRhdGEucmVzb3VyY2VTZXRzLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgICAgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5yZXNvdXJjZVNldHNbMF0ucmVzb3VyY2VzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnRvZ2dsZUNhdGVnb3J5ID0gZnVuY3Rpb24gKGNhdGVnb3J5KSB7XG4gICAgICAgICAgICBpZiAoJHNjb3BlLmVkaXRFbnRpdHkuY2F0ZWdvcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdEVudGl0eS5jYXRlZ29yaWVzLnB1c2goY2F0ZWdvcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjYXRlZ29yeUluZGV4IGluICRzY29wZS5lZGl0RW50aXR5LmNhdGVnb3JpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuZWRpdEVudGl0eS5jYXRlZ29yaWVzLmhhc093blByb3BlcnR5KGNhdGVnb3J5SW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgZW50aXR5Q2F0ZWdvcnkgPSAkc2NvcGUuZWRpdEVudGl0eS5jYXRlZ29yaWVzW2NhdGVnb3J5SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW50aXR5Q2F0ZWdvcnkuaWQgPT09IGNhdGVnb3J5LmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHlDYXRlZ29yeS5lbmFibGVkID0gY2F0ZWdvcnkuZW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVkaXRFbnRpdHkuY2F0ZWdvcmllcy5wdXNoKGNhdGVnb3J5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnNldExvY2F0aW9uID0gZnVuY3Rpb24gKGxvY2F0aW9uLCBpc0xhc3QpIHtcbiAgICAgICAgICAgICRzY29wZS5hZGRyZXNzU2VhcmNoKGxvY2F0aW9uLmZvcm1hdHRlZEFkZHJlc3MpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGFwaUNhbGxSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGFwaUNhbGxSZXN1bHRbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzID0gcmVzdWx0LmFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludCA9IHJlc3VsdC5wb2ludDtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZExvY2F0aW9uKGlzTGFzdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUGFyc2VzIEFQSSBjYWxsIHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5hZGRyZXNzX2xpbmUgPSBpc0RlZihhZGRyZXNzLmFkZHJlc3NMaW5lKSA/IGFkZHJlc3MuYWRkcmVzc0xpbmUgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ubG9jYWxpdHkgPSBpc0RlZihhZGRyZXNzLmxvY2FsaXR5KSA/IGFkZHJlc3MubG9jYWxpdHkgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uZGlzdHJpY3QgPVxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEZWYoYWRkcmVzcy5hZG1pbkRpc3RyaWN0KSA/IGFkZHJlc3MuYWRtaW5EaXN0cmljdCA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5jb3VudHJ5ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRGVmKGFkZHJlc3MuY291bnRyeVJlZ2lvbikgPyBhZGRyZXNzLmNvdW50cnlSZWdpb24gOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5jb3VudHJ5X2NvZGUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEZWYoYWRkcmVzcy5jb3VudHJ5UmVnaW9uSXNvMikgPyBhZGRyZXNzLmNvdW50cnlSZWdpb25Jc28yIDogJyc7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmNvb3JkaW5hdGVzID0gaXNEZWYocG9pbnQuY29vcmRpbmF0ZXMpID8gcG9pbnQuY29vcmRpbmF0ZXMgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5wb3N0YWxfY29kZSA9IGlzRGVmKGFkZHJlc3MucG9zdGFsQ29kZSkgPyBhZGRyZXNzLnBvc3RhbENvZGUgOiBudWxsO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5hZGRMb2NhdGlvbiA9IGZ1bmN0aW9uIChpc0xhc3QpIHtcbiAgICAgICAgICAgIGlmIChpc0xhc3QpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdEVudGl0eS5sb2NhdGlvbnMucHVzaChsb2NhdGlvblNlcnZpY2UuZ2V0TG9jYXRpb25Nb2RlbCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuYWRkS2V5UGVyc29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gQWRkIGJsYW5rIGZpZWxkIHRvIGVkaXQgaWYgdGhlcmUgYXJlIG5vbmUuXG4gICAgICAgICAgICAvLyBXQVRDSCBPVVQhIFRPRE86IElmIHNvbWVvbmUgZGVsZXRlcyBhbiBvbGQgcGVyc29uLCBkZWxldGUgdGhlaXIgaWQgdG9vLlxuICAgICAgICAgICAgLy8gaS5lLiBtYWtlIHN1cmUgb2xkL2NsZWFyZWQgZm9ybSBmaWVsZHMgYXJlbid0IGJlaW5nIGVkaXRlZCBpbnRvIG5ldyBwZW9wbGUuXG4gICAgICAgICAgICBpZiAoIShfLnNvbWUoJHNjb3BlLmVkaXRFbnRpdHkua2V5X3Blb3BsZSwgeyduYW1lJzogJycsICdpZCc6IG51bGx9KSkpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdEVudGl0eS5rZXlfcGVvcGxlLnB1c2goeyduYW1lJzogJycsICdpZCc6IG51bGx9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2V0RnVuZGluZ0Nvbm5lY3Rpb24gPSBmdW5jdGlvbiAoZW50aXR5LCBmdW5kaW5nKSB7XG4gICAgICAgICAgICAvLyBBZGQgb3RoZXIgZW50aXR5J3MgaWQgdG8gdGhpcyBmaW5hbmNlIGNvbm5lY3Rpb24uXG4gICAgICAgICAgICBmdW5kaW5nLmVudGl0eV9pZCA9IGVudGl0eS5pZDtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuYWRkRnVuZGluZ0Nvbm5lY3Rpb24gPSBmdW5jdGlvbiAoZnVuZGluZykge1xuICAgICAgICAgICAgaWYgKCFfLnNvbWUoZnVuZGluZywgeydlbnRpdHknOiAnJ30pKSB7XG4gICAgICAgICAgICAgICAgLy8gTWF5YmUgc2V0IGFtb3VudCB0byAwIGluc3RlYWQgb2YgbnVsbD9cbiAgICAgICAgICAgICAgICBmdW5kaW5nLnB1c2goeydlbnRpdHknOiAnJywgJ2Ftb3VudCc6IG51bGwsICd5ZWFyJzogbnVsbCwgJ2lkJzogbnVsbH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zZXRDb25uZWN0aW9uID0gZnVuY3Rpb24gKGVudGl0eSwgY29ubmVjdGlvbikge1xuICAgICAgICAgICAgY29ubmVjdGlvbi5lbnRpdHlfaWQgPSBlbnRpdHkuaWQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmFkZENvbm5lY3Rpb24gPSBmdW5jdGlvbiAoY29ubmVjdGlvbnMpIHtcbiAgICAgICAgICAgIC8vIEFkZCBhbiBlbXB0eSBjb25uZWN0aW9uIHRvIGVkaXQgaWYgbm9uZSBleGlzdC5cbiAgICAgICAgICAgIGlmICghXy5zb21lKGNvbm5lY3Rpb25zLCB7J2VudGl0eSc6ICcnLCAnaWQnOiBudWxsfSkpIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9ucy5wdXNoKHsnZW50aXR5JzogJycsICdpZCc6IG51bGwsICdkZXRhaWxzJzogbnVsbH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5hZGRGaW5hbmNlID0gZnVuY3Rpb24gKHJlY29yZHMpIHtcbiAgICAgICAgICAgIC8vIEFkZCBuZXcgZmluYW5jZSBmaWVsZCBpZiBhbGwgY3VycmVudCBmaWVsZHMgYXJlIHZhbGlkLlxuICAgICAgICAgICAgaWYgKF8uZXZlcnkocmVjb3JkcywgZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHIuYW1vdW50ID4gMCAmJiByLnllYXIgPiAxNzUwO1xuICAgICAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgcmVjb3Jkcy5wdXNoKHsnYW1vdW50JzogbnVsbCwgJ3llYXInOiBudWxsLCAnaWQnOiBudWxsfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkc2NvcGUuaXNTYXZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLmVkaXRFbnRpdHkuZ2VuZXJhdGVEQk1vZGVsKCkpO1xuXG4gICAgICAgICAgICAkaHR0cC5wb3N0KGNvbmZpZy5hcGlIb3N0ICsgJ2FwaS9zYXZlJywgeydlbnRpdHknOiAkc2NvcGUuZWRpdEVudGl0eS5nZW5lcmF0ZURCTW9kZWwoKX0pXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5pc1NhdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoXCJlZGl0RW50aXR5U3VjY2Vzc1wiLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIENhbGwgdG8gaG9tZUN0cmwncyBwYXJlbnQgc3RvcEVkaXQoKSB0byBjaGFuZ2UgdmlldyBiYWNrIGFuZCBhbnkgb3RoZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gaGlnaC1sZXZlbCBjaGFuZ2VzLlxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsRWRpdCgpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuY2FuY2VsRWRpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuJHdhdGNoKCdlbnRpdHknLCBmdW5jdGlvbiAobmV3VmFsLCBvbGRWYWwpIHtcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmVxdWFscyhuZXdWYWwsIG9sZFZhbCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5lbnRpdHkpO1xuXG4gICAgICAgICAgICAkc2NvcGUuZWRpdEVudGl0eSA9IGVudGl0eVNlcnZpY2UuZ2V0RW50aXR5TW9kZWwobmV3VmFsKTtcbiAgICAgICAgICAgICRzY29wZS5jYXRlZ29yaWVzID0gYW5ndWxhci5jb3B5KGNhdGVnb3J5QmFja3VwKTtcblxuICAgICAgICAgICAgaW5pdENhdGVnb3J5QXJyYXkoKTtcblxuICAgICAgICAgICAgJHNjb3BlLmlzRWRpdGluZyA9IGlzRGVmKCRzY29wZS5lZGl0RW50aXR5LmlkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluaXRpYWxpemVzIGNhdGVnb3J5IGZpZWxkcyB3aXRoIGVudGl0eSB2YWx1ZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIExvb3BzIHRocm91Z2ggY2F0ZWdvcnkgaW4gY2F0ZWdvcmllcyBhbmQgbG9vcHMgdGhyb3VnaCBjYXRlZ29yeSBpbiBlbnRpdHkuIElkZW50aWZpZXNcbiAgICAgICAgICogY2F0ZWdvcmllcyBlbmFibGVkIGluIHRoZSBlbnRpdHkgYW5kIHNldHMgbG9jYWwgZGlzcGxheSBkYXRhLiBUaGlzIGlzIGJlY2F1c2Ugd2UgY3JlYXRlZFxuICAgICAgICAgKiBhIGJhY2t1cCBvZiBlbnRpdHkgZGF0YSBzbyB0aGF0IHRoZSBhcGkgZGF0YSBpcyBub3QgdGFtcGVyZWQgd2l0aCBkaXJlY3RseS5cbiAgICAgICAgICpcbiAgICAgICAgICogVE9ETzogcmVwbGFjZSB3aXRoIGJldHRlciBkYXRhIHN0cnVjdHVyZSBmb3IgY2F0ZWdvcmllcy5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGluaXRDYXRlZ29yeUFycmF5KCkge1xuICAgICAgICAgICAgdmFyIGNhdGVnb3J5LFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5SW5kZXgsXG4gICAgICAgICAgICAgICAgZW50aXR5Q2F0ZWdvcnlJbmRleCxcbiAgICAgICAgICAgICAgICBlbnRpdHlDYXRlZ29yeTtcblxuICAgICAgICAgICAgZm9yIChjYXRlZ29yeUluZGV4IGluICRzY29wZS5jYXRlZ29yaWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuY2F0ZWdvcmllcy5oYXNPd25Qcm9wZXJ0eShjYXRlZ29yeUluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnkgPSAkc2NvcGUuY2F0ZWdvcmllc1tjYXRlZ29yeUluZGV4XTtcbiAgICAgICAgICAgICAgICBmb3IgKGVudGl0eUNhdGVnb3J5SW5kZXggaW4gJHNjb3BlLmVkaXRFbnRpdHkuY2F0ZWdvcmllcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoISRzY29wZS5lZGl0RW50aXR5LmNhdGVnb3JpZXMuaGFzT3duUHJvcGVydHkoZW50aXR5Q2F0ZWdvcnlJbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eUNhdGVnb3J5ID0gJHNjb3BlLmVkaXRFbnRpdHkuY2F0ZWdvcmllc1tlbnRpdHlDYXRlZ29yeUluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhdGVnb3J5LmlkID09PSBlbnRpdHlDYXRlZ29yeS5pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkuZW5hYmxlZCA9IGVudGl0eUNhdGVnb3J5LmVuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXRyaWV2ZSBDYXRlZ29yaWVzIGZyb20gREJcbiAgICAgICAgJGh0dHAuZ2V0KGNvbmZpZy5hcGlIb3N0ICsgJ2FwaS9jYXRlZ29yaWVzJylcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlCYWNrdXAgPSBkYXRhLmNhdGVnb3JpZXM7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlcyBiYWNrdXAgb2YgZGF0YSB1c2luZyBBbmd1bGFyIHRvIHByZXZlbnQgYXBpIGRhdGEgZnJvbSBiZWluZyB0YW1wZXJlZFxuICAgICAgICAgICAgICAgIC8vIGRpcmVjdGx5XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNhdGVnb3JpZXMgPSBhbmd1bGFyLmNvcHkoY2F0ZWdvcnlCYWNrdXApO1xuICAgICAgICAgICAgICAgIC8vICRzY29wZS5jYXRlZ29yaWVzID0gZGF0YS5jYXRlZ29yaWVzO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2VkaXRDdHJsJywgZWRpdENvbnRyb2xsZXJEZXBzKTtcblxufSkoYW5ndWxhcik7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDYvMjgvMTYuXG4gKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgY2F0ZWdvcnlTZXJ2aWNlRGVwZW5kZW5jaWVzID0gW1xuICAgICAgICBDYXRlZ29yeVNlcnZpY2VcbiAgICBdO1xuXG4gICAgZnVuY3Rpb24gQ2F0ZWdvcnlTZXJ2aWNlKCkge1xuXG4gICAgICAgIGZ1bmN0aW9uIGlzRGVmKG8pIHsgcmV0dXJuIG8gIT09IHVuZGVmaW5lZCAmJiBvICE9PSBudWxsOyB9XG5cbiAgICAgICAgZnVuY3Rpb24gQ2F0ZWdvcnkob2JqKSB7XG4gICAgICAgICAgICB2YXIgZGVmT2JqID0gaXNEZWYob2JqKSA/IG9iaiA6IHt9O1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gKGlzRGVmKGRlZk9iai5uYW1lKSA/IGRlZk9iai5uYW1lIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZWQgPSAoaXNEZWYoZGVmT2JqLmVuYWJsZSkgPyBkZWZPYmouZW5hYmxlZCA6IHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pZCA9IChpc0RlZihkZWZPYmouaWQpID8gZGVmT2JqLmlkIDogbnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdldENhdGVnb3J5TW9kZWwgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2F0ZWdvcnkob2JqKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuc2VydmljZSgnY2F0ZWdvcnlTZXJ2aWNlJywgY2F0ZWdvcnlTZXJ2aWNlRGVwZW5kZW5jaWVzKTtcblxufSkoYW5ndWxhcik7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI3LzE2LlxuICovXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBjb25uZWN0aW9uU2VydmljZSA9IFtcbiAgICAgICAgJyRodHRwJyxcbiAgICAgICAgJyRxJyxcbiAgICAgICAgJ2NvbmZpZycsXG4gICAgICAgIENvbm5lY3Rpb25zXG4gICAgXTtcblxuICAgIHZhciBjb25uZWN0aW9uVHlwZXMgPSB7XG4gICAgICAgICdGdW5kaW5nJzogdHJ1ZSxcbiAgICAgICAgJ0RhdGEnOiB0cnVlLFxuICAgICAgICAnRW1wbG95bWVudCc6IHRydWUsXG4gICAgICAgICdDb2xsYWJvcmF0aW9uJzogdHJ1ZVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBpc0RlZihvKSB7XG4gICAgICAgIHJldHVybiBvICE9PSB1bmRlZmluZWQgJiYgbyAhPT0gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBDb25uZWN0aW9ucygkaHR0cCwgJHEsIGNvbmZpZykge1xuICAgICAgICBmdW5jdGlvbiBDb25uZWN0aW9uKG9iaikge1xuICAgICAgICAgICAgdmFyIG9iaklzRGVmID0gaXNEZWYob2JqKTtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5ID0gKG9iaklzRGVmICYmIGlzRGVmKG9iai5lbnRpdHkpID8gb2JqLmVudGl0eSA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5pZCA9IChvYmpJc0RlZiAmJiBpc0RlZihvYmouaWQpID8gb2JqLmlkIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmRldGFpbHMgPSAob2JqSXNEZWYgJiYgaXNEZWYob2JqLmRldGFpbHMpID8gb2JqLmRldGFpbHMgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IChvYmpJc0RlZiAmJiBpc0RlZihvYmoubmFtZSkgPyBvYmoubmFtZTogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmVudGl0eV9pZCA9IChvYmpJc0RlZiAmJiBpc0RlZihvYmouZW50aXR5X2lkKSA/IG9iai5lbnRpdHlfaWQ6IG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0Q29ubmVjdGlvbk1vZGVsKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb25uZWN0aW9uKG9iaik7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRDb25uZWN0aW9uVHlwZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29ubmVjdGlvblR5cGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0RnJvbUFQSSgpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoY29uZmlnLmFwaUhvc3QgKyAnYXBpL2Nvbm5lY3Rpb25zJykudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICAvLyBkZWZlcnJlZC5yZXNvbHZlKFxuICAgICAgICAgICAgLy8gICAgIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgXCJjb25uZWN0aW9uc1wiOiB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBcIkNvbGxhYm9yYXRpb25cIjogW10sXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBcIkRhdGFcIjogW10sXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBcIkVtcGxveW1lbnRcIjogW10sXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBcIkZ1bmRpbmdcIjogW10sXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBcIlJlbGF0aW9uXCI6IFtdXG4gICAgICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAvLyApO1xuICAgICAgICAgICAgLy8gcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgXCJnZXRDb25uZWN0aW9uTW9kZWxcIiA6IGdldENvbm5lY3Rpb25Nb2RlbCxcbiAgICAgICAgICAgIFwiZ2V0Q29ubmVjdGlvblR5cGVzXCIgOiBnZXRDb25uZWN0aW9uVHlwZXMsXG4gICAgICAgICAgICBcImdldEZyb21BUElcIiA6IGdldEZyb21BUElcbiAgICAgICAgfTtcbiAgICB9XG5cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5zZXJ2aWNlKCdjb25uZWN0aW9uU2VydmljZScsIGNvbm5lY3Rpb25TZXJ2aWNlKTtcblxufSkoYW5ndWxhcik7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI3LzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGVudGl0eVNlcnZpY2VEZXBlbmRlbmNpZXMgPSBbXG4gICAgICAgICckaHR0cCcsXG4gICAgICAgICdmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2UnLFxuICAgICAgICAnY29ubmVjdGlvblNlcnZpY2UnLFxuICAgICAgICAnZmluYW5jZVNlcnZpY2UnLFxuICAgICAgICAnbG9jYXRpb25TZXJ2aWNlJyxcbiAgICAgICAgJ2NhdGVnb3J5U2VydmljZScsXG4gICAgICAgICdjb25maWcnLFxuICAgICAgICAnJHEnLFxuICAgICAgICBFbnRpdHlTZXJ2aWNlXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIEVudGl0eVNlcnZpY2UoJGh0dHAsIGZ1bmRpbmdDb25uZWN0aW9uU2VydmljZSwgY29ubmVjdGlvblNlcnZpY2UsIGZpbmFuY2VTZXJ2aWNlLCBsb2NhdGlvblNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeVNlcnZpY2UsIGNvbmZpZywgJHEpIHtcblxuICAgICAgICB2YXIgZW50aXR5VHlwZXMgPSB7XG4gICAgICAgICAgICAnR292ZXJubWVudCc6IHRydWUsXG4gICAgICAgICAgICAnRm9yLVByb2ZpdCc6IHRydWUsXG4gICAgICAgICAgICAnTm9uLVByb2ZpdCc6IHRydWUsXG4gICAgICAgICAgICAnSW5kaXZpZHVhbCc6IHRydWVcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgaW5mbHVlbmNlVHlwZXMgPSBbXG4gICAgICAgICAgICAnTG9jYWwnLFxuICAgICAgICAgICAgJ05hdGlvbmFsJyxcbiAgICAgICAgICAgICdHbG9iYWwnXG4gICAgICAgIF07XG5cbiAgICAgICAgZnVuY3Rpb24gaXNEZWYobykge1xuICAgICAgICAgICAgcmV0dXJuIG8gIT09IHVuZGVmaW5lZCAmJiBvICE9PSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbG9vcEFuZEluaXQobW9kZWxBcnJheSwgaW5pdE1vZGVsRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGlmICghKCBpc0RlZihtb2RlbEFycmF5KSB8fCBhbmd1bGFyLmlzQXJyYXkobW9kZWxBcnJheSkgKSkgcmV0dXJuIFtpbml0TW9kZWxGdW5jdGlvbigpXTtcbiAgICAgICAgICAgIHZhciBhcnJheUluZGV4LFxuICAgICAgICAgICAgICAgIGFycmF5VmFsdWUsXG4gICAgICAgICAgICAgICAgbmV3TW9kZWxBcnJheSA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGFycmF5SW5kZXggaW4gbW9kZWxBcnJheSkge1xuICAgICAgICAgICAgICAgIGlmICghbW9kZWxBcnJheS5oYXNPd25Qcm9wZXJ0eShhcnJheUluZGV4KSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgYXJyYXlWYWx1ZSA9IG1vZGVsQXJyYXlbYXJyYXlJbmRleF07XG5cbiAgICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuaXNPYmplY3QoYXJyYXlWYWx1ZSkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgbmV3TW9kZWxBcnJheS5wdXNoKGluaXRNb2RlbEZ1bmN0aW9uKGFycmF5VmFsdWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld01vZGVsQXJyYXkucHVzaChpbml0TW9kZWxGdW5jdGlvbigpKTtcblxuICAgICAgICAgICAgcmV0dXJuIG5ld01vZGVsQXJyYXk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBFbnRpdHkob2JqKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgZGVmT2JqID0gaXNEZWYob2JqKSA/IG9iaiA6IHt9O1xuICAgICAgICAgICAgLy8gVE9ETzogRG8gYSBsb29wIHRvIGdlbmVyYXRlIHRoZXNlIGxvY2F0aW9ucyBhcyBtb2RlbHMsIGluIG9yZGVyIHRvIHVzZSB0aGUgZnVuY3Rpb25zIGluIG1vZGVsXG4gICAgICAgICAgICAvLyB0aGlzLmxvY2F0aW9ucyA9IChpc0RlZihkZWZPYmoubG9jYXRpb25zKSA/IGRlZk9iai5sb2NhdGlvbnMgOiBbbG9jYXRpb25TZXJ2aWNlLmdldExvY2F0aW9uTW9kZWwoKV0pO1xuICAgICAgICAgICAgLy8gVE9ETzogRG8gdGhpcyBmb3IgZXZlcnkgYXJyYXkgaW4gdGhpcyBtb2RlbFxuICAgICAgICAgICAgdGhpcy5pZCA9IChpc0RlZihkZWZPYmouaWQpID8gZGVmT2JqLmlkIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSAoaXNEZWYoZGVmT2JqLm5hbWUpID8gZGVmT2JqLm5hbWUgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMubG9jYXRpb25zID0gbG9vcEFuZEluaXQoZGVmT2JqLmxvY2F0aW9ucywgbG9jYXRpb25TZXJ2aWNlLmdldExvY2F0aW9uTW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5pbmZsdWVuY2UgPSAoaXNEZWYoZGVmT2JqLmluZmx1ZW5jZSkgPyBkZWZPYmouaW5mbHVlbmNlIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmdyYW50c19yZWNlaXZlZCA9IGxvb3BBbmRJbml0KGRlZk9iai5ncmFudHNfcmVjZWl2ZWQsIGZ1bmRpbmdDb25uZWN0aW9uU2VydmljZS5nZXRGdW5kaW5nQ29ubmVjdGlvbk1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMuaW52ZXN0bWVudHNfcmVjZWl2ZWQgPSBsb29wQW5kSW5pdChkZWZPYmouaW52ZXN0bWVudHNfcmVjZWl2ZWQsIGZ1bmRpbmdDb25uZWN0aW9uU2VydmljZS5nZXRGdW5kaW5nQ29ubmVjdGlvbk1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMuZ3JhbnRzX2dpdmVuID0gbG9vcEFuZEluaXQoZGVmT2JqLmdyYW50c19naXZlbiwgZnVuZGluZ0Nvbm5lY3Rpb25TZXJ2aWNlLmdldEZ1bmRpbmdDb25uZWN0aW9uTW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5pbnZlc3RtZW50c19tYWRlID0gbG9vcEFuZEluaXQoZGVmT2JqLmludmVzdG1lbnRzX21hZGUsIGZ1bmRpbmdDb25uZWN0aW9uU2VydmljZS5nZXRGdW5kaW5nQ29ubmVjdGlvbk1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YV9naXZlbiA9IGxvb3BBbmRJbml0KGRlZk9iai5kYXRhX2dpdmVuLCBjb25uZWN0aW9uU2VydmljZS5nZXRDb25uZWN0aW9uTW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5kYXRhX3JlY2VpdmVkID0gbG9vcEFuZEluaXQoZGVmT2JqLmRhdGFfcmVjZWl2ZWQsIGNvbm5lY3Rpb25TZXJ2aWNlLmdldENvbm5lY3Rpb25Nb2RlbCk7XG4gICAgICAgICAgICB0aGlzLmNvbGxhYm9yYXRpb25zID0gbG9vcEFuZEluaXQoZGVmT2JqLmNvbGxhYm9yYXRpb25zLCBjb25uZWN0aW9uU2VydmljZS5nZXRDb25uZWN0aW9uTW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5rZXlfcGVvcGxlID0gbG9vcEFuZEluaXQoZGVmT2JqLmtleV9wZW9wbGUsIGNvbm5lY3Rpb25TZXJ2aWNlLmdldENvbm5lY3Rpb25Nb2RlbCk7XG4gICAgICAgICAgICB0aGlzLmVtcGxveW1lbnRzID0gbG9vcEFuZEluaXQoZGVmT2JqLmVtcGxveW1lbnRzLCBjb25uZWN0aW9uU2VydmljZS5nZXRDb25uZWN0aW9uTW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5yZXZlbnVlcyA9IGxvb3BBbmRJbml0KGRlZk9iai5yZXZlbnVlcywgZmluYW5jZVNlcnZpY2UuZ2V0RmluYW5jZU1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMuZXhwZW5zZXMgPSBsb29wQW5kSW5pdChkZWZPYmouZXhwZW5zZXMsIGZpbmFuY2VTZXJ2aWNlLmdldEZpbmFuY2VNb2RlbCk7XG4gICAgICAgICAgICB0aGlzLmNhdGVnb3JpZXMgPSBsb29wQW5kSW5pdChkZWZPYmouY2F0ZWdvcmllcywgY2F0ZWdvcnlTZXJ2aWNlLmdldENhdGVnb3J5TW9kZWwpO1xuICAgICAgICAgICAgdGhpcy50eXBlID0gKGlzRGVmKGRlZk9iai50eXBlKSA/IGRlZk9iai50eXBlIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLm5pY2tuYW1lID0gKGlzRGVmKGRlZk9iai5uaWNrbmFtZSkgPyBkZWZPYmoubmlja25hbWUgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMudXJsID0gKGlzRGVmKGRlZk9iai51cmwpID8gZGVmT2JqLnVybCA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy50d2l0dGVyX2hhbmRsZSA9IChpc0RlZihkZWZPYmoudHdpdHRlcl9oYW5kbGUpID8gZGVmT2JqLnR3aXR0ZXJfaGFuZGxlIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmVtcGxveWVlcyA9IChpc0RlZihkZWZPYmouZW1wbG95ZWVzKSA/IGRlZk9iai5lbXBsb3llZXMgOiBudWxsKTtcbiAgICAgICAgICAgIC8vIHRoaXMucmVsYXRpb25zID0gbG9vcEFuZEluaXQoZGVmT2JqLnJlbGF0aW9ucywgY29ubmVjdGlvblNlcnZpY2UuZ2V0Q29ubmVjdGlvbk1vZGVsKTtcblxuXG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlREJNb2RlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGJNb2RlbCA9IG5ldyBFbnRpdHkoc2VsZik7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5sb2NhdGlvbnMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5sb2NhdGlvbnMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5ncmFudHNfcmVjZWl2ZWQucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5ncmFudHNfcmVjZWl2ZWQucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5ncmFudHNfZ2l2ZW4ucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5ncmFudHNfZ2l2ZW4ucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5pbnZlc3RtZW50c19yZWNlaXZlZC5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmludmVzdG1lbnRzX3JlY2VpdmVkLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuaW52ZXN0bWVudHNfbWFkZS5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmludmVzdG1lbnRzX21hZGUucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5kYXRhX2dpdmVuLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZGF0YV9naXZlbi5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmRhdGFfcmVjZWl2ZWQucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5kYXRhX3JlY2VpdmVkLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuY29sbGFib3JhdGlvbnMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5jb2xsYWJvcmF0aW9ucy5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmtleV9wZW9wbGUucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5rZXlfcGVvcGxlLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZW1wbG95bWVudHMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5lbXBsb3ltZW50cy5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLnJldmVudWVzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwucmV2ZW51ZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5leHBlbnNlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmV4cGVuc2VzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuY2F0ZWdvcmllcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmNhdGVnb3JpZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5kZXNjcmlwdGlvbiA9ICcnO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRiTW9kZWwpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRiTW9kZWw7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRFbnRpdHlNb2RlbChvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRW50aXR5KG9iaik7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRFbnRpdHlUeXBlcygpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRpdHlUeXBlcztcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldEluZmx1ZW5jZVR5cGVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIGluZmx1ZW5jZVR5cGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0RnJvbUFQSSgpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoY29uZmlnLmFwaUhvc3QgKyAnYXBpL2VudGl0aWVzJykudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICAvLyBkZWZlci5yZXNvbHZlKHtcbiAgICAgICAgICAgIC8vICAgICBcIm5vZGVzXCI6IFtcbiAgICAgICAgICAgIC8vICAgICAgICAge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgXCJjYXRlZ29yaWVzXCI6IFtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB7XCJpZFwiOiAzLCBcIm5hbWVcIjogXCJHZW5lcmFsIENpdmljIFRlY2hcIn0sXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAge1wiaWRcIjogNCwgXCJuYW1lXCI6IFwiU29jaWFsIFNlcnZpY2VzXCJ9LFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHtcImlkXCI6IDUsIFwibmFtZVwiOiBcIkpvYnMgJiBFZHVjYXRpb25cIn0sXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAge1wiaWRcIjogNiwgXCJuYW1lXCI6IFwiR292VGVjaFwifVxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIFwiY29sbGFib3JhdGlvbnNcIjogW1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHtcImRldGFpbHNcIjogbnVsbCwgXCJlbnRpdHlcIjogXCJBbGV4YW5kZXIgSG93YXJkXCIsIFwiZW50aXR5X2lkXCI6IDI5MCwgXCJpZFwiOiA5MTF9XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgXCJkYXRhX2dpdmVuXCI6IFtdLFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgXCJkYXRhX3JlY2VpdmVkXCI6IFtdLFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkkgY3JlYXRlIGV4cGVyaWVuY2VzIC8gc2VydmljZXMgdGhhdCBzb2x2ZSBwdWJsaWMgcHJvYmxlbXMuIEFsc28gLSBBZGp1bmN0IFByb2Zlc3NvciBhdCBATllVX1dhZ25lclwiLFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgXCJlbXBsb3llZXNcIjogbnVsbCxcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIFwiZW1wbG95bWVudHNcIjogW10sXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBcImV4cGVuc2VzXCI6IFtdLFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgXCJmb2xsb3dlcnNcIjogMTY1NSxcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIFwiZ3JhbnRzX2dpdmVuXCI6IFtdLFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgXCJncmFudHNfcmVjZWl2ZWRcIjogW10sXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBcImlkXCI6IDAsXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBcImluZmx1ZW5jZVwiOiBcIkxvY2FsXCIsXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBcImludmVzdG1lbnRzX21hZGVcIjogW10sXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBcImludmVzdG1lbnRzX3JlY2VpdmVkXCI6IFtdLFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgXCJrZXlfcGVvcGxlXCI6IFtdLFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgXCJsb2NhdGlvbnNcIjogW1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgXCJhZGRyZXNzX2xpbmVcIjogbnVsbCxcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgXCJjb29yZGluYXRlc1wiOiBbNDAuNzgyLCAtNzMuODMxN10sXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIFwiY291bnRyeVwiOiBcIlVuaXRlZCBTdGF0ZXNcIixcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgXCJjb3VudHJ5X2NvZGVcIjogXCJVU1wiLFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBcImRpc3RyaWN0XCI6IFwiTllcIixcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgXCJmdWxsX2FkZHJlc3NcIjogXCJOZXcgWW9yaywgTllcIixcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiAwLFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBcImxvY2FsaXR5XCI6IFwiTmV3IFlvcmtcIixcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgXCJwb3N0YWxfY29kZVwiOiBudWxsXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIFwibmFtZVwiOiBcIllhc21pbiBGb2RpbFwiLFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgXCJuaWNrbmFtZVwiOiBcIllhc21pblwiLFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgXCJyZWxhdGlvbnNcIjogW10sXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBcInJldmVudWVzXCI6IFtdLFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgXCJ0d2l0dGVyX2hhbmRsZVwiOiBcIkB5YXNtaW5mb2RpbFwiLFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgXCJ0eXBlXCI6IFwiSW5kaXZpZHVhbFwiLFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgXCJ1cmxcIjogXCJodHRwOi8veWFzbWluZm9kaWwuY29tXCJcbiAgICAgICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgIF1cbiAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICAgICAgLy8gcmV0dXJuIGRlZmVyLnByb21pc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgXCJnZXRFbnRpdHlNb2RlbFwiOiBnZXRFbnRpdHlNb2RlbCxcbiAgICAgICAgICAgIFwiZ2V0RW50aXR5VHlwZXNcIjogZ2V0RW50aXR5VHlwZXMsXG4gICAgICAgICAgICBcImdldEluZmx1ZW5jZVR5cGVzXCI6IGdldEluZmx1ZW5jZVR5cGVzLFxuICAgICAgICAgICAgXCJnZXRGcm9tQVBJXCI6IGdldEZyb21BUElcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuc2VydmljZSgnZW50aXR5U2VydmljZScsIGVudGl0eVNlcnZpY2VEZXBlbmRlbmNpZXMpO1xuXG5cbn0pKGFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI3LzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGZpbmFuY2VTZXJ2aWNlID0gW0ZpbmFuY2VTZXJ2aWNlXTtcblxuICAgIGZ1bmN0aW9uIGlzRGVmKG8pIHtcbiAgICAgICAgcmV0dXJuIG8gIT09IHVuZGVmaW5lZCAmJiBvICE9PSBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIEZpbmFuY2VTZXJ2aWNlKCkge1xuICAgICAgICBmdW5jdGlvbiBGaW5hbmNlKG9iaikge1xuICAgICAgICAgICAgdmFyIGRlZk9iaiA9IGlzRGVmKG9iaikgPyBvYmogOiB7fTtcbiAgICAgICAgICAgIHRoaXMuYW1vdW50ID0gKGlzRGVmKGRlZk9iai5hbW91bnQpICYmIGRlZk9iai5hbW91bnQgPj0gMCA/IGRlZk9iai5hbW91bnQgOiAwKTtcbiAgICAgICAgICAgIHRoaXMueWVhciA9IChpc0RlZihkZWZPYmoueWVhcikgJiYgZGVmT2JqLnllYXIgPj0gMTc1MCA/IGRlZk9iai55ZWFyIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmlkID0gKGlzRGVmKGRlZk9iai5pZCkgPyBkZWZPYmouaWQgOiBudWxsKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nZXRGaW5hbmNlTW9kZWwgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZpbmFuY2Uob2JqKTtcbiAgICAgICAgfTtcbiAgICB9XG5cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5zZXJ2aWNlKCdmaW5hbmNlU2VydmljZScsIGZpbmFuY2VTZXJ2aWNlKTtcblxufSkoYW5ndWxhcik7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI3LzE2LlxuICovXG5cbihmdW5jdGlvbihhbmd1bGFyKXtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2VEZXBlbmRlbmNpZXMgPSBbRnVuZGluZ0Nvbm5lY3Rpb25zXTtcblxuICAgIGZ1bmN0aW9uIGlzRGVmKG8pIHsgcmV0dXJuIG8gIT09IHVuZGVmaW5lZCAmJiBvICE9PSBudWxsOyB9XG5cbiAgICBmdW5jdGlvbiBGdW5kaW5nQ29ubmVjdGlvbnMoKSB7XG4gICAgICAgIGZ1bmN0aW9uIEZ1bmRpbmdDb25uZWN0aW9uKG9iaikge1xuICAgICAgICAgICAgdmFyIG9iaklzRGVmID0gaXNEZWYob2JqKTtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5ID0gKG9iaklzRGVmICYmIGlzRGVmKG9iai5lbnRpdHkpID8gb2JqLmVudGl0eSA6ICcnKTtcbiAgICAgICAgICAgIHRoaXMuYW1vdW50ID0gKG9iaklzRGVmICYmIGlzRGVmKG9iai5hbW91bnQpID8gb2JqLmFtb3VudDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLnllYXIgPSAob2JqSXNEZWYgJiYgaXNEZWYob2JqLnllYXIpID8gb2JqLnllYXIgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuaWQgPSAob2JqSXNEZWYgJiYgaXNEZWYob2JqLmlkKSA/IG9iai5pZCA6IG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nZXRGdW5kaW5nQ29ubmVjdGlvbk1vZGVsID0gZnVuY3Rpb24ob2JqKXtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRnVuZGluZ0Nvbm5lY3Rpb24ob2JqKTtcbiAgICAgICAgfTtcblxuXG5cbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuc2VydmljZSgnZnVuZGluZ0Nvbm5lY3Rpb25TZXJ2aWNlJywgZnVuZGluZ0Nvbm5lY3Rpb25TZXJ2aWNlRGVwZW5kZW5jaWVzKTtcblxuXG5cbn0pKGFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI3LzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGxvY2F0aW9uU2VydmljZURlcGVuZGVuY2llcyA9IFtMb2NhdGlvblNlcnZpY2VdO1xuXG5cblxuICAgIGZ1bmN0aW9uIExvY2F0aW9uU2VydmljZSgpe1xuXG4gICAgICAgIGZ1bmN0aW9uIGlzRGVmKG8pIHtcbiAgICAgICAgICAgIHJldHVybiBvICE9PSB1bmRlZmluZWQgJiYgbyAhPT0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIExvY2F0aW9uKG9iaikge1xuICAgICAgICAgICAgdmFyIGRlZk9iaiA9IGlzRGVmKG9iaikgPyBvYmogOiB7fTtcbiAgICAgICAgICAgIHRoaXMuYWRkcmVzc19saW5lID0gKGlzRGVmKGRlZk9iai5hZGRyZXNzX2xpbmUpID8gZGVmT2JqLmFkZHJlc3NfbGluZSA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5sb2NhbGl0eSA9IChpc0RlZihkZWZPYmoubG9jYWxpdHkpID8gZGVmT2JqLmxvY2FsaXR5IDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmRpc3RyaWN0ID0gKGlzRGVmKGRlZk9iai5kaXN0cmljdCkgPyBkZWZPYmouZGlzdHJpY3QgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMucG9zdGFsX2NvZGUgPSAoaXNEZWYoZGVmT2JqLnBvc3RhbF9jb2RlKSA/IGRlZk9iai5wb3N0YWxfY29kZSA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5jb3VudHJ5ID0gKGlzRGVmKGRlZk9iai5jb3VudHJ5KSA/IGRlZk9iai5jb3VudHJ5IDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmNvdW50cnlfY29kZSA9IChpc0RlZihkZWZPYmouY291bnRyeV9jb2RlKSA/IGRlZk9iai5jb3VudHJ5X2NvZGUgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZXMgPSAoaXNEZWYoZGVmT2JqLmNvb3JkaW5hdGVzKSA/IGRlZk9iai5jb29yZGluYXRlcyA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5pZCA9IChpc0RlZihkZWZPYmouaWQpID8gZGVmT2JqLmlkIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmZvcm1hdHRlZEFkZHJlc3MgPSAoaXNEZWYodGhpcy5hZGRyZXNzX2xpbmUpID8gdGhpcy5hZGRyZXNzX2xpbmUgKyAgJyAnIDogJycpXG4gICAgICAgICAgICAgICAgKyAoaXNEZWYodGhpcy5sb2NhbGl0eSkgPyB0aGlzLmxvY2FsaXR5ICsgJywgJyA6ICcnKVxuICAgICAgICAgICAgICAgICsgKGlzRGVmKHRoaXMuY291bnRyeV9jb2RlKSA/IHRoaXMuY291bnRyeV9jb2RlICsgJyAnIDogJycpXG4gICAgICAgICAgICAgICAgKyAoaXNEZWYodGhpcy5wb3N0YWxfY29kZSkgPyB0aGlzLnBvc3RhbF9jb2RlIDogJycpO1xuICAgICAgICAgICAgdGhpcy5mb3JtYXR0ZWRBZGRyZXNzID0gdGhpcy5mb3JtYXR0ZWRBZGRyZXNzLnRyaW0oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2V0TG9jYXRpb25Nb2RlbCA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBMb2NhdGlvbihvYmopO1xuICAgICAgICB9O1xuXG4gICAgfVxuXG5cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5zZXJ2aWNlKCdsb2NhdGlvblNlcnZpY2UnLCBsb2NhdGlvblNlcnZpY2VEZXBlbmRlbmNpZXMpO1xuXG59KShhbmd1bGFyKTsiLCIoZnVuY3Rpb24gKGFuZ3VsYXIsIGQzLCBMKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IFtcbiAgICAgICAgJyRzY29wZScsXG4gICAgICAgICckdGltZW91dCcsXG4gICAgICAgICdsZWFmbGV0RGF0YScsXG4gICAgICAgICdfJyxcbiAgICAgICAgJyRmaWx0ZXInLFxuICAgICAgICBtYXBDdHJsXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIG1hcEN0cmwoJHNjb3BlLCAkdGltZW91dCwgbGVhZmxldERhdGEsIF8sICRmaWx0ZXIpIHtcblxuICAgICAgICAkc2NvcGUub3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGNlbnRlciAgOiB7XG4gICAgICAgICAgICAgICAgbGF0IDogMjAuMDAsXG4gICAgICAgICAgICAgICAgbG5nIDogLTQwLjAwLFxuICAgICAgICAgICAgICAgIHpvb206IDNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgICAgIHRpbGVMYXllciAgICAgICAgIDogJ2h0dHBzOi8vYXBpLnRpbGVzLm1hcGJveC5jb20vdjQvbWFwYm94LmxpZ2h0L3t6fS97eH0ve3l9LnBuZz9hY2Nlc3NfdG9rZW49cGsuZXlKMUlqb2laR0YyYVdSc2NtNTBJaXdpWVNJNklqQTBNMlJrTnpNelpXSm1OekV6TkdZek1UZGhZVEV4WXpBeVptVTRaVEUxSW4wLlROWWxGdGEyVkl0cmtuNEwwWjlCSlEnLFxuICAgICAgICAgICAgICAgIHRpbGVMYXllck9wdGlvbnMgIDoge1xuICAgICAgICAgICAgICAgICAgICBkZXRlY3RSZXRpbmE6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHJldXNlVGlsZXMgIDogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHpvb21Db250cm9sICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRpb25Db250cm9sOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjcmVhdGVQaWVDaGFydCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgICA9IG9wdGlvbnMuZGF0YTtcbiAgICAgICAgICAgICAgICB2YXIgcGllICAgID0gZDMubGF5b3V0LnBpZSgpLnNvcnQobnVsbCkudmFsdWUoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQudmFsdWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGFyYyAgICA9IGQzLnN2Zy5hcmMoKS5vdXRlclJhZGl1cyhvcHRpb25zLnIpLmlubmVyUmFkaXVzKG9wdGlvbnMuciAtIDEwKTtcbiAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gb3B0aW9ucy5yICsgb3B0aW9ucy5zdHJva2VXaWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgdyAgICAgID0gY2VudGVyICogMjtcbiAgICAgICAgICAgICAgICB2YXIgaCAgICAgID0gdztcbiAgICAgICAgICAgICAgICB2YXIgc3ZnICAgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGQzLm5zLnByZWZpeC5zdmcsICdzdmcnKTtcbiAgICAgICAgICAgICAgICB2YXIgdmlzICAgID0gZDMuc2VsZWN0KHN2ZylcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEoZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3BpZWNoYXJ0JylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgdylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGFyY3MgPSB2aXMuc2VsZWN0QWxsKCcuYXJjJylcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEocGllKGRhdGEpKVxuICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnYXJjJylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIGNlbnRlciArICcsJyArIGNlbnRlciArICcpJyk7XG5cbiAgICAgICAgICAgICAgICAvLyB2YXIgbWFwID0gTC5tYXBib3gubWFwKCdtYXAnLCAnZXhhbXBsZXMubWFwLTlpanVrMjR5Jywge1xuICAgICAgICAgICAgICAgIC8vICAgICBtaW5ab29tOiAxLFxuICAgICAgICAgICAgICAgIC8vICAgICBtYXhab29tOiAyXG4gICAgICAgICAgICAgICAgLy8gfSkuc2V0VmlldyhbNDAsIC03NC41MF0sIDkpO1xuXG4gICAgICAgICAgICAgICAgYXJjcy5hcHBlbmQoJ3BhdGgnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZCcsIGFyYylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmRhdGEudHlwZSArICctYXJjJztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBhcmNzLmFwcGVuZChcInN2Zzp0ZXh0XCIpXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInhcIiwgLTQgKiBvcHRpb25zLmNvdW50LnRvU3RyaW5nKCkubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImR5XCIsIDUpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJhcmNUZXh0XCIpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5YTUxTZXJpYWxpemVyID8gKG5ldyB3aW5kb3cuWE1MU2VyaWFsaXplcigpKS5zZXJpYWxpemVUb1N0cmluZyhzdmcpXG4gICAgICAgICAgICAgICAgICAgIDogc3ZnLnhtbCA/IHN2Zy54bWwgOiAnJztcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJlZEVudGl0aWVzID0gJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmVudGl0aWVzLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRpdHkuY29sbGFib3JhdGlvbnMubGVuZ3RoID4gNDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBtYXAuaW52YWxpZGF0ZVNpemUoKTtcblxuICAgICAgICAgICAgICAgIG5ldyBMLkNvbnRyb2wuWm9vbSh7cG9zaXRpb246ICd0b3ByaWdodCd9KS5hZGRUbyhtYXApO1xuICAgICAgICAgICAgICAgIEwuY29udHJvbC5sb2NhdGUoXG4gICAgICAgICAgICAgICAgICAgIHtwb3NpdGlvbjogJ3RvcHJpZ2h0Jywgc2hvd1BvcHVwOiBmYWxzZSwgaWNvbjogJ2ZhIGZhLWxvY2F0aW9uLWFycm93J31cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC5hZGRUbyhtYXApO1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY2x1c3Rlckljb24oY2x1c3Rlcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gICAgICAgPSBjbHVzdGVyLmdldEFsbENoaWxkTWFya2VycygpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG90YWwgICAgICAgICAgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjbHVzdGVyTWFya2VycyA9IF8ucGx1Y2soY2hpbGRyZW4sICdvcHRpb25zJyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudHMgICAgICAgICA9IF8ubWFwKF8uY291bnRCeShjbHVzdGVyTWFya2VycywgJ3R5cGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGNvdW50LCB0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyd0eXBlJzogdHlwZSwgJ3ZhbHVlJzogY291bnR9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgICAgICAgICAgICAgID0gMjg7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHJva2VXaWR0aCAgICA9IDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpY29uRGltICAgICAgICA9IChyICsgc3Ryb2tlV2lkdGgpICogMjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGh0bWwgICAgICAgICAgID0gY3JlYXRlUGllQ2hhcnQoXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZGF0YTogY291bnRzLCByOiByLCBzdHJva2VXaWR0aDogc3Ryb2tlV2lkdGgsIGNvdW50OiB0b3RhbH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEwuRGl2SWNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sICAgICA6IGh0bWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdtYXJrZXItY2x1c3RlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZSA6IG5ldyBMLnBvaW50KGljb25EaW0sIGljb25EaW0pXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbWFya2VySWNvbiAgPSB7XG4gICAgICAgICAgICAgICAgICAgICdOb24tUHJvZml0JzogTC5pY29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25VcmwgOiAnaW1nL21hcmtlci1ub25wcm9mLnN2ZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzYwLCA2MF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICdGb3ItUHJvZml0JzogTC5pY29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25VcmwgOiAnaW1nL21hcmtlci1wcm9mLnN2ZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzYwLCA2MF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICdJbmRpdmlkdWFsJzogTC5pY29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25VcmwgOiAnaW1nL21hcmtlci1pbmQuc3ZnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbNjAsIDYwXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgJ0dvdmVybm1lbnQnOiBMLmljb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVybCA6ICdpbWcvbWFya2VyLWdvdi5zdmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFs2MCwgNjBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBtYXJrZXJzID0gTC5tYXJrZXJDbHVzdGVyR3JvdXAoe1xuXG4gICAgICAgICAgICAgICAgICAgIHNwaWRlcmZ5T25NYXhab29tOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzaG93Q292ZXJhZ2VPbkhvdmVyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaWNvbkNyZWF0ZUZ1bmN0aW9uOiBjbHVzdGVySWNvbixcbiAgICAgICAgICAgICAgICAgICAgbWF4Q2x1c3RlclJhZGl1czogMzAsXG4gICAgICAgICAgICAgICAgICAgIHNwaWRlcmZ5RGlzdGFuY2VNdWx0aXBsaWVyOiAxLjNcbiAgICAgICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gb3V0ZXJMb29wKGVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBpbm5lckxvb3AobG9jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV8uZXZlcnkobG9jLmNvb3JkaW5hdGVzKSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvYy5jb29yZGluYXRlc1swXS50b0ZpeGVkKDUpID09PSAnNDAuNzgyMDAnICYmIGxvYy5jb29yZGluYXRlc1sxXS50b0ZpeGVkKDUpID09PSAnLTczLjgzMTcwJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYy5jb29yZGluYXRlc1swXSA9IDQwLjc3MDY1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYy5jb29yZGluYXRlc1sxXSA9IC03My45NzQwNjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtID0gTC5tYXJrZXIobG9jLmNvb3JkaW5hdGVzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogbWFya2VySWNvbltlbnRpdHkudHlwZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RpdGxlJzogZW50aXR5Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VudGl0eV9pZCc6IGVudGl0eS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWVzc2FnZSc6IGVudGl0eS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0eXBlJzogZW50aXR5LnR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2Vycy5hZGRMYXllcihtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaChlbnRpdHkubG9jYXRpb25zLCBpbm5lckxvb3ApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiT3JpZ2luYWw6ICVPXCIsICRzY29wZS5lbnRpdGllcyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGaWx0ZXJlZDogJU9cIiwgZmlsdGVyZWRFbnRpdGllcyk7XG5cbiAgICAgICAgICAgICAgICBfLmZvckVhY2goZmlsdGVyZWRFbnRpdGllcywgb3V0ZXJMb29wKTtcbiAgICAgICAgICAgICAgICBtYXAuYWRkTGF5ZXIobWFya2Vycyk7XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBvbkxvY2F0aW9uRXJyb3IobGVhZmxldEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobGVhZmxldEVycm9yLm1lc3NhZ2UgKyBcIiAgJU9cIiwgbGVhZmxldEVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBtYXAub24oJ2xvY2F0aW9uZXJyb3InLCBvbkxvY2F0aW9uRXJyb3IpO1xuICAgICAgICAgICAgICAgIC8vIG1hcC5sb2NhdGUoe3NldFZpZXc6IHRydWUsIG1heFpvb206IDExfSk7XG4gICAgICAgICAgICAgICAgbWFya2Vycy5vbignY2xpY2snLCBmdW5jdGlvbiAobWFya2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXRFbnRpdHlJRChtYXJrZXIubGF5ZXIub3B0aW9ucy5lbnRpdHlfaWQpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPSAkc2NvcGUuY3VycmVudEVudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCAgID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zZXR0aW5nc0VuYWJsZWQgJiYgJHNjb3BlLm1vYmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvZ2dsZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbWFwLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCAgID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICRzY29wZS4kb24oJ3NlbGVjdEl0ZW0nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb29yZGluYXRlcyA9ICRzY29wZS5jdXJyZW50RW50aXR5LmxvY2F0aW9ucy5sZW5ndGggPiAwID8gXy5wbHVjayhcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jdXJyZW50RW50aXR5LmxvY2F0aW9ucywgJ2Nvb3JkaW5hdGVzJykgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29vcmRpbmF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnNldFZpZXcoY29vcmRpbmF0ZXNbMF0sIDExKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG5cbiAgICAgICAgLmNvbnRyb2xsZXIoJ21hcEN0cmwnLCBkZXBlbmRlbmNpZXMpO1xufSkoYW5ndWxhciwgZDMsIEwpO1xuIl19
