!function(i){"use strict";var a=["ui.bootstrap","leaflet-directive","ngAnimate","templateCache","civic-graph.api","civic-graph.util"],c=["civic-graph.util"];i.module("civic-graph.util",[]),i.module("civic-graph.api",c),i.module("civic-graph",a)}(angular);
!function(e){"use strict";function t(e,t){function i(e){var i=t.getPropertyFromObj(e);this.id=i("id"),this.name=i("name"),this.enabled=i("enable",!0)}function n(e){return new i(e)}function r(){return e.get("/categories")}return{getCategoryModel:n,getAll:r}}t.$inject=["cgApiCaller","cgUtilService"],e.module("civic-graph.api").factory("categoryService",t)}(angular);
!function(t){"use strict";function n(){return{Funding:!0,Data:!0,Employment:!0,Collaboration:!0}}function i(t,i){function o(t){var n=i.getPropertyFromObj(t);this.id=n("id"),this.name=n("name"),this.details=n("details"),this.entity=n("entity"),this.entity_id=n("entity_id")}function c(t){return new o(t)}function r(){return t.get(e)}return{getAll:r,getConnectionTypes:n,getConnectionModel:c}}var e="/connections";i.$inject=["cgApiCaller","cgUtilService"],t.module("civic-graph.api").factory("connectionService",i)}(angular);
!function(i){"use strict";function n(i){function n(n){var t=i.getPropertyFromObj(n);this.id=t("id"),this.year=t("year"),this.amount=t("amount",0)}function t(i){return new n(i)}return{getFinanceModel:t}}n.$inject=["cgUtilService"],i.module("civic-graph.api").factory("financeService",n)}(angular);
!function(n){"use strict";function t(n){function t(t){var i=n.getPropertyFromObj(t);this.id=i("id"),this.year=i("year"),this.amount=i("amount"),this.entity=i("entity","")}function i(n){return new t(n)}return{getFundingConnectionModel:i}}t.$inject=["cgUtilService"],n.module("civic-graph.api").factory("fundingConnectionService",t)}(angular);
!function(o){"use strict";function r(){return{templateUrl:"js/control/controls.html",restrict:"E",scope:{toggleNetwork:"="},controller:"controlCtrl",controllerAs:"control",bindToController:{minConnections:"="}}}var t=[r];o.module("civic-graph").directive("control",t)}(angular);
!function(e){"use strict";function t(t,i,n,o,s,d,c,a){function r(){var e,i,n,o;for(i in t.categories)if(t.categories.hasOwnProperty(i)){e=t.categories[i];for(n in t.editEntity.categories)t.editEntity.categories.hasOwnProperty(n)&&(o=t.editEntity.categories[n],e.id===o.id&&(e.enabled=o.enabled))}}t.isEditing=!1,t.editEntity=s.getEntityModel(t.entity),t.entityTypes=s.getEntityTypes(),t.influenceTypes=s.getInfluenceTypes();var u;t.categories=[],t.addressSearch=function(e){return i.jsonp("https://dev.virtualearth.net/REST/v1/Locations",{params:{query:e,key:"Ai58581yC-Sr7mcFbYTtUkS3ixE7f6ZuJnbFJCVI4hAtW1XoDEeZyidQz2gLCCyD",jsonp:"JSON_CALLBACK",include:"ciso2"}}).then(function(e){if(a.isDefined(e.data.resourceSets)&&e.data.resourceSets.length>0)return e.data.resourceSets[0].resources})},t.toggleCategory=function(e){if(0===t.editEntity.categories.length)t.editEntity.categories.push(e);else{var i=!1;for(var n in t.editEntity.categories)if(t.editEntity.categories.hasOwnProperty(n)){var o=t.editEntity.categories[n];if(o.id===e.id){i=!0,o.enabled=e.enabled;break}}i||t.editEntity.categories.push(e)}},t.setLocation=function(e,i){t.addressSearch(e.formattedAddress).then(function(n){if(a.isDefined(n[0])){var o=n[0],s=o.address,d=o.point;t.addLocation(i),e.address_line=a.isDefined(s.addressLine)?s.addressLine:"",e.locality=a.isDefined(s.locality)?s.locality:"",e.district=a.isDefined(s.adminDistrict)?s.adminDistrict:"",e.country=a.isDefined(s.countryRegion)?s.countryRegion:null,e.country_code=a.isDefined(s.countryRegionIso2)?s.countryRegionIso2:"",e.coordinates=a.isDefined(d.coordinates)?d.coordinates:null,e.postal_code=a.isDefined(s.postalCode)?s.postalCode:null}})},t.addLocation=function(e){e&&t.editEntity.locations.push(c.getLocationModel())},t.addKeyPerson=function(){o.some(t.editEntity.key_people,{name:"",id:null})||t.editEntity.key_people.push({name:"",id:null})},t.setFundingConnection=function(e,t){t.entity_id=e.id},t.addFundingConnection=function(e){o.some(e,{entity:""})||e.push({entity:"",amount:null,year:null,id:null})},t.setConnection=function(e,t){t.entity_id=e.id},t.addConnection=function(e){o.some(e,{entity:"",id:null})||e.push({entity:"",id:null,details:null})},t.addFinance=function(e){o.every(e,function(e){return e.amount>0&&e.year>1750})&&e.push({amount:null,year:null,id:null})},t.save=function(){function e(e){t.isSaving=!1,t.$emit("editEntitySuccess",e),t.cancelEdit()}function i(){t.isError=!0,n(function(){t.isError=!1},2e3)}t.isSaving=!0,s.saveEntity(t.editEntity.generateDBModel()).then(e,i)},t.cancelEdit=function(){t.isOpen=!1},t.$watch("entity",function(i,n){e.equals(i,n)||(t.editEntity=s.getEntityModel(i),t.categories=e.copy(u),r(),t.isEditing=a.isDefined(t.editEntity.id))}),d.getAll().then(function(i){u=i.categories,t.categories=e.copy(u)})}t.$inject=["$scope","$http","$timeout","_","entityService","categoryService","locationService","cgUtilService"],e.module("civic-graph").controller("editCtrl",t)}(angular);
!function(t){"use strict";function e(){return{templateUrl:"js/edit-entity/edit.html",restrict:"E",scope:{entity:"=",entities:"=",isOpen:"="},controller:"editCtrl"}}var i=[e];t.module("civic-graph").directive("editEntity",i)}(angular);
!function(i,t){"use strict";function s(i){function s(){var i=t(this);i.css("height","55vh")}function c(){var i=t(this);window.innerHeight/3>parseInt(i.css("height"))?i.css("height","55vh"):i.css("height","30vh")}var e;i.mobile&&(e=t("#details-panel"),e.css("height","30vh"),e.scrollTop(0),e.scroll(s),e.click(c))}function c(){return{restrict:"A",link:s}}i.module("civic-graph").directive("addMobileEvents",[c])}(angular,$);
!function(o){"use strict";function c(o,c){o.closeWindow=function(){c.close()}}o.module("civic-graph").controller("modalCtrl",["$scope","$modalInstance",c])}(angular);
!function(o){"use strict";o.module("civic-graph").constant("_",window._).config(["$locationProvider","$compileProvider",function(o,n){o.html5Mode(!0),n.debugInfoEnabled(!0)}]).filter("thousandSuffix",function(){return function(o,n){var t,i=["k","M","G","T","P","E"];return window.isNaN(o)?null:o<1e3?o:(t=Math.floor(Math.log(o)/Math.log(1e3)),(o/Math.pow(1e3,t)).toFixed(n)+i[t-1])}})}(angular);
!function(t){"use strict";function i(t,i,e,n,o){t.entities=[],t.searchItems=null,t.categories=[],t.currentLocation=null,t.clickedLocation={},t.clickedLocation.location=null,t.clickedEntity={},t.clickedEntity.entity=null,t.editing=!1,t.actions={interacted:!1},t.showsearchMB=!1,t.showAnalytics=!1,t.entityTypes=n.getEntityTypes(),t.connectionTypes=o.getConnectionTypes(),t.status={isNetworkShown:!0,license:!0,networkLoading:!0},t.toggleAnalytics=function(){t.showAnalytics=!t.showAnalytics},this.minConnections=t.minConnections=2;var a=this;t.$watch("minConnections",function(){t.$broadcast("triggerNetworkDraw")}),t.connectionChange=function(){console.log(a.minConnections),t.minConnections=a.minConnections,t.$broadcast("triggerNetworkDraw")},t.hydePartials=function(i){"search"===i?(t.editing=!1,t.settingsEnabled=!1):"settings"===i?(t.editing=!1,t.showsearchMB=!1):"edit"===i?(t.settingsEnabled=!1,t.showsearchMB=!1):(t.editing=!1,t.settingsEnabled=!1,t.showsearchMB=!1)},t.showSearch=function(){t.hydePartials("search"),t.showsearchMB=!t.showsearchMB,t.status.license=!1},t.toggleSettings=function(){t.hydePartials("settings"),t.settingsEnabled=!t.settingsEnabled},t.startEdit=function(i){t.currentEntity=i,t.mobile&&t.hydePartials("edit"),t.editing=!0},t.switchView=function(){t.status.isNetworkShown=!t.status.isNetworkShown,t.status.isNetworkShown&&t.$broadcast("triggerNetworkDraw")},window.mobilecheck=function(){var t=!1,i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,e=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;return function(n){(i.test(n)||e.test(n.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t},t.mobile=window.mobilecheck(),t.settingsEnabled=!t.mobile,i(function(){n.getAll().then(function(i){t.entities=i.nodes;var n=e.uniq(e.pluck(e.flatten(e.pluck(t.entities,"locations")),"locality")),o=e.map(n,function(i){var n=e.filter(t.entities,e.flow(e.property("locations"),e.partialRight(e.any,{locality:i})));return{name:i,type:"location",entities:n,dict:e.zipObject(e.pluck(n,"name"),e.pluck(n,"index"))}});t.searchItems=o.concat(t.entities),t.overviewUrl="js/overview/overview.html",t.$broadcast("triggerNetworkDraw")})},100),t.overviewUrl=null,t.setEntity=function(i){t.currentLocation=null,t.currentEntity=i,t.editing&&t.stopEdit(),t.$broadcast("entityChange")},t.setEntityID=function(i){t.setEntity(e.find(t.entities,{id:i}))},t.setLocation=function(i){t.currentLocation=i,t.editing&&t.stopEdit(),t.$broadcast("itemChange")},t.selectItem=function(i){"location"===i.type?t.setLocation(i):t[i%1===0?"setEntityID":"setEntity"](i),t.$broadcast("selectItem",i)},t.$on("setCurrentEntity",function(i,e){t.currentEntity=e.value}),t.$on("setCurrentLocation",function(i,e){t.currentLocation=e.value}),t.setEntities=function(i){t.entities=i},t.stopEdit=function(){t.editing=!1},t.$on("editEntitySuccess",function(i){t.setEntities(i.nodes),t.$broadcast("triggerNetworkDraw")}),t.animationsEnabled=!0}var e=["$scope","$timeout","_","entityService","connectionService",i];t.module("civic-graph").controller("homeCtrl",e)}(angular);
!function(i){"use strict";var a=[];i.module("civic-graph").directive("map",a)}(angular);
!function(e){"use strict";function n(e,n,t,i,c){function o(){function o(i){var o=n("filter")(e.entities,function(n){return n.collaborations.length>=e.minConnections}),a={};t.forEach(t.keys(i.connections),function(e){a[e]=[]}),t.forEach(i.connections,function(e,n){t.forEach(e,function(e){var i=t.find(o,{id:e.source}),r=t.find(o,{id:e.target});c.isDefined(i)&&c.isDefined(r)&&a[n].push({source:i,target:r})})}),t.forEach(t.keys(e.entityTypes),function(n){var i=t.takeRight(t.sortBy(t.filter(e.entities,{type:n}),"collaborations.length"),5);t.forEach(i,function(e){e.wellconnected=!0})}),o=t.sortBy(o,function(e){return e.wellconnected?1:0}),r(o,a)}i.getAll().then(o)}e.isLoading=!0,e.connections={},o(),e.safeApply=function(e){var n=this.$root.$$phase;"$apply"===n||"$digest"===n?e&&"function"==typeof e&&e():this.$apply(e)},e.$on("triggerNetworkDraw",o),e.$on("viewChange",function(e){console.log(e)});var r=function(n,i){e.isLoading=!1;var o=d3.select("#network");o.selectAll("*").remove();var r=o.node().getBoundingClientRect(),a=r.height,s=r.width,l=6,u=7,d={Individual:{x:1,y:1},"For-Profit":{x:1,y:-1},"Non-Profit":{x:-1,y:1},Government:{x:-1,y:-1}},f=10,y=50,p=d3.max(n,function(e){return parseInt(e.employees)}),k=d3.max(n,function(e){return parseInt(e.followers)}),g={employees:d3.scale.sqrt().domain([10,p]).range([f,y]),followers:d3.scale.sqrt().domain([10,k]).range([f,y])},m={},h=d3.layout.force().size([s,a]).nodes(n).links(t.flatten(t.values(i))).charge(function(e){return e.employees?-2*g.employees(e.employees):-20}).linkStrength(0).linkDistance(50);t.forEach(i,function(e,n){m[n]=o.selectAll(".link ."+n+"-link").data(e).enter().append("line").attr("class",function(e){return c.isDefined(e.source)&&c.isDefined(e.target)?(e.type=n,"link "+n+"-link "+e.source.type+"-link "+e.target.type+"-link"):""})});var x=o.selectAll(".node").data(n).enter().append("g").attr("class",function(e){return"node "+e.type+"-node"}).call(h.drag);x.append("circle").attr("r",function(e){return e.employees?g.employees(e.employees):u}),x.append("text").text(function(e){return e.nickname?e.nickname:e.name}).attr("dx",function(){return-.065*this.getComputedTextLength()/2+"em"}).attr("dy",function(){return.08*this.parentNode.getBBox().height/2+.5+"em"}),h.on("tick",function(e){var i=l*e.alpha;t.forEach(n,function(e){e.x&&d[e.type]&&(e.x+=d[e.type].x*i,e.y+=d[e.type].y*i,e.x=Math.max(y,Math.min(s-y,e.x)),e.y=Math.max(y,Math.min(a-y,e.y)))}),t.forEach(m,function(e){e.attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y})}),x.attr("transform",function(e){return"translate("+e.x+","+e.y+")"})});var E=function(e){requestAnimationFrame(function n(){for(var t=0;t<e;t++)h.tick();h.alpha()>0&&requestAnimationFrame(n)})};e.mobile||E(7),h.start();var v={};t.forEach(m,function(e){t.forEach(e[0],function(e){var n=e.__data__.source,t=e.__data__.target;v[n.index+","+t.index]=!0,v[t.index+","+n.index]=!0})});var L,A=function(e,n){return v[e.index+","+n.index]||e.index===n.index},T=function(e){x.classed("focused",function(n){return A(e,n)}).classed("unfocused",function(n){return!A(e,n)}),t.forEach(m,function(n){n.classed("focused",function(n){return e.index===n.source.index||e.index===n.target.index}).classed("unfocused",function(n){return!(e.index===n.source.index||e.index===n.target.index)})})},w=function(n){e.currentEntity!==n&&e.setEntity(n),e.safeApply(),T(n)},$=function(n){x.classed("focused",!1).classed("unfocused",!1),t.forEach(m,function(e){e.classed("focused",!1).classed("unfocused",!1)}),n.fixed=!1,e.clickedEntity.entity&&h.resume()},D=function(n){e.clickedEntity.entity||e.editing||e.currentLocation||(L=setTimeout(function(){w(n)},500)),e.actions.interacted=!0,e.safeApply()},b=function(n){e.clickedEntity.entity||e.currentLocation||($(n),clearTimeout(L)),e.actions.interacted=!0,e.safeApply()},_=function(n){e.safeApply(),x.classed("focused",function(e){return e.name in n.dict}).classed("unfocused",function(e){return!(e.name in n.dict)}),t.forEach(m,function(e){e.classed("focused",function(e){return e.source.name in n.dict&&e.target.name in n.dict}).classed("unfocused",function(e){return!(e.source.name in n.dict&&e.target.name in n.dict)})})},B=function(){x.classed("focused",!1).classed("unfocused",!1),t.forEach(m,function(e){e.classed("focused",!1).classed("unfocused",!1)}),e.clickedLocation.location&&h.resume()},P=function(n){e.showLicense=!1,e.clickedEntity.entity&&($(e.clickedEntity.entity),e.clickedEntity.entity=null),e.clickedLocation.location!==n&&(B(e.clickedLocation.location),e.clickedLocation.location=n,_(n)),d3.event&&d3.event.stopPropagation(),e.actions.interacted=!0,e.safeApply()},C=function(n){e.showLicense=!1,c.isDefined(e.clickedLocation)&&(c.isDefined(e.clickedLocation.location)&&(B(e.clickedLocation.entity),e.clickedLocation.location=null),e.clickedEntity.entity===n?e.clickedEntity.entity=null:(e.clickedEntity.entity&&$(e.clickedEntity.entity),e.clickedEntity.entity=n,w(n))),d3.event&&d3.event.stopPropagation(),e.actions.interacted=!0,e.safeApply()},q=function(){c.isDefined(e.clickedLocation)&&(c.isDefined(e.clickedLocation.location)&&($(e.clickedLocation.location),e.clickedLocation.location=null),c.isDefined(e.clickedEntity.entity)&&($(e.clickedEntity.entity),e.clickedEntity.entity=null)),e.safeApply()},I=function(n){n.fixed?$(n):(n.x=s/2,n.y=a/2,n.px=s/2,n.py=a/2,n.fixed=!0,e.clickedEntity.entity=n),e.actions.interacted=!0,e.safeApply()};x.on("mouseover",D),x.on("mouseout",b),x.on("click",C),x.on("dblclick",I),o.on("click",q),x.classed("wellconnected",function(e){return e.hasOwnProperty("wellconnected")}),e.$on("changeSizeBy",function(e,n){o.selectAll("circle").transition().duration(250).attr("r",function(e){return e[n]?g[n](e[n]):u})}),e.$on("toggleLink",function(n,i){t.map(e.entityTypes,function(n,t){o.selectAll("."+t+"-link").classed({visible:function(n){return!e.connectionTypes[n.type]||e.entityTypes[n.source.type]&&e.entityTypes[n.target.type]},hidden:function(n){return!e.connectionTypes[n.type]||!e.entityTypes[n.source.type]||!e.entityTypes[n.target.type]}})})}),e.$on("toggleNode",function(n,t){o.selectAll("."+t.name+"-node").classed({visible:t.enabled,hidden:!t.enabled}),o.selectAll("."+t.name+"-link").classed({visible:function(n){return e.connectionTypes[n.type]&&e.entityTypes[n.source.type]&&e.entityTypes[n.target.type]},hidden:function(n){return!e.connectionTypes[n.type]||!e.entityTypes[n.source.type]||!e.entityTypes[n.target.type]}})}),e.$on("selectItem",function(n,t){"location"===t.type?P(e.currentLocation):C(e.currentEntity)})}}n.$inject=["$scope","$filter","_","connectionService","cgUtilService"],e.module("civic-graph").controller("networkCtrl",n)}(angular,RTP);
!function(r){"use strict";function t(){return{restrict:"E",templateUrl:"js/network/network.html",controller:"networkCtrl"}}var e=[t];r.module("civic-graph").directive("network",e)}(angular);
!function(e){"use strict";e.module("civic-graph").directive("input",function(){return{restict:"E",require:"?ngModel",link:function(e,r,t,i){"type"in t&&"range"===t.type.toLowerCase()&&i.$parsers.push(parseFloat)}}})}(angular);
!function(e){"use strict";function t(e,t){e.categorizedEntities={},t.forEach(t.keys(e.entityTypes),function(i){e.categorizedEntities[i]=t.filter(e.entities,{type:i})})}e.module("civic-graph").controller("overviewCtrl",["$scope","_",t])}(angular);
!function(r){"use strict";function n(r){return!("undefined"==typeof r||null===r)}function t(r){return n(r)&&!Array.isArray(r)&&"object"==typeof r}function e(r){var t=n(r)?r:{};return function(r,e){var i=n(e)?e:null;return n(t[r])?t[r]:i}}function i(r,n){var e=Array.isArray(r)?r.filter(t).map(n):[];return e.concat([n()])}function u(){return{isDefined:n,isObject:t,getPropertyFromObj:e,loopAndInit:i}}r.module("civic-graph.util").factory("cgUtilService",u)}(angular);
!function(t){"use strict";function a(){return{templateUrl:"js/analytic/analytics.html",restrict:"E",scope:{},controller:"analyticsCtrl"}}var c=[a];t.module("civic-graph").directive("analytics",c)}(angular);
!function(t){"use strict";function e(t){t.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}e.$inject=["$httpProvider"],t.module("civic-graph.api").config(e)}(angular);
!function(t){"use strict";function r(t,r){function a(t){return console.error("Recieved an error from API with this message: %O",t.data),r.reject(t)}function i(t){return t.data}function c(r,c){return t.get(e+r,{params:c,headers:n}).then(i,a)}function o(r,c){return t.post(e+r,c,{headers:n}).then(i,a)}return{get:c,post:o}}var e="https://api.civicgraph.io/api",n={};r.$inject=["$http","$q"],t.module("civic-graph.api").factory("cgApiCaller",r)}(angular);
!function(e){"use strict";function i(e){function i(i){function t(){var t=e.isDefined(i)?i:{},o=e.isDefined(t.address_line)?t.address_line+" ":"",c=e.isDefined(t.locality)?t.locality+", ":"",n=e.isDefined(t.country_code)?t.country_code+" ":"",r=e.isDefined(t.postal_code)?t.postal_code:"";return(o+c+n+r).trim()}var o=this,c=e.getPropertyFromObj(i);o.id=c("id"),o.address_line=c("address_line"),o.locality=c("locality"),o.district=c("district"),o.postal_code=c("postal_code"),o.country=c("country"),o.country_code=c("country_code"),o.coordinates=c("coordinates"),o.formattedAddress=t()}function t(e){return new i(e)}return{getLocationModel:t}}i.$inject=["cgUtilService"],e.module("civic-graph.api").factory("locationService",i)}(angular);
!function(e){"use strict";function n(){return{Government:!0,"For-Profit":!0,"Non-Profit":!0,Individual:!0}}function o(){return["Local","National","Global"]}function t(e,t,i,p,r,a,c){function l(e){function n(){var e=new l(o);return e.locations.pop(),e.locations.pop(),e.grants_received.pop(),e.grants_received.pop(),e.grants_given.pop(),e.grants_given.pop(),e.investments_received.pop(),e.investments_received.pop(),e.investments_made.pop(),e.investments_made.pop(),e.data_given.pop(),e.data_given.pop(),e.data_received.pop(),e.data_received.pop(),e.collaborations.pop(),e.collaborations.pop(),e.key_people.pop(),e.key_people.pop(),e.employments.pop(),e.employments.pop(),e.revenues.pop(),e.revenues.pop(),e.expenses.pop(),e.expenses.pop(),e.categories.pop(),e.categories.pop(),e.description="",e}var o=this,d=c.isDefined(e)?e:{},s=c.getPropertyFromObj(e);o.id=s("id"),o.name=s("name"),o.influence=s("influence"),o.type=s("type"),o.nickname=s("nickname"),o.url=s("url"),o.twitter_handle=s("twitter_handle"),o.employees=s("employees"),o.locations=c.loopAndInit(d.locations,r.getLocationModel),o.grants_received=c.loopAndInit(d.grants_received,t.getFundingConnectionModel),o.investments_received=c.loopAndInit(d.investments_received,t.getFundingConnectionModel),o.grants_given=c.loopAndInit(d.grants_given,t.getFundingConnectionModel),o.investments_made=c.loopAndInit(d.investments_made,t.getFundingConnectionModel),o.data_given=c.loopAndInit(d.data_given,i.getConnectionModel),o.data_received=c.loopAndInit(d.data_received,i.getConnectionModel),o.collaborations=c.loopAndInit(d.collaborations,i.getConnectionModel),o.key_people=c.loopAndInit(d.key_people,i.getConnectionModel),o.employments=c.loopAndInit(d.employments,i.getConnectionModel),o.revenues=c.loopAndInit(d.revenues,p.getFinanceModel),o.expenses=c.loopAndInit(d.expenses,p.getFinanceModel),o.categories=c.loopAndInit(d.categories,a.getCategoryModel),o.generateDBModel=n}function d(e){return new l(e)}function s(){return e.get("/entities")}function g(n){return e.post("/save",{entity:n})}return{getEntityModel:d,getEntityTypes:n,getInfluenceTypes:o,getAll:s,saveEntity:g}}t.$inject=["cgApiCaller","fundingConnectionService","connectionService","financeService","locationService","categoryService","cgUtilService"],e.module("civic-graph.api").factory("entityService",t)}(angular);
!function(e){"use strict";function o(e,o,n,t,i){function c(){a.changeView(a.toggleNetwork?"Network":"Map")}var a=this;a.entityTypes=e.getEntityTypes(),a.connectionTypes=o.getConnectionTypes(),a.sizeByList=[{name:"Employees",value:"employees"},{name:"Twitter Followers",value:"followers"}],a.sizeBy="employees",a.showView={Network:!0,Map:!1},a.switchView=c,a.changeView=function(e){t.forEach(t.keys(a.showView),function(o){a.showView[o]=e===o}),n.$broadcast("viewChange",a.showView)},a.showAbout=function(){i.open({animation:!1,templateUrl:"control/about.html",controller:"modalCtrl"})},a.toggleNode=function(e){n.$broadcast("toggleNode",{name:e,enabled:a.entityTypes[e]})},a.toggleLink=function(e){n.$broadcast("toggleLink",{name:e,enabled:a.connectionTypes[e]})},a.changeSizeBy=function(){n.$broadcast("changeSizeBy",a.sizeBy)},a.changeSizeBy()}var n=["entityService","connectionService","$rootScope","_","$modal",o];e.module("civic-graph").controller("controlCtrl",n)}(angular);
!function(e){"use strict";function n(e,n){e.itemsShownDefault={key_people:3,grants_given:3,grants_received:3,investments_made:3,investments_received:3,collaborations:3,employments:3,relations:3,data_given:3,data_received:3,revenues:3,expenses:3},e.itemsShown=n.clone(e.itemsShownDefault),e.$on("entityChange",function(){e.itemsShown=n.clone(e.itemsShownDefault)}),e.showMore=function(n){e.itemsShown[n]=e.currentEntity[n].length},e.showLess=function(n){e.itemsShown[n]=e.itemsShownDefault[n]}}e.module("civic-graph").controller("detailsCtrl",["$scope","_",n])}(angular);
!function(t,e,n){"use strict";function i(t,i,o,r,a){t.options={center:{lat:20,lng:-40,zoom:3},defaults:{tileLayer:"https://api.tiles.mapbox.com/v4/mapbox.light/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiZGF2aWRscm50IiwiYSI6IjA0M2RkNzMzZWJmNzEzNGYzMTdhYTExYzAyZmU4ZTE1In0.TNYlFta2VItrkn4L0Z9BJQ",tileLayerOptions:{detectRetina:!0,reuseTiles:!1},zoomControl:!1,attributionControl:!1}},i(function(){var i=function(t){var n=t.data,i=e.layout.pie().sort(null).value(function(t){return t.value}),o=e.svg.arc().outerRadius(t.r).innerRadius(t.r-10),r=t.r+t.strokeWidth,a=2*r,c=a,l=document.createElementNS(e.ns.prefix.svg,"svg"),s=e.select(l).data(n).attr("class","piechart").attr("width",a).attr("height",c),d=s.selectAll(".arc").data(i(n)).enter().append("g").attr("class","arc").attr("transform","translate("+r+","+r+")");return d.append("path").attr("d",o).attr("class",function(t){return t.data.type+"-arc"}),d.append("svg:text").text(function(e,n){if(0===n)return t.count}).attr("x",-4*t.count.toString().length).attr("dy",5).attr("class","arcText"),window.XMLSerializer?(new window.XMLSerializer).serializeToString(l):l.xml?l.xml:""};o.getMap().then(function(e){function o(t){var e=t.getAllChildMarkers(),o=e.length,a=r.pluck(e,"options"),c=r.map(r.countBy(a,"type"),function(t,e){return{type:e,value:t}}),l=28,s=1,d=2*(l+s),u=i({data:c,r:l,strokeWidth:s,count:o});return new n.DivIcon({html:u,className:"marker-cluster",iconSize:new n.point(d,d)})}function a(t){function e(e){if(r.every(e.coordinates)){"40.78200"===e.coordinates[0].toFixed(5)&&"-73.83170"===e.coordinates[1].toFixed(5)&&(e.coordinates[0]=40.77065,e.coordinates[1]=-73.97406);var i=n.marker(e.coordinates,{icon:s[t.type],title:t.name,entity_id:t.id,message:t.name,type:t.type});d.addLayer(i)}}r.forEach(t.locations,e)}function c(t){console.error(t.message+"  %O",t)}var l=t.entities;e.invalidateSize(),new n.Control.Zoom({position:"topright"}).addTo(e),n.control.locate({position:"topright",showPopup:!1,icon:"fa fa-location-arrow"}).addTo(e);var s={"Non-Profit":n.icon({iconUrl:"img/marker-nonprof.svg",iconSize:[60,60]}),"For-Profit":n.icon({iconUrl:"img/marker-prof.svg",iconSize:[60,60]}),Individual:n.icon({iconUrl:"img/marker-ind.svg",iconSize:[60,60]}),Government:n.icon({iconUrl:"img/marker-gov.svg",iconSize:[60,60]})},d=n.markerClusterGroup({spiderfyOnMaxZoom:!0,showCoverageOnHover:!1,iconCreateFunction:o,maxClusterRadius:30,spiderfyDistanceMultiplier:1.3});console.log("Original: %O",t.entities),console.log("Filtered: %O",l),r.forEach(l,a),e.addLayer(d),e.on("locationerror",c),d.on("click",function(e){t.setEntityID(e.layer.options.entity_id),t.clickedEntity.entity=t.currentEntity,t.actions.interacted=!0,t.settingsEnabled&&t.mobile&&t.toggleSettings(),t.safeApply()}),e.on("click",function(){t.clickedEntity.entity=null,t.actions.interacted=!0,t.safeApply()}),t.$on("selectItem",function(){var n=t.currentEntity.locations.length>0?r.pluck(t.currentEntity.locations,"coordinates"):null;n.length>0&&e.setView(n[0],11),t.actions.interacted=!0,t.safeApply()})})})}var o=["$scope","$timeout","leafletData","_","$filter",i];t.module("civic-graph").controller("mapCtrl",o)}(angular,d3,L);
!function(c){"use strict";function n(c){}c.module("civic-graph").controller("analyticsCtrl",["$scope",n])}(angular);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNpdmljLWdyYXBoLm1vZHVsZS5qcyIsImFwaS9jYXRlZ29yeS5zZXJ2aWNlLmpzIiwiYXBpL2Nvbm5lY3Rpb24uc2VydmljZS5qcyIsImFwaS9maW5hbmNlLnNlcnZpY2UuanMiLCJhcGkvZnVuZGluZ0Nvbm5lY3Rpb24uc2VydmljZS5qcyIsImNvbnRyb2wvY29udHJvbERpcmVjdGl2ZS5qcyIsImVkaXQtZW50aXR5L2VkaXRDdHJsLmpzIiwiZWRpdC1lbnRpdHkvZWRpdEVudGl0eURpcmVjdGl2ZS5qcyIsImV4dHJhL2FkZE1vYmlsZUV2ZW50cy5qcyIsImV4dHJhL21vZGFsQ3RybC5qcyIsIm1haW4vYXBwLmpzIiwibWFpbi9ob21lQ3RybC5qcyIsIm1hcC9tYXBEaXJlY3RpdmUuanMiLCJuZXR3b3JrL25ldHdvcmtDdHJsLmpzIiwibmV0d29yay9uZXR3b3JrRGlyZWN0aXZlLmpzIiwibmV0d29yay9zbGlkZXJCYXIuanMiLCJvdmVydmlldy9vdmVydmlld0N0cmwuanMiLCJ1dGlsL3NlcnZpY2UuanMiLCJhbmFseXRpYy9hbmFseXRpY3NEaXJlY3RpdmUuanMiLCJhcGkvYXBpQ2FsbGVyL2NvbmZpZy5qcyIsImFwaS9hcGlDYWxsZXIvc2VydmljZS5qcyIsImFwaS9lbnRpdHkvbG9jYXRpb24uc2VydmljZS5qcyIsImFwaS9lbnRpdHkvc2VydmljZS5qcyIsImNvbnRyb2wvY29udHJvbGxlci9jb250cm9sQ3RybC5qcyIsImRldGFpbC9jb250cm9sbGVyL2RldGFpbHNDdHJsLmpzIiwibWFwL2NvbnRyb2xsZXIvbWFwQ3RybC5qcyIsImFuYWx5dGljL2NvbnRyb2xsZXIvYW5hbHl0aWNzQ3RybC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibWFpbkRlcGVuZGVuY3lMaXN0IiwiYXBpRGVwZW5kZW5jeUxpc3QiLCJtb2R1bGUiLCJTZXJ2aWNlIiwiYXBpQ2FsbGVyIiwidXRpbHMiLCJDYXRlZ29yeSIsIm9iaiIsImdldFByb3BlcnR5IiwiZ2V0UHJvcGVydHlGcm9tT2JqIiwidGhpcyIsImlkIiwibmFtZSIsImVuYWJsZWQiLCJnZXRDYXRlZ29yeU1vZGVsIiwiZ2V0QWxsIiwiZ2V0IiwiJGluamVjdCIsImZhY3RvcnkiLCJnZXRDb25uZWN0aW9uVHlwZXMiLCJGdW5kaW5nIiwiRGF0YSIsIkVtcGxveW1lbnQiLCJDb2xsYWJvcmF0aW9uIiwiQ29ubmVjdGlvbiIsImRldGFpbHMiLCJlbnRpdHkiLCJlbnRpdHlfaWQiLCJnZXRDb25uZWN0aW9uTW9kZWwiLCJ1cmwiLCJGaW5hbmNlIiwieWVhciIsImFtb3VudCIsImdldEZpbmFuY2VNb2RlbCIsIkZ1bmRpbmdDb25uZWN0aW9uIiwiZ2V0RnVuZGluZ0Nvbm5lY3Rpb25Nb2RlbCIsImNvbnRyb2xEaXJlY3RpdmUiLCJ0ZW1wbGF0ZVVybCIsInJlc3RyaWN0Iiwic2NvcGUiLCJ0b2dnbGVOZXR3b3JrIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsImJpbmRUb0NvbnRyb2xsZXIiLCJtaW5Db25uZWN0aW9ucyIsImNvbnRyb2xEZXBlbmRlbmNpZXMiLCJkaXJlY3RpdmUiLCJDb250cm9sbGVyIiwiJHNjb3BlIiwiJGh0dHAiLCIkdGltZW91dCIsIl8iLCJlbnRpdHlTZXJ2aWNlIiwiY2F0ZWdvcnlTZXJ2aWNlIiwibG9jYXRpb25TZXJ2aWNlIiwiaW5pdENhdGVnb3J5QXJyYXkiLCJjYXRlZ29yeSIsImNhdGVnb3J5SW5kZXgiLCJlbnRpdHlDYXRlZ29yeUluZGV4IiwiZW50aXR5Q2F0ZWdvcnkiLCJjYXRlZ29yaWVzIiwiaGFzT3duUHJvcGVydHkiLCJlZGl0RW50aXR5IiwiaXNFZGl0aW5nIiwiZ2V0RW50aXR5TW9kZWwiLCJlbnRpdHlUeXBlcyIsImdldEVudGl0eVR5cGVzIiwiaW5mbHVlbmNlVHlwZXMiLCJnZXRJbmZsdWVuY2VUeXBlcyIsImNhdGVnb3J5QmFja3VwIiwiYWRkcmVzc1NlYXJjaCIsInNlYXJjaCIsImpzb25wIiwicGFyYW1zIiwicXVlcnkiLCJrZXkiLCJpbmNsdWRlIiwidGhlbiIsInJlc3BvbnNlIiwiaXNEZWZpbmVkIiwiZGF0YSIsInJlc291cmNlU2V0cyIsImxlbmd0aCIsInJlc291cmNlcyIsInRvZ2dsZUNhdGVnb3J5IiwicHVzaCIsImZvdW5kIiwic2V0TG9jYXRpb24iLCJsb2NhdGlvbiIsImlzTGFzdCIsImZvcm1hdHRlZEFkZHJlc3MiLCJhcGlDYWxsUmVzdWx0IiwicmVzdWx0IiwiYWRkcmVzcyIsInBvaW50IiwiYWRkTG9jYXRpb24iLCJhZGRyZXNzX2xpbmUiLCJhZGRyZXNzTGluZSIsImxvY2FsaXR5IiwiZGlzdHJpY3QiLCJhZG1pbkRpc3RyaWN0IiwiY291bnRyeSIsImNvdW50cnlSZWdpb24iLCJjb3VudHJ5X2NvZGUiLCJjb3VudHJ5UmVnaW9uSXNvMiIsImNvb3JkaW5hdGVzIiwicG9zdGFsX2NvZGUiLCJwb3N0YWxDb2RlIiwibG9jYXRpb25zIiwiZ2V0TG9jYXRpb25Nb2RlbCIsImFkZEtleVBlcnNvbiIsInNvbWUiLCJrZXlfcGVvcGxlIiwic2V0RnVuZGluZ0Nvbm5lY3Rpb24iLCJmdW5kaW5nIiwiYWRkRnVuZGluZ0Nvbm5lY3Rpb24iLCJzZXRDb25uZWN0aW9uIiwiY29ubmVjdGlvbiIsImFkZENvbm5lY3Rpb24iLCJjb25uZWN0aW9ucyIsImFkZEZpbmFuY2UiLCJyZWNvcmRzIiwiZXZlcnkiLCJyIiwic2F2ZSIsInN1Y2Nlc3MiLCJpc1NhdmluZyIsIiRlbWl0IiwiY2FuY2VsRWRpdCIsImVycm9yIiwiaXNFcnJvciIsInNhdmVFbnRpdHkiLCJnZW5lcmF0ZURCTW9kZWwiLCJpc09wZW4iLCIkd2F0Y2giLCJuZXdWYWwiLCJvbGRWYWwiLCJlcXVhbHMiLCJjb3B5IiwiZWRpdEVudGl0eURpcmVjdGl2ZSIsImVudGl0aWVzIiwiZWRpdEVudGl0eURlcGVuZGVuY2llcyIsIiQiLCJsaW5rRnVuY3Rpb24iLCJzY3JvbGwiLCJzZWxmIiwiY3NzIiwiY2xpY2siLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsInBhcnNlSW50IiwiZGV0YWlsc1BhbmVsIiwibW9iaWxlIiwic2Nyb2xsVG9wIiwiYWRkTW9iaWxlRXZlbnRzIiwibGluayIsIm1vZGFsQ3RybCIsIiRtb2RhbEluc3RhbmNlIiwiY2xvc2VXaW5kb3ciLCJjbG9zZSIsImNvbnN0YW50IiwiY29uZmlnIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCIkY29tcGlsZVByb3ZpZGVyIiwiaHRtbDVNb2RlIiwiZGVidWdJbmZvRW5hYmxlZCIsImZpbHRlciIsImlucHV0IiwiZGVjaW1hbHMiLCJleHAiLCJzdWZmaXhlcyIsImlzTmFOIiwiTWF0aCIsImZsb29yIiwibG9nIiwicG93IiwidG9GaXhlZCIsImhvbWVDdHJsIiwiY29ubmVjdGlvblNlcnZpY2UiLCJzZWFyY2hJdGVtcyIsImN1cnJlbnRMb2NhdGlvbiIsImNsaWNrZWRMb2NhdGlvbiIsImNsaWNrZWRFbnRpdHkiLCJlZGl0aW5nIiwiYWN0aW9ucyIsImludGVyYWN0ZWQiLCJzaG93c2VhcmNoTUIiLCJzaG93QW5hbHl0aWNzIiwiY29ubmVjdGlvblR5cGVzIiwic3RhdHVzIiwiaXNOZXR3b3JrU2hvd24iLCJsaWNlbnNlIiwibmV0d29ya0xvYWRpbmciLCJ0b2dnbGVBbmFseXRpY3MiLCIkYnJvYWRjYXN0IiwiY29ubmVjdGlvbkNoYW5nZSIsImNvbnNvbGUiLCJoeWRlUGFydGlhbHMiLCJleGNlcHQiLCJzZXR0aW5nc0VuYWJsZWQiLCJzaG93U2VhcmNoIiwidG9nZ2xlU2V0dGluZ3MiLCJzdGFydEVkaXQiLCJjdXJyZW50RW50aXR5Iiwic3dpdGNoVmlldyIsIm1vYmlsZWNoZWNrIiwiY2hlY2siLCJyZWdleCIsInJlZ2V4MiIsImEiLCJ0ZXN0Iiwic3Vic3RyIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidmVuZG9yIiwib3BlcmEiLCJub2RlcyIsInVuaXEiLCJwbHVjayIsImZsYXR0ZW4iLCJlbnRpdGllc0J5TG9jYXRpb24iLCJtYXAiLCJsb2MiLCJmaW5kaW5ncyIsImZsb3ciLCJwcm9wZXJ0eSIsInBhcnRpYWxSaWdodCIsImFueSIsInR5cGUiLCJkaWN0IiwiemlwT2JqZWN0IiwiY29uY2F0Iiwib3ZlcnZpZXdVcmwiLCJzZXRFbnRpdHkiLCJzdG9wRWRpdCIsInNldEVudGl0eUlEIiwiZmluZCIsInNlbGVjdEl0ZW0iLCJpdGVtIiwiJG9uIiwiZXZlbnQiLCJhcmdzIiwidmFsdWUiLCJzZXRFbnRpdGllcyIsImFuaW1hdGlvbnNFbmFibGVkIiwiaG9tZURlcGVuZGVuY2llcyIsImRlcGVuZGVuY2llcyIsIiRmaWx0ZXIiLCJzdGFydExvYWQiLCJmaWx0ZXJlZEVudGl0aWVzIiwiY29sbGFib3JhdGlvbnMiLCJmaWx0ZXJlZENvbm5lY3Rpb25zIiwiZm9yRWFjaCIsImtleXMiLCJzb3VyY2VOb2RlIiwic291cmNlIiwidGFyZ2V0Tm9kZSIsInRhcmdldCIsInRvcDUiLCJ0YWtlUmlnaHQiLCJzb3J0QnkiLCJ3ZWxsY29ubmVjdGVkIiwiZSIsImRyYXdOZXR3b3JrIiwiaXNMb2FkaW5nIiwic2FmZUFwcGx5IiwiZm4iLCJwaGFzZSIsIiRyb290IiwiJCRwaGFzZSIsIiRhcHBseSIsInZpZXdPYmoiLCJlbnRpdHlBcnJheSIsImNvbm5lY3Rpb25BcnJheSIsInN2ZyIsImQzIiwic2VsZWN0Iiwic2VsZWN0QWxsIiwicmVtb3ZlIiwiYm91bmRzIiwibm9kZSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImhlaWdodCIsIndpZHRoIiwib2Zmc2V0U2NhbGUiLCJkZWZhdWx0Tm9kZVNpemUiLCJvZmZzZXRzIiwiSW5kaXZpZHVhbCIsIngiLCJ5IiwiRm9yLVByb2ZpdCIsIk5vbi1Qcm9maXQiLCJHb3Zlcm5tZW50IiwibG93ZXJCb3VuZFJhZGl1cyIsInVwcGVyQm91bmRSYWRpdXMiLCJtYXhFbXBsb3llZXMiLCJtYXgiLCJlbCIsImVtcGxveWVlcyIsIm1heEZvbGxvd2VycyIsImZvbGxvd2VycyIsInNjYWxlIiwic3FydCIsImRvbWFpbiIsInJhbmdlIiwibGlua3MiLCJmb3JjZSIsImxheW91dCIsInNpemUiLCJ2YWx1ZXMiLCJjaGFyZ2UiLCJkIiwibGlua1N0cmVuZ3RoIiwibGlua0Rpc3RhbmNlIiwiZW50ZXIiLCJhcHBlbmQiLCJhdHRyIiwiY2FsbCIsImRyYWciLCJ0ZXh0Iiwibmlja25hbWUiLCJnZXRDb21wdXRlZFRleHRMZW5ndGgiLCJwYXJlbnROb2RlIiwiZ2V0QkJveCIsIm9uIiwiayIsImFscGhhIiwibWluIiwic3BlZWRBbmltYXRlIiwidGlja3MiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyZW5kZXIiLCJpIiwidGljayIsInN0YXJ0IiwibGlua2VkQnlJbmRleCIsImwiLCJfX2RhdGFfXyIsImluZGV4IiwiaG92ZXJUaW1lciIsIm5laWdoYm9yaW5nIiwiYiIsImZvY3VzbmVpZ2hib3JzIiwiY2xhc3NlZCIsIm4iLCJvIiwiZm9jdXMiLCJ1bmZvY3VzIiwiZml4ZWQiLCJyZXN1bWUiLCJob3ZlciIsInNldFRpbWVvdXQiLCJ1bmhvdmVyIiwiY2xlYXJUaW1lb3V0IiwiZm9jdXNMb2NhdGlvbiIsInVuZm9jdXNMb2NhdGlvbiIsImhpZ2hsaWdodExvY2F0aW9uIiwic2hvd0xpY2Vuc2UiLCJzdG9wUHJvcGFnYXRpb24iLCJiYWNrZ3JvdW5kY2xpY2siLCJkYmxjbGljayIsInB4IiwicHkiLCJzaXplQnkiLCJ0cmFuc2l0aW9uIiwiZHVyYXRpb24iLCJ2YWwiLCJ2aXNpYmxlIiwiaGlkZGVuIiwiUlRQIiwicmVzdGljdCIsInJlcXVpcmUiLCJlbGVtZW50IiwiYXR0cnMiLCJuZ01vZGVsIiwidG9Mb3dlckNhc2UiLCIkcGFyc2VycyIsInBhcnNlRmxvYXQiLCJvdmVydmlld0N0cmwiLCJjYXRlZ29yaXplZEVudGl0aWVzIiwiaXNPYmplY3QiLCJBcnJheSIsImlzQXJyYXkiLCJkZWZPYmoiLCJkZWZhdWx0VmFsdWUiLCJsb29wQW5kSW5pdCIsIm1vZGVsQXJyYXkiLCJpbml0TW9kZWxGdW5jdGlvbiIsIm5ld0FycmF5IiwiYW5hbHl0aWNzRGlyZWN0aXZlIiwiYW5hbHl0aWNzRGVwZW5kZW5jaWVzIiwiQ29uZmlnIiwiJGh0dHBQcm92aWRlciIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiIsIiRxIiwibG9nQXBpRXJyb3IiLCJlcnIiLCJyZWplY3QiLCJ1bndyYXBBbmd1bGFySHR0cCIsImFwaVVybCIsImRlZmF1bHRIZWFkZXIiLCJwb3N0IiwiTG9jYXRpb24iLCJidWlsZEZvcm1hdHRlZEFkZHJlc3MiLCJjb3VudHJ5Q29kZSIsInRyaW0iLCJmdW5Db25uU2VydmljZSIsImNvbm5TZXJ2aWNlIiwiZmluYW5jZVNlcnZpY2UiLCJFbnRpdHkiLCJkYk1vZGVsIiwicG9wIiwiZ3JhbnRzX3JlY2VpdmVkIiwiZ3JhbnRzX2dpdmVuIiwiaW52ZXN0bWVudHNfcmVjZWl2ZWQiLCJpbnZlc3RtZW50c19tYWRlIiwiZGF0YV9naXZlbiIsImRhdGFfcmVjZWl2ZWQiLCJlbXBsb3ltZW50cyIsInJldmVudWVzIiwiZXhwZW5zZXMiLCJkZXNjcmlwdGlvbiIsImluZmx1ZW5jZSIsInR3aXR0ZXJfaGFuZGxlIiwiY29udHJvbEN0cmwiLCIkcm9vdFNjb3BlIiwiJG1vZGFsIiwidm0iLCJjaGFuZ2VWaWV3Iiwic2l6ZUJ5TGlzdCIsInNob3dWaWV3IiwiTmV0d29yayIsIk1hcCIsInZpZXciLCJzaG93QWJvdXQiLCJvcGVuIiwiYW5pbWF0aW9uIiwidG9nZ2xlTm9kZSIsInRvZ2dsZUxpbmsiLCJjaGFuZ2VTaXplQnkiLCJjb250cm9sRGVwcyIsImRldGFpbHNDdHJsIiwiaXRlbXNTaG93bkRlZmF1bHQiLCJyZWxhdGlvbnMiLCJpdGVtc1Nob3duIiwiY2xvbmUiLCJzaG93TW9yZSIsInNob3dMZXNzIiwiTCIsIm1hcEN0cmwiLCJsZWFmbGV0RGF0YSIsIm9wdGlvbnMiLCJjZW50ZXIiLCJsYXQiLCJsbmciLCJ6b29tIiwidGlsZUxheWVyIiwidGlsZUxheWVyT3B0aW9ucyIsImRldGVjdFJldGluYSIsInJldXNlVGlsZXMiLCJ6b29tQ29udHJvbCIsImF0dHJpYnV0aW9uQ29udHJvbCIsImNyZWF0ZVBpZUNoYXJ0IiwicGllIiwic29ydCIsImFyYyIsIm91dGVyUmFkaXVzIiwiaW5uZXJSYWRpdXMiLCJzdHJva2VXaWR0aCIsInciLCJoIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJucyIsInByZWZpeCIsInZpcyIsImFyY3MiLCJjb3VudCIsInRvU3RyaW5nIiwiWE1MU2VyaWFsaXplciIsInNlcmlhbGl6ZVRvU3RyaW5nIiwieG1sIiwiZ2V0TWFwIiwiY2x1c3Rlckljb24iLCJjbHVzdGVyIiwiY2hpbGRyZW4iLCJnZXRBbGxDaGlsZE1hcmtlcnMiLCJ0b3RhbCIsImNsdXN0ZXJNYXJrZXJzIiwiY291bnRzIiwiY291bnRCeSIsImljb25EaW0iLCJodG1sIiwiRGl2SWNvbiIsImNsYXNzTmFtZSIsImljb25TaXplIiwib3V0ZXJMb29wIiwiaW5uZXJMb29wIiwibSIsIm1hcmtlciIsImljb24iLCJtYXJrZXJJY29uIiwidGl0bGUiLCJtZXNzYWdlIiwibWFya2VycyIsImFkZExheWVyIiwib25Mb2NhdGlvbkVycm9yIiwibGVhZmxldEVycm9yIiwiaW52YWxpZGF0ZVNpemUiLCJDb250cm9sIiwiWm9vbSIsInBvc2l0aW9uIiwiYWRkVG8iLCJjb250cm9sIiwibG9jYXRlIiwic2hvd1BvcHVwIiwiaWNvblVybCIsIm1hcmtlckNsdXN0ZXJHcm91cCIsInNwaWRlcmZ5T25NYXhab29tIiwic2hvd0NvdmVyYWdlT25Ib3ZlciIsImljb25DcmVhdGVGdW5jdGlvbiIsIm1heENsdXN0ZXJSYWRpdXMiLCJzcGlkZXJmeURpc3RhbmNlTXVsdGlwbGllciIsImxheWVyIiwic2V0VmlldyIsImFuYWx5dGljc0N0cmwiXSwibWFwcGluZ3MiOiJDQUFBLFNBQVVBLEdBRU4sWUFFQSxJQUFJQyxJQUNBLGVBQ0Esb0JBQ0EsWUFDQSxnQkFDQSxrQkFDQSxvQkFHQUMsR0FBcUIsbUJBRXpCRixHQUFRRyxPQUFPLHVCQUNmSCxFQUFRRyxPQUFPLGtCQUFtQkQsR0FDbENGLEVBQVFHLE9BQU8sY0FBZUYsSUFFL0JEO0ND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LEVBQU95TixrQkE3THZCLEdBQUluQixJQUNBLFNBQ0EsV0FDQSxjQUNBLElBQ0EsVUFDQTZNLEVBNkxKcGMsR0FBUUcsT0FBTyxlQUVWdUMsV0FBVyxVQUFXNk0sSUFDNUJ2UCxRQUFTb1IsR0FBSStLO0NDck1oQixTQUFXbmMsR0FFUCxZQUVBLFNBQVNnaEIsR0FBYy9kLElBSXZCakQsRUFBUUcsT0FBTyxlQUNWdUMsV0FBVyxpQkFBa0IsU0FBVXNlLEtBQzdDaGhCIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIG1haW5EZXBlbmRlbmN5TGlzdCA9IFtcbiAgICAgICAgXCJ1aS5ib290c3RyYXBcIixcbiAgICAgICAgXCJsZWFmbGV0LWRpcmVjdGl2ZVwiLFxuICAgICAgICBcIm5nQW5pbWF0ZVwiLFxuICAgICAgICBcInRlbXBsYXRlQ2FjaGVcIixcbiAgICAgICAgXCJjaXZpYy1ncmFwaC5hcGlcIixcbiAgICAgICAgXCJjaXZpYy1ncmFwaC51dGlsXCJcbiAgICBdO1xuXG4gICAgdmFyIGFwaURlcGVuZGVuY3lMaXN0ID0gW1wiY2l2aWMtZ3JhcGgudXRpbFwiXTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKFwiY2l2aWMtZ3JhcGgudXRpbFwiLCBbXSk7XG4gICAgYW5ndWxhci5tb2R1bGUoXCJjaXZpYy1ncmFwaC5hcGlcIiwgYXBpRGVwZW5kZW5jeUxpc3QpO1xuICAgIGFuZ3VsYXIubW9kdWxlKFwiY2l2aWMtZ3JhcGhcIiwgbWFpbkRlcGVuZGVuY3lMaXN0KTtcblxufSkoYW5ndWxhcik7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDYvMjgvMTYuXG4gKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGZ1bmN0aW9uIFNlcnZpY2UoYXBpQ2FsbGVyLCB1dGlscykge1xuXG4gICAgICAgIGZ1bmN0aW9uIENhdGVnb3J5KG9iaikge1xuICAgICAgICAgICAgdmFyIGdldFByb3BlcnR5ID0gdXRpbHMuZ2V0UHJvcGVydHlGcm9tT2JqKG9iaik7XG5cbiAgICAgICAgICAgIHRoaXMuaWQgPSBnZXRQcm9wZXJ0eShcImlkXCIpO1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gZ2V0UHJvcGVydHkoXCJuYW1lXCIpO1xuICAgICAgICAgICAgdGhpcy5lbmFibGVkID0gZ2V0UHJvcGVydHkoXCJlbmFibGVcIiwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRDYXRlZ29yeU1vZGVsKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDYXRlZ29yeShvYmopO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0QWxsKCkge1xuICAgICAgICAgICAgcmV0dXJuIGFwaUNhbGxlci5nZXQoXCIvY2F0ZWdvcmllc1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBcImdldENhdGVnb3J5TW9kZWxcIjogZ2V0Q2F0ZWdvcnlNb2RlbCxcbiAgICAgICAgICAgIFwiZ2V0QWxsXCI6IGdldEFsbFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIFNlcnZpY2UuJGluamVjdCA9IFtcImNnQXBpQ2FsbGVyXCIsIFwiY2dVdGlsU2VydmljZVwiXTtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZShcImNpdmljLWdyYXBoLmFwaVwiKVxuICAgICAgICAuZmFjdG9yeShcImNhdGVnb3J5U2VydmljZVwiLCBTZXJ2aWNlKTtcblxufSkoYW5ndWxhcik7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDYvMjcvMTYuXG4gKi9cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICB2YXIgdXJsID0gXCIvY29ubmVjdGlvbnNcIjtcblxuICAgIGZ1bmN0aW9uIGdldENvbm5lY3Rpb25UeXBlcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFwiRnVuZGluZ1wiOiB0cnVlLFxuICAgICAgICAgICAgXCJEYXRhXCI6IHRydWUsXG4gICAgICAgICAgICBcIkVtcGxveW1lbnRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiQ29sbGFib3JhdGlvblwiOiB0cnVlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gU2VydmljZShhcGlDYWxsZXIsIHV0aWxzKSB7XG5cbiAgICAgICAgZnVuY3Rpb24gQ29ubmVjdGlvbihvYmopIHtcbiAgICAgICAgICAgIHZhciBnZXRQcm9wZXJ0eSA9IHV0aWxzLmdldFByb3BlcnR5RnJvbU9iaihvYmopO1xuXG4gICAgICAgICAgICB0aGlzLmlkID0gZ2V0UHJvcGVydHkoXCJpZFwiKTtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IGdldFByb3BlcnR5KFwibmFtZVwiKTtcbiAgICAgICAgICAgIHRoaXMuZGV0YWlscyA9IGdldFByb3BlcnR5KFwiZGV0YWlsc1wiKTtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5ID0gZ2V0UHJvcGVydHkoXCJlbnRpdHlcIik7XG4gICAgICAgICAgICB0aGlzLmVudGl0eV9pZCA9IGdldFByb3BlcnR5KFwiZW50aXR5X2lkXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0Q29ubmVjdGlvbk1vZGVsKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb25uZWN0aW9uKG9iaik7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRBbGwoKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBpQ2FsbGVyLmdldCh1cmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFwiZ2V0QWxsXCI6IGdldEFsbCxcbiAgICAgICAgICAgIFwiZ2V0Q29ubmVjdGlvblR5cGVzXCI6IGdldENvbm5lY3Rpb25UeXBlcyxcbiAgICAgICAgICAgIFwiZ2V0Q29ubmVjdGlvbk1vZGVsXCI6IGdldENvbm5lY3Rpb25Nb2RlbFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIFNlcnZpY2UuJGluamVjdCA9IFtcImNnQXBpQ2FsbGVyXCIsIFwiY2dVdGlsU2VydmljZVwiXTtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZShcImNpdmljLWdyYXBoLmFwaVwiKVxuICAgICAgICAuZmFjdG9yeShcImNvbm5lY3Rpb25TZXJ2aWNlXCIsIFNlcnZpY2UpO1xuXG59KShhbmd1bGFyKTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNi8yNy8xNi5cbiAqL1xuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGZ1bmN0aW9uIFNlcnZpY2UodXRpbHMpIHtcbiAgICAgICAgZnVuY3Rpb24gRmluYW5jZShvYmopIHtcbiAgICAgICAgICAgIHZhciBnZXRQcm9wZXJ0eSA9IHV0aWxzLmdldFByb3BlcnR5RnJvbU9iaihvYmopO1xuXG4gICAgICAgICAgICB0aGlzLmlkID0gZ2V0UHJvcGVydHkoXCJpZFwiKTtcbiAgICAgICAgICAgIHRoaXMueWVhciA9IGdldFByb3BlcnR5KFwieWVhclwiKTtcbiAgICAgICAgICAgIHRoaXMuYW1vdW50ID0gZ2V0UHJvcGVydHkoXCJhbW91bnRcIiwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRGaW5hbmNlTW9kZWwob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZpbmFuY2Uob2JqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBcImdldEZpbmFuY2VNb2RlbFwiOiBnZXRGaW5hbmNlTW9kZWxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBTZXJ2aWNlLiRpbmplY3QgPSBbXCJjZ1V0aWxTZXJ2aWNlXCJdO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKFwiY2l2aWMtZ3JhcGguYXBpXCIpXG4gICAgICAgIC5mYWN0b3J5KFwiZmluYW5jZVNlcnZpY2VcIiwgU2VydmljZSk7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI3LzE2LlxuICovXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgZnVuY3Rpb24gU2VydmljZSh1dGlscykge1xuXG4gICAgICAgIGZ1bmN0aW9uIEZ1bmRpbmdDb25uZWN0aW9uKG9iaikge1xuICAgICAgICAgICAgdmFyIGdldFByb3BlcnR5ID0gdXRpbHMuZ2V0UHJvcGVydHlGcm9tT2JqKG9iaik7XG5cbiAgICAgICAgICAgIHRoaXMuaWQgPSBnZXRQcm9wZXJ0eShcImlkXCIpO1xuICAgICAgICAgICAgdGhpcy55ZWFyID0gZ2V0UHJvcGVydHkoXCJ5ZWFyXCIpO1xuICAgICAgICAgICAgdGhpcy5hbW91bnQgPSBnZXRQcm9wZXJ0eShcImFtb3VudFwiKTtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5ID0gZ2V0UHJvcGVydHkoXCJlbnRpdHlcIiwgXCJcIik7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRGdW5kaW5nQ29ubmVjdGlvbk1vZGVsKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBGdW5kaW5nQ29ubmVjdGlvbihvYmopO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFwiZ2V0RnVuZGluZ0Nvbm5lY3Rpb25Nb2RlbFwiOiBnZXRGdW5kaW5nQ29ubmVjdGlvbk1vZGVsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgU2VydmljZS4kaW5qZWN0ID0gW1wiY2dVdGlsU2VydmljZVwiXTtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZShcImNpdmljLWdyYXBoLmFwaVwiKVxuICAgICAgICAuZmFjdG9yeShcImZ1bmRpbmdDb25uZWN0aW9uU2VydmljZVwiLCBTZXJ2aWNlKTtcblxufSkoYW5ndWxhcik7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDcvMTAvMTYuXG4gKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgY29udHJvbERlcGVuZGVuY2llcyA9IFtjb250cm9sRGlyZWN0aXZlXTtcblxuICAgIGZ1bmN0aW9uIGNvbnRyb2xEaXJlY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2pzL2NvbnRyb2wvY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICByZXN0cmljdCAgIDogJ0UnLFxuICAgICAgICAgICAgc2NvcGUgICAgICA6IHtcbiAgICAgICAgICAgICAgICB0b2dnbGVOZXR3b3JrIDogJz0nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgICA6ICdjb250cm9sQ3RybCcsXG4gICAgICAgICAgICBjb250cm9sbGVyQXMgOiAnY29udHJvbCcsXG4gICAgICAgICAgICBiaW5kVG9Db250cm9sbGVyIDoge1xuICAgICAgICAgICAgICAgIG1pbkNvbm5lY3Rpb25zIDogXCI9XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuZGlyZWN0aXZlKCdjb250cm9sJywgY29udHJvbERlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGZ1bmN0aW9uIENvbnRyb2xsZXIoJHNjb3BlLCAkaHR0cCwgJHRpbWVvdXQsIF8sIGVudGl0eVNlcnZpY2UsIGNhdGVnb3J5U2VydmljZSwgbG9jYXRpb25TZXJ2aWNlLCB1dGlscykge1xuICAgICAgICAkc2NvcGUuaXNFZGl0aW5nID0gZmFsc2U7XG4gICAgICAgICRzY29wZS5lZGl0RW50aXR5ID0gZW50aXR5U2VydmljZS5nZXRFbnRpdHlNb2RlbCgkc2NvcGUuZW50aXR5KTtcbiAgICAgICAgJHNjb3BlLmVudGl0eVR5cGVzID0gZW50aXR5U2VydmljZS5nZXRFbnRpdHlUeXBlcygpO1xuICAgICAgICAkc2NvcGUuaW5mbHVlbmNlVHlwZXMgPSBlbnRpdHlTZXJ2aWNlLmdldEluZmx1ZW5jZVR5cGVzKCk7XG5cbiAgICAgICAgdmFyIGNhdGVnb3J5QmFja3VwO1xuXG4gICAgICAgICRzY29wZS5jYXRlZ29yaWVzID0gW107XG5cbiAgICAgICAgJHNjb3BlLmFkZHJlc3NTZWFyY2ggPSBmdW5jdGlvbiAoc2VhcmNoKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuanNvbnAoJ2h0dHBzOi8vZGV2LnZpcnR1YWxlYXJ0aC5uZXQvUkVTVC92MS9Mb2NhdGlvbnMnLCB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBzZWFyY2gsXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ0FpNTg1ODF5Qy1TcjdtY0ZiWVR0VWtTM2l4RTdmNlp1Sm5iRkpDVkk0aEF0VzFYb0RFZVp5aWRRejJnTENDeUQnLFxuICAgICAgICAgICAgICAgICAgICAnanNvbnAnOiAnSlNPTl9DQUxMQkFDSycsXG4gICAgICAgICAgICAgICAgICAgICdpbmNsdWRlJzogJ2Npc28yJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1dGlscy5pc0RlZmluZWQocmVzcG9uc2UuZGF0YS5yZXNvdXJjZVNldHMpICYmIHJlc3BvbnNlLmRhdGEucmVzb3VyY2VTZXRzLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgICAgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5yZXNvdXJjZVNldHNbMF0ucmVzb3VyY2VzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnRvZ2dsZUNhdGVnb3J5ID0gZnVuY3Rpb24gKGNhdGVnb3J5KSB7XG4gICAgICAgICAgICBpZiAoJHNjb3BlLmVkaXRFbnRpdHkuY2F0ZWdvcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdEVudGl0eS5jYXRlZ29yaWVzLnB1c2goY2F0ZWdvcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjYXRlZ29yeUluZGV4IGluICRzY29wZS5lZGl0RW50aXR5LmNhdGVnb3JpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuZWRpdEVudGl0eS5jYXRlZ29yaWVzLmhhc093blByb3BlcnR5KGNhdGVnb3J5SW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgZW50aXR5Q2F0ZWdvcnkgPSAkc2NvcGUuZWRpdEVudGl0eS5jYXRlZ29yaWVzW2NhdGVnb3J5SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW50aXR5Q2F0ZWdvcnkuaWQgPT09IGNhdGVnb3J5LmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHlDYXRlZ29yeS5lbmFibGVkID0gY2F0ZWdvcnkuZW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVkaXRFbnRpdHkuY2F0ZWdvcmllcy5wdXNoKGNhdGVnb3J5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnNldExvY2F0aW9uID0gZnVuY3Rpb24gKGxvY2F0aW9uLCBpc0xhc3QpIHtcbiAgICAgICAgICAgICRzY29wZS5hZGRyZXNzU2VhcmNoKGxvY2F0aW9uLmZvcm1hdHRlZEFkZHJlc3MpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGFwaUNhbGxSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoIXV0aWxzLmlzRGVmaW5lZChhcGlDYWxsUmVzdWx0WzBdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBhcGlDYWxsUmVzdWx0WzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyA9IHJlc3VsdC5hZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQgPSByZXN1bHQucG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRMb2NhdGlvbihpc0xhc3QpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFBhcnNlcyBBUEkgY2FsbCByZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uYWRkcmVzc19saW5lID0gdXRpbHMuaXNEZWZpbmVkKGFkZHJlc3MuYWRkcmVzc0xpbmUpID8gYWRkcmVzcy5hZGRyZXNzTGluZSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5sb2NhbGl0eSA9IHV0aWxzLmlzRGVmaW5lZChhZGRyZXNzLmxvY2FsaXR5KSA/IGFkZHJlc3MubG9jYWxpdHkgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uZGlzdHJpY3QgPVxuICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHMuaXNEZWZpbmVkKGFkZHJlc3MuYWRtaW5EaXN0cmljdCkgPyBhZGRyZXNzLmFkbWluRGlzdHJpY3QgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uY291bnRyeSA9XG4gICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5pc0RlZmluZWQoYWRkcmVzcy5jb3VudHJ5UmVnaW9uKSA/IGFkZHJlc3MuY291bnRyeVJlZ2lvbiA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmNvdW50cnlfY29kZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5pc0RlZmluZWQoYWRkcmVzcy5jb3VudHJ5UmVnaW9uSXNvMikgPyBhZGRyZXNzLmNvdW50cnlSZWdpb25Jc28yIDogJyc7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmNvb3JkaW5hdGVzID0gdXRpbHMuaXNEZWZpbmVkKHBvaW50LmNvb3JkaW5hdGVzKSA/IHBvaW50LmNvb3JkaW5hdGVzIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucG9zdGFsX2NvZGUgPSB1dGlscy5pc0RlZmluZWQoYWRkcmVzcy5wb3N0YWxDb2RlKSA/IGFkZHJlc3MucG9zdGFsQ29kZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmFkZExvY2F0aW9uID0gZnVuY3Rpb24gKGlzTGFzdCkge1xuICAgICAgICAgICAgaWYgKGlzTGFzdCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5lZGl0RW50aXR5LmxvY2F0aW9ucy5wdXNoKGxvY2F0aW9uU2VydmljZS5nZXRMb2NhdGlvbk1vZGVsKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5hZGRLZXlQZXJzb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBBZGQgYmxhbmsgZmllbGQgdG8gZWRpdCBpZiB0aGVyZSBhcmUgbm9uZS5cbiAgICAgICAgICAgIC8vIFdBVENIIE9VVCEgVE9ETzogSWYgc29tZW9uZSBkZWxldGVzIGFuIG9sZCBwZXJzb24sIGRlbGV0ZSB0aGVpciBpZCB0b28uXG4gICAgICAgICAgICAvLyBpLmUuIG1ha2Ugc3VyZSBvbGQvY2xlYXJlZCBmb3JtIGZpZWxkcyBhcmVuJ3QgYmVpbmcgZWRpdGVkIGludG8gbmV3IHBlb3BsZS5cbiAgICAgICAgICAgIGlmICghKF8uc29tZSgkc2NvcGUuZWRpdEVudGl0eS5rZXlfcGVvcGxlLCB7J25hbWUnOiAnJywgJ2lkJzogbnVsbH0pKSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5lZGl0RW50aXR5LmtleV9wZW9wbGUucHVzaCh7J25hbWUnOiAnJywgJ2lkJzogbnVsbH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zZXRGdW5kaW5nQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIChlbnRpdHksIGZ1bmRpbmcpIHtcbiAgICAgICAgICAgIC8vIEFkZCBvdGhlciBlbnRpdHkncyBpZCB0byB0aGlzIGZpbmFuY2UgY29ubmVjdGlvbi5cbiAgICAgICAgICAgIGZ1bmRpbmcuZW50aXR5X2lkID0gZW50aXR5LmlkO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5hZGRGdW5kaW5nQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIChmdW5kaW5nKSB7XG4gICAgICAgICAgICBpZiAoIV8uc29tZShmdW5kaW5nLCB7J2VudGl0eSc6ICcnfSkpIHtcbiAgICAgICAgICAgICAgICAvLyBNYXliZSBzZXQgYW1vdW50IHRvIDAgaW5zdGVhZCBvZiBudWxsP1xuICAgICAgICAgICAgICAgIGZ1bmRpbmcucHVzaCh7J2VudGl0eSc6ICcnLCAnYW1vdW50JzogbnVsbCwgJ3llYXInOiBudWxsLCAnaWQnOiBudWxsfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnNldENvbm5lY3Rpb24gPSBmdW5jdGlvbiAoZW50aXR5LCBjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICBjb25uZWN0aW9uLmVudGl0eV9pZCA9IGVudGl0eS5pZDtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuYWRkQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIChjb25uZWN0aW9ucykge1xuICAgICAgICAgICAgLy8gQWRkIGFuIGVtcHR5IGNvbm5lY3Rpb24gdG8gZWRpdCBpZiBub25lIGV4aXN0LlxuICAgICAgICAgICAgaWYgKCFfLnNvbWUoY29ubmVjdGlvbnMsIHsnZW50aXR5JzogJycsICdpZCc6IG51bGx9KSkge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zLnB1c2goeydlbnRpdHknOiAnJywgJ2lkJzogbnVsbCwgJ2RldGFpbHMnOiBudWxsfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmFkZEZpbmFuY2UgPSBmdW5jdGlvbiAocmVjb3Jkcykge1xuICAgICAgICAgICAgLy8gQWRkIG5ldyBmaW5hbmNlIGZpZWxkIGlmIGFsbCBjdXJyZW50IGZpZWxkcyBhcmUgdmFsaWQuXG4gICAgICAgICAgICBpZiAoXy5ldmVyeShyZWNvcmRzLCBmdW5jdGlvbiAocikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gci5hbW91bnQgPiAwICYmIHIueWVhciA+IDE3NTA7XG4gICAgICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgICAgICByZWNvcmRzLnB1c2goeydhbW91bnQnOiBudWxsLCAneWVhcic6IG51bGwsICdpZCc6IG51bGx9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRzY29wZS5pc1NhdmluZyA9IHRydWU7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuaXNTYXZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoXCJlZGl0RW50aXR5U3VjY2Vzc1wiLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgLy8gQ2FsbCB0byBob21lQ3RybCdzIHBhcmVudCBzdG9wRWRpdCgpIHRvIGNoYW5nZSB2aWV3IGJhY2sgYW5kIGFueSBvdGhlclxuICAgICAgICAgICAgICAgIC8vIGhpZ2gtbGV2ZWwgY2hhbmdlcy5cbiAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsRWRpdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBlcnJvcigpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuaXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbnRpdHlTZXJ2aWNlXG4gICAgICAgICAgICAgICAgLnNhdmVFbnRpdHkoJHNjb3BlLmVkaXRFbnRpdHkuZ2VuZXJhdGVEQk1vZGVsKCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oc3VjY2VzcywgZXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5jYW5jZWxFZGl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ2VudGl0eScsIGZ1bmN0aW9uIChuZXdWYWwsIG9sZFZhbCkge1xuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuZXF1YWxzKG5ld1ZhbCwgb2xkVmFsKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJHNjb3BlLmVkaXRFbnRpdHkgPSBlbnRpdHlTZXJ2aWNlLmdldEVudGl0eU1vZGVsKG5ld1ZhbCk7XG4gICAgICAgICAgICAkc2NvcGUuY2F0ZWdvcmllcyA9IGFuZ3VsYXIuY29weShjYXRlZ29yeUJhY2t1cCk7XG5cbiAgICAgICAgICAgIGluaXRDYXRlZ29yeUFycmF5KCk7XG5cbiAgICAgICAgICAgICRzY29wZS5pc0VkaXRpbmcgPSB1dGlscy5pc0RlZmluZWQoJHNjb3BlLmVkaXRFbnRpdHkuaWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5pdGlhbGl6ZXMgY2F0ZWdvcnkgZmllbGRzIHdpdGggZW50aXR5IHZhbHVlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogTG9vcHMgdGhyb3VnaCBjYXRlZ29yeSBpbiBjYXRlZ29yaWVzIGFuZCBsb29wcyB0aHJvdWdoIGNhdGVnb3J5IGluIGVudGl0eS4gSWRlbnRpZmllc1xuICAgICAgICAgKiBjYXRlZ29yaWVzIGVuYWJsZWQgaW4gdGhlIGVudGl0eSBhbmQgc2V0cyBsb2NhbCBkaXNwbGF5IGRhdGEuIFRoaXMgaXMgYmVjYXVzZSB3ZSBjcmVhdGVkXG4gICAgICAgICAqIGEgYmFja3VwIG9mIGVudGl0eSBkYXRhIHNvIHRoYXQgdGhlIGFwaSBkYXRhIGlzIG5vdCB0YW1wZXJlZCB3aXRoIGRpcmVjdGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUT0RPOiByZXBsYWNlIHdpdGggYmV0dGVyIGRhdGEgc3RydWN0dXJlIGZvciBjYXRlZ29yaWVzLlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaW5pdENhdGVnb3J5QXJyYXkoKSB7XG4gICAgICAgICAgICB2YXIgY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlJbmRleCxcbiAgICAgICAgICAgICAgICBlbnRpdHlDYXRlZ29yeUluZGV4LFxuICAgICAgICAgICAgICAgIGVudGl0eUNhdGVnb3J5O1xuXG4gICAgICAgICAgICBmb3IgKGNhdGVnb3J5SW5kZXggaW4gJHNjb3BlLmNhdGVnb3JpZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoISRzY29wZS5jYXRlZ29yaWVzLmhhc093blByb3BlcnR5KGNhdGVnb3J5SW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRlZ29yeSA9ICRzY29wZS5jYXRlZ29yaWVzW2NhdGVnb3J5SW5kZXhdO1xuICAgICAgICAgICAgICAgIGZvciAoZW50aXR5Q2F0ZWdvcnlJbmRleCBpbiAkc2NvcGUuZWRpdEVudGl0eS5jYXRlZ29yaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghJHNjb3BlLmVkaXRFbnRpdHkuY2F0ZWdvcmllcy5oYXNPd25Qcm9wZXJ0eShlbnRpdHlDYXRlZ29yeUluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZW50aXR5Q2F0ZWdvcnkgPSAkc2NvcGUuZWRpdEVudGl0eS5jYXRlZ29yaWVzW2VudGl0eUNhdGVnb3J5SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcnkuaWQgPT09IGVudGl0eUNhdGVnb3J5LmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeS5lbmFibGVkID0gZW50aXR5Q2F0ZWdvcnkuZW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJldHJpZXZlIENhdGVnb3JpZXMgZnJvbSBEQlxuICAgICAgICBjYXRlZ29yeVNlcnZpY2VcbiAgICAgICAgICAgIC5nZXRBbGwoKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeUJhY2t1cCA9IGRhdGEuY2F0ZWdvcmllcztcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGVzIGJhY2t1cCBvZiBkYXRhIHVzaW5nIEFuZ3VsYXIgdG8gcHJldmVudCBhcGkgZGF0YSBmcm9tIGJlaW5nIHRhbXBlcmVkXG4gICAgICAgICAgICAgICAgLy8gZGlyZWN0bHlcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2F0ZWdvcmllcyA9IGFuZ3VsYXIuY29weShjYXRlZ29yeUJhY2t1cCk7XG4gICAgICAgICAgICAgICAgLy8gJHNjb3BlLmNhdGVnb3JpZXMgPSBkYXRhLmNhdGVnb3JpZXM7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBDb250cm9sbGVyLiRpbmplY3QgPSBbXG4gICAgICAgIFwiJHNjb3BlXCIsXG4gICAgICAgIFwiJGh0dHBcIixcbiAgICAgICAgXCIkdGltZW91dFwiLFxuICAgICAgICBcIl9cIixcbiAgICAgICAgXCJlbnRpdHlTZXJ2aWNlXCIsXG4gICAgICAgIFwiY2F0ZWdvcnlTZXJ2aWNlXCIsXG4gICAgICAgIFwibG9jYXRpb25TZXJ2aWNlXCIsXG4gICAgICAgIFwiY2dVdGlsU2VydmljZVwiXG4gICAgXTtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZShcImNpdmljLWdyYXBoXCIpXG4gICAgICAgIC5jb250cm9sbGVyKFwiZWRpdEN0cmxcIiwgQ29udHJvbGxlcik7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiLyoqXG4gKlxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNi8yNy8xNi5cbiAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBlZGl0RW50aXR5RGVwZW5kZW5jaWVzID0gW2VkaXRFbnRpdHlEaXJlY3RpdmVdO1xuXG4gICAgZnVuY3Rpb24gZWRpdEVudGl0eURpcmVjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvZWRpdC1lbnRpdHkvZWRpdC5odG1sJyxcbiAgICAgICAgICAgIHJlc3RyaWN0ICAgOiAnRScsXG4gICAgICAgICAgICBzY29wZSAgICAgIDoge1xuICAgICAgICAgICAgICAgICdlbnRpdHknICA6IFwiPVwiLFxuICAgICAgICAgICAgICAgICdlbnRpdGllcyc6IFwiPVwiLFxuICAgICAgICAgICAgICAgICdpc09wZW4nICA6IFwiPVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udHJvbGxlciA6ICdlZGl0Q3RybCdcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuZGlyZWN0aXZlKCdlZGl0RW50aXR5JywgZWRpdEVudGl0eURlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uIChhbmd1bGFyLCAkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBmdW5jdGlvbiBsaW5rRnVuY3Rpb24oc2NvcGUpIHtcblxuICAgICAgICBmdW5jdGlvbiBzY3JvbGwoKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9ICQodGhpcyk7XG4gICAgICAgICAgICBzZWxmLmNzcygnaGVpZ2h0JywgJzU1dmgnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNsaWNrKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSAkKHRoaXMpO1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5pbm5lckhlaWdodCAvIDMgPiBwYXJzZUludChzZWxmLmNzcygnaGVpZ2h0JykpKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5jc3MoJ2hlaWdodCcsICc1NXZoJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGYuY3NzKCdoZWlnaHQnLCAnMzB2aCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRldGFpbHNQYW5lbDtcbiAgICAgICAgaWYgKHNjb3BlLm1vYmlsZSkge1xuICAgICAgICAgICAgZGV0YWlsc1BhbmVsID0gJChcIiNkZXRhaWxzLXBhbmVsXCIpO1xuICAgICAgICAgICAgZGV0YWlsc1BhbmVsLmNzcyhcImhlaWdodFwiLCBcIjMwdmhcIik7XG4gICAgICAgICAgICBkZXRhaWxzUGFuZWwuc2Nyb2xsVG9wKDApO1xuICAgICAgICAgICAgZGV0YWlsc1BhbmVsLnNjcm9sbChzY3JvbGwpO1xuICAgICAgICAgICAgZGV0YWlsc1BhbmVsLmNsaWNrKGNsaWNrKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZE1vYmlsZUV2ZW50cygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICAgICBsaW5rOiBsaW5rRnVuY3Rpb25cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuZGlyZWN0aXZlKCdhZGRNb2JpbGVFdmVudHMnLCBbYWRkTW9iaWxlRXZlbnRzXSk7XG59KShhbmd1bGFyLCAkKTtcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBmdW5jdGlvbiBtb2RhbEN0cmwoJHNjb3BlLCAkbW9kYWxJbnN0YW5jZSkge1xuICAgICAgICAkc2NvcGUuY2xvc2VXaW5kb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdtb2RhbEN0cmwnLCBbJyRzY29wZScsICckbW9kYWxJbnN0YW5jZScsIG1vZGFsQ3RybF0pO1xuXG59KShhbmd1bGFyKTsiLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5jb25zdGFudCgnXycsIHdpbmRvdy5fKVxuICAgICAgICAuY29uZmlnKFsnJGxvY2F0aW9uUHJvdmlkZXInLCAnJGNvbXBpbGVQcm92aWRlcicsXG4gICAgICAgICAgICBmdW5jdGlvbiAoJGxvY2F0aW9uUHJvdmlkZXIsICRjb21waWxlUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgJGNvbXBpbGVQcm92aWRlci5kZWJ1Z0luZm9FbmFibGVkKHRydWUpO1xuICAgICAgICAgICAgfV0pXG4gICAgICAgIC5maWx0ZXIoJ3Rob3VzYW5kU3VmZml4JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpbnB1dCwgZGVjaW1hbHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXhwLFxuICAgICAgICAgICAgICAgICAgICBzdWZmaXhlcyA9IFsnaycsICdNJywgJ0cnLCAnVCcsICdQJywgJ0UnXTtcblxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuaXNOYU4oaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpbnB1dCA8IDEwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGV4cCA9IE1hdGguZmxvb3IoTWF0aC5sb2coaW5wdXQpIC8gTWF0aC5sb2coMTAwMCkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIChpbnB1dCAvIE1hdGgucG93KDEwMDAsIGV4cCkpLnRvRml4ZWQoZGVjaW1hbHMpICsgc3VmZml4ZXNbZXhwIC0gMV07XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxufSkoYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBob21lRGVwZW5kZW5jaWVzID0gW1xuICAgICAgICAnJHNjb3BlJyxcbiAgICAgICAgJyR0aW1lb3V0JyxcbiAgICAgICAgJ18nLFxuICAgICAgICAnZW50aXR5U2VydmljZScsXG4gICAgICAgICdjb25uZWN0aW9uU2VydmljZScsXG4gICAgICAgIGhvbWVDdHJsXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIGhvbWVDdHJsKCRzY29wZSwgJHRpbWVvdXQsIF8sIGVudGl0eVNlcnZpY2UsIGNvbm5lY3Rpb25TZXJ2aWNlKSB7XG4gICAgICAgICRzY29wZS5lbnRpdGllcyAgICAgICAgICAgICAgICAgPSBbXTtcbiAgICAgICAgJHNjb3BlLnNlYXJjaEl0ZW1zICAgICAgICAgICAgICA9IG51bGw7XG4gICAgICAgICRzY29wZS5jYXRlZ29yaWVzICAgICAgICAgICAgICAgPSBbXTtcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRMb2NhdGlvbiAgICAgICAgICA9IG51bGw7XG4gICAgICAgICRzY29wZS5jbGlja2VkTG9jYXRpb24gICAgICAgICAgPSB7fTtcbiAgICAgICAgJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbiA9IG51bGw7XG4gICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5ICAgICAgICAgICAgPSB7fTtcbiAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ICAgICA9IG51bGw7XG4gICAgICAgICRzY29wZS5lZGl0aW5nICAgICAgICAgICAgICAgICAgPSBmYWxzZTtcbiAgICAgICAgJHNjb3BlLmFjdGlvbnMgICAgICAgICAgICAgICAgICA9IHsnaW50ZXJhY3RlZCc6IGZhbHNlfTtcbiAgICAgICAgJHNjb3BlLnNob3dzZWFyY2hNQiAgICAgICAgICAgICA9IGZhbHNlO1xuICAgICAgICAkc2NvcGUuc2hvd0FuYWx5dGljcyAgICAgICAgICAgID0gZmFsc2U7XG4gICAgICAgICRzY29wZS5lbnRpdHlUeXBlcyAgICAgICAgICAgICAgPSBlbnRpdHlTZXJ2aWNlLmdldEVudGl0eVR5cGVzKCk7XG4gICAgICAgICRzY29wZS5jb25uZWN0aW9uVHlwZXMgICAgICAgICAgPSBjb25uZWN0aW9uU2VydmljZS5nZXRDb25uZWN0aW9uVHlwZXMoKTtcbiAgICAgICAgJHNjb3BlLnN0YXR1cyAgICAgICAgICAgICAgICAgICA9IHtcbiAgICAgICAgICAgIFwiaXNOZXR3b3JrU2hvd25cIjogdHJ1ZSxcbiAgICAgICAgICAgIFwibGljZW5zZVwiICAgICAgIDogdHJ1ZSxcbiAgICAgICAgICAgIFwibmV0d29ya0xvYWRpbmdcIjogdHJ1ZVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS50b2dnbGVBbmFseXRpY3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2hvd0FuYWx5dGljcyA9ICEkc2NvcGUuc2hvd0FuYWx5dGljcztcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm1pbkNvbm5lY3Rpb25zID0gJHNjb3BlLm1pbkNvbm5lY3Rpb25zID0gMjtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ21pbkNvbm5lY3Rpb25zJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgndHJpZ2dlck5ldHdvcmtEcmF3Jyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS5jb25uZWN0aW9uQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coc2VsZi5taW5Db25uZWN0aW9ucyk7XG4gICAgICAgICAgICAkc2NvcGUubWluQ29ubmVjdGlvbnMgPSBzZWxmLm1pbkNvbm5lY3Rpb25zO1xuICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ3RyaWdnZXJOZXR3b3JrRHJhdycpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5oeWRlUGFydGlhbHMgPSBmdW5jdGlvbiAoZXhjZXB0KSB7XG4gICAgICAgICAgICBpZiAoZXhjZXB0ID09PSBcInNlYXJjaFwiKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmVkaXRpbmcgICAgICAgICA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zZXR0aW5nc0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhjZXB0ID09PSBcInNldHRpbmdzXCIpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdGluZyAgICAgID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dzZWFyY2hNQiA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChleGNlcHQgPT09IFwiZWRpdFwiKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zaG93c2VhcmNoTUIgICAgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmVkaXRpbmcgICAgICAgICA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zZXR0aW5nc0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd3NlYXJjaE1CICAgID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2hvd1NlYXJjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRzY29wZS5oeWRlUGFydGlhbHMoXCJzZWFyY2hcIik7XG4gICAgICAgICAgICAkc2NvcGUuc2hvd3NlYXJjaE1CICAgPSAhJHNjb3BlLnNob3dzZWFyY2hNQjtcbiAgICAgICAgICAgIC8vICRzY29wZS4kYnJvYWRjYXN0KCdoaWRlTGljZW5zZScpO1xuICAgICAgICAgICAgJHNjb3BlLnN0YXR1cy5saWNlbnNlID0gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnRvZ2dsZVNldHRpbmdzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHNjb3BlLmh5ZGVQYXJ0aWFscyhcInNldHRpbmdzXCIpO1xuICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzRW5hYmxlZCA9ICEkc2NvcGUuc2V0dGluZ3NFbmFibGVkO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zdGFydEVkaXQgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudEVudGl0eSA9IGVudGl0eTtcbiAgICAgICAgICAgIGlmICgkc2NvcGUubW9iaWxlKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmh5ZGVQYXJ0aWFscyhcImVkaXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkc2NvcGUuZWRpdGluZyA9IHRydWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnN3aXRjaFZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyAkc2NvcGUuJGJyb2FkY2FzdCgndmlld0NoYW5nZScsICEkc2NvcGUuc3RhdHVzLmlzTmV0d29ya1Nob3duID8gJ01hcCcgOiAnTmV0d29yaycpO1xuICAgICAgICAgICAgLy8gJHNjb3BlLmNoYW5nZVZpZXcoISRzY29wZS5zdGF0dXMuaXNOZXR3b3JrU2hvd24gPyAnTWFwJyA6ICdOZXR3b3JrJyk7XG4gICAgICAgICAgICAkc2NvcGUuc3RhdHVzLmlzTmV0d29ya1Nob3duID0gISRzY29wZS5zdGF0dXMuaXNOZXR3b3JrU2hvd247XG4gICAgICAgICAgICBpZiAoJHNjb3BlLnN0YXR1cy5pc05ldHdvcmtTaG93bikge1xuICAgICAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCd0cmlnZ2VyTmV0d29ya0RyYXcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB3aW5kb3cubW9iaWxlY2hlY2sgICAgID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNoZWNrICA9IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlZ2V4ICA9IC8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllcyg0fDYpMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyBjZXx4ZGF8eGlpbm8vaSxcbiAgICAgICAgICAgICAgICByZWdleDIgPSAvMTIwN3w2MzEwfDY1OTB8M2dzb3w0dGhwfDUwWzEtNl1pfDc3MHN8ODAyc3xhIHdhfGFiYWN8YWMoZXJ8b298c1xcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcXC1tfHIgfHMgKXxhdmFufGJlKGNrfGxsfG5xKXxiaShsYnxyZCl8YmwoYWN8YXopfGJyKGV8dil3fGJ1bWJ8YndcXC0obnx1KXxjNTVcXC98Y2FwaXxjY3dhfGNkbVxcLXxjZWxsfGNodG18Y2xkY3xjbWRcXC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGNcXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFxcLWQpfGVsKDQ5fGFpKXxlbShsMnx1bCl8ZXIoaWN8azApfGVzbDh8ZXooWzQtN10wfG9zfHdhfHplKXxmZXRjfGZseShcXC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2ZcXC01fGdcXC1tb3xnbyhcXC53fG9kKXxncihhZHx1bil8aGFpZXxoY2l0fGhkXFwtKG18cHx0KXxoZWlcXC18aGkocHR8dGEpfGhwKCBpfGlwKXxoc1xcLWN8aHQoYyhcXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXFwtKDIwfGdvfG1hKXxpMjMwfGlhYyggfFxcLXxcXC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XFwvKXxrbG9ufGtwdCB8a3djXFwtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcXC8oa3xsfHUpfDUwfDU0fFxcLVthLXddKXxsaWJ3fGx5bnh8bTFcXC13fG0zZ2F8bTUwXFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVxcLWNyfG1lKHJjfHJpKXxtaShvOHxvYXx0cyl8bW1lZnxtbygwMXwwMnxiaXxkZXxkb3x0KFxcLXwgfG98dil8enopfG10KDUwfHAxfHYgKXxtd2JwfG15d2F8bjEwWzAtMl18bjIwWzItM118bjMwKDB8Mil8bjUwKDB8Mnw1KXxuNygwKDB8MSl8MTApfG5lKChjfG0pXFwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcXC0oWzEtOF18YykpfHBoaWx8cGlyZXxwbChheXx1Yyl8cG5cXC0yfHBvKGNrfHJ0fHNlKXxwcm94fHBzaW98cHRcXC1nfHFhXFwtYXxxYygwN3wxMnwyMXwzMnw2MHxcXC1bMi03XXxpXFwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVxcL3xzYShnZXxtYXxtbXxtc3xueXx2YSl8c2MoMDF8aFxcLXxvb3xwXFwtKXxzZGtcXC98c2UoYyhcXC18MHwxKXw0N3xtY3xuZHxyaSl8c2doXFwtfHNoYXJ8c2llKFxcLXxtKXxza1xcLTB8c2woNDV8aWQpfHNtKGFsfGFyfGIzfGl0fHQ1KXxzbyhmdHxueSl8c3AoMDF8aFxcLXx2XFwtfHYgKXxzeSgwMXxtYil8dDIoMTh8NTApfHQ2KDAwfDEwfDE4KXx0YShndHxsayl8dGNsXFwtfHRkZ1xcLXx0ZWwoaXxtKXx0aW1cXC18dFxcLW1vfHRvKHBsfHNoKXx0cyg3MHxtXFwtfG0zfG01KXx0eFxcLTl8dXAoXFwuYnxnMXxzaSl8dXRzdHx2NDAwfHY3NTB8dmVyaXx2aShyZ3x0ZSl8dmsoNDB8NVswLTNdfFxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXFwtfCApfHdlYmN8d2hpdHx3aShnIHxuY3xudyl8d21sYnx3b251fHg3MDB8eWFzXFwtfHlvdXJ8emV0b3x6dGVcXC0vaTtcbiAgICAgICAgICAgIChmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgICAgIGlmIChyZWdleC50ZXN0KGEpIHx8IHJlZ2V4Mi50ZXN0KGEuc3Vic3RyKDAsIDQpKSkge1xuICAgICAgICAgICAgICAgICAgICBjaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkobmF2aWdhdG9yLnVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudmVuZG9yIHx8IHdpbmRvdy5vcGVyYSk7XG4gICAgICAgICAgICByZXR1cm4gY2hlY2s7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5tb2JpbGUgICAgICAgICAgPSB3aW5kb3cubW9iaWxlY2hlY2soKTtcbiAgICAgICAgJHNjb3BlLnNldHRpbmdzRW5hYmxlZCA9ICEkc2NvcGUubW9iaWxlO1xuXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGVudGl0eVNlcnZpY2VcbiAgICAgICAgICAgICAgICAuZ2V0QWxsKClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZW50aXRpZXMgPSBkYXRhLm5vZGVzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb25zICAgPSBfLnVuaXEoXG4gICAgICAgICAgICAgICAgICAgICAgICBfLnBsdWNrKF8uZmxhdHRlbihfLnBsdWNrKCRzY29wZS5lbnRpdGllcywgJ2xvY2F0aW9ucycpKSwgJ2xvY2FsaXR5JykpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbnRpdGllc0J5TG9jYXRpb24gPSBfLm1hcChsb2NhdGlvbnMsIGZ1bmN0aW9uIChsb2MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaW5kaW5ncyA9IF8uZmlsdGVyKCRzY29wZS5lbnRpdGllcywgXy5mbG93KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ucHJvcGVydHkoJ2xvY2F0aW9ucycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ucGFydGlhbFJpZ2h0KF8uYW55LCB7bG9jYWxpdHk6IGxvY30pXG4gICAgICAgICAgICAgICAgICAgICAgICApKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lICAgIDogbG9jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgICAgOiAnbG9jYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0aWVzOiBmaW5kaW5ncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWN0ICAgIDogXy56aXBPYmplY3QoXy5wbHVjayhmaW5kaW5ncywgJ25hbWUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5wbHVjayhmaW5kaW5ncywgJ2luZGV4JykpXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2VhcmNoSXRlbXMgPSBlbnRpdGllc0J5TG9jYXRpb24uY29uY2F0KCRzY29wZS5lbnRpdGllcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKCRzY29wZS5nZXRVUkxJRCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyBTZXQgdGhlIGVudGl0eSB0byB0aGUgSUQgaW4gdGhlIFVSTCBpZiBpdCBleGlzdHMuXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAkc2NvcGUuc2V0RW50aXR5SUQoJHNjb3BlLmdldFVSTElEKCkpO1xuICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5vdmVydmlld1VybCA9ICdqcy9vdmVydmlldy9vdmVydmlldy5odG1sJztcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ3RyaWdnZXJOZXR3b3JrRHJhdycpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCAxMDApO1xuXG4gICAgICAgICRzY29wZS5vdmVydmlld1VybCA9IG51bGw7XG5cbiAgICAgICAgJHNjb3BlLnNldEVudGl0eSAgID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRMb2NhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudEVudGl0eSAgID0gZW50aXR5O1xuICAgICAgICAgICAgaWYgKCRzY29wZS5lZGl0aW5nKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0b3BFZGl0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnZW50aXR5Q2hhbmdlJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnNldEVudGl0eUlEID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2V0RW50aXR5KF8uZmluZCgkc2NvcGUuZW50aXRpZXMsIHsnaWQnOiBpZH0pKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2V0TG9jYXRpb24gPSBmdW5jdGlvbiAobG9jYXRpb24pIHtcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50TG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgICAgIGlmICgkc2NvcGUuZWRpdGluZykge1xuICAgICAgICAgICAgICAgICRzY29wZS5zdG9wRWRpdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ2l0ZW1DaGFuZ2UnKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2VsZWN0SXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbG9jYXRpb24nKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNldExvY2F0aW9uKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlW2l0ZW0gJSAxID09PSAwID8gJ3NldEVudGl0eUlEJyA6ICdzZXRFbnRpdHknXShpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdzZWxlY3RJdGVtJywgaXRlbSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLiRvbignc2V0Q3VycmVudEVudGl0eScsIGZ1bmN0aW9uIChldmVudCwgYXJncykge1xuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRFbnRpdHkgPSBhcmdzLnZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICAkc2NvcGUuJG9uKCdzZXRDdXJyZW50TG9jYXRpb24nLCBmdW5jdGlvbiAoZXZlbnQsIGFyZ3MpIHtcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50TG9jYXRpb24gPSBhcmdzLnZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICAkc2NvcGUuc2V0RW50aXRpZXMgPSBmdW5jdGlvbiAoZW50aXRpZXMpIHtcbiAgICAgICAgICAgICRzY29wZS5lbnRpdGllcyA9IGVudGl0aWVzO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zdG9wRWRpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRzY29wZS5lZGl0aW5nID0gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLiRvbihcImVkaXRFbnRpdHlTdWNjZXNzXCIsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgJHNjb3BlLnNldEVudGl0aWVzKHJlc3BvbnNlLm5vZGVzKTtcbiAgICAgICAgICAgIC8vICRzY29wZS5zZXRFbnRpdHlJRCgkc2NvcGUuY3VycmVudEVudGl0eS5pZCk7XG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgndHJpZ2dlck5ldHdvcmtEcmF3Jyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS5hbmltYXRpb25zRW5hYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2hvbWVDdHJsJywgaG9tZURlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA3LzE0LzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IFtdO1xuXG4gICAgZnVuY3Rpb24gZGlyZWN0aXZlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgXCJyZXN0cmljdFwiOiBcIkVcIixcbiAgICAgICAgICAgIFwidGVtcGxhdGVVcmxcIjogXCIvbWFwL21hcC5odG1sXCIsXG4gICAgICAgICAgICBcImNvbnRyb2xsZXJcIjogXCJtYXBDdHJsXCJcbiAgICAgICAgfTtcbiAgICB9XG4gICAgICAgIGFuZ3VsYXIubW9kdWxlKFwiY2l2aWMtZ3JhcGhcIilcbiAgICAgICAgICAgIC5kaXJlY3RpdmUoXCJtYXBcIiwgZGVwZW5kZW5jaWVzKTtcblxufSkoYW5ndWxhcik7IiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGZ1bmN0aW9uIENvbnRyb2xsZXIoJHNjb3BlLCAkZmlsdGVyLCBfLCBjb25uZWN0aW9uU2VydmljZSwgdXRpbHMpIHtcbiAgICAgICAgLy8gVE9ETzogTWFrZSBhIGhhc2htYXAgb24gdGhlIGJhY2tlbmQgb2YgaWQgLT4gcG9zaXRpb24sIHRoZW4gdXNlIHNvdXJjZTpcbiAgICAgICAgLy8gZW50aXRpZXNbbWFwW3NvdXJjZWlkXV0gdG8gZ2V0IG5vZGVzLiBTZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3EvMTY4MjQzMDhcbiAgICAgICAgJHNjb3BlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICAgICRzY29wZS5jb25uZWN0aW9ucyA9IHt9O1xuICAgICAgICBzdGFydExvYWQoKTtcblxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9jb2RlcndhbGwuY29tL3Avbmdpc21hL3NhZmUtYXBwbHktaW4tYW5ndWxhci1qc1xuICAgICAgICAkc2NvcGUuc2FmZUFwcGx5ID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICB2YXIgcGhhc2UgPSB0aGlzLiRyb290LiQkcGhhc2U7XG4gICAgICAgICAgICBpZiAocGhhc2UgPT09ICckYXBwbHknIHx8IHBoYXNlID09PSAnJGRpZ2VzdCcpIHtcbiAgICAgICAgICAgICAgICBpZiAoZm4gJiYgKHR5cGVvZihmbikgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRhcHBseShmbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLiRvbigndHJpZ2dlck5ldHdvcmtEcmF3Jywgc3RhcnRMb2FkKTtcblxuICAgICAgICAkc2NvcGUuJG9uKCd2aWV3Q2hhbmdlJywgZnVuY3Rpb24gKHZpZXdPYmopIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZpZXdPYmopO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgZHJhd05ldHdvcmsgPSBmdW5jdGlvbiAoZW50aXR5QXJyYXksIGNvbm5lY3Rpb25BcnJheSkge1xuICAgICAgICAgICAgJHNjb3BlLmlzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICB2YXIgc3ZnID0gZDMuc2VsZWN0KCcjbmV0d29yaycpO1xuICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG4gICAgICAgICAgICB2YXIgYm91bmRzID0gc3ZnLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSBib3VuZHMuaGVpZ2h0O1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gYm91bmRzLndpZHRoO1xuICAgICAgICAgICAgdmFyIG9mZnNldFNjYWxlID0gNjtcbiAgICAgICAgICAgIHZhciBkZWZhdWx0Tm9kZVNpemUgPSA3O1xuICAgICAgICAgICAgdmFyIG9mZnNldHMgPSB7XG4gICAgICAgICAgICAgICAgJ0luZGl2aWR1YWwnOiB7ICd4JzogMSwgJ3knOiAxIH0sXG4gICAgICAgICAgICAgICAgJ0Zvci1Qcm9maXQnOiB7ICd4JzogMSwgJ3knOiAtMSB9LFxuICAgICAgICAgICAgICAgICdOb24tUHJvZml0JzogeyAneCc6IC0xLCAneSc6IDEgfSxcbiAgICAgICAgICAgICAgICAnR292ZXJubWVudCc6IHsgJ3gnOiAtMSwgJ3knOiAtMSB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGxvd2VyQm91bmRSYWRpdXMgPSAxMDtcbiAgICAgICAgICAgIHZhciB1cHBlckJvdW5kUmFkaXVzID0gNTA7XG4gICAgICAgICAgICB2YXIgbWF4RW1wbG95ZWVzID0gZDMubWF4KGVudGl0eUFycmF5LCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoZWwuZW1wbG95ZWVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIG1heEZvbGxvd2VycyA9IGQzLm1heChlbnRpdHlBcnJheSwgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGVsLmZvbGxvd2Vycyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBzY2FsZSA9IHtcbiAgICAgICAgICAgICAgICAnZW1wbG95ZWVzJzogZDMuc2NhbGUuc3FydCgpLmRvbWFpbihbMTAsIG1heEVtcGxveWVlc10pXG4gICAgICAgICAgICAgICAgICAgIC5yYW5nZShbbG93ZXJCb3VuZFJhZGl1cywgdXBwZXJCb3VuZFJhZGl1c10pLFxuICAgICAgICAgICAgICAgICdmb2xsb3dlcnMnOiBkMy5zY2FsZS5zcXJ0KCkuZG9tYWluKFsxMCwgbWF4Rm9sbG93ZXJzXSlcbiAgICAgICAgICAgICAgICAgICAgLnJhbmdlKFtsb3dlckJvdW5kUmFkaXVzLCB1cHBlckJvdW5kUmFkaXVzXSlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgbGlua3MgPSB7fTtcbiAgICAgICAgICAgIHZhciBmb3JjZSA9IGQzLmxheW91dC5mb3JjZSgpXG4gICAgICAgICAgICAgICAgLnNpemUoW3dpZHRoLCBoZWlnaHRdKVxuICAgICAgICAgICAgICAgIC5ub2RlcyhlbnRpdHlBcnJheSlcbiAgICAgICAgICAgICAgICAubGlua3MoXy5mbGF0dGVuKF8udmFsdWVzKGNvbm5lY3Rpb25BcnJheSkpKVxuICAgICAgICAgICAgICAgIC5jaGFyZ2UoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuZW1wbG95ZWVzID8gLTIgKiBzY2FsZS5lbXBsb3llZXMoZC5lbXBsb3llZXMpIDogLTIwO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmxpbmtTdHJlbmd0aCgwKVxuICAgICAgICAgICAgICAgIC5saW5rRGlzdGFuY2UoNTApO1xuXG4gICAgICAgICAgICBfLmZvckVhY2goY29ubmVjdGlvbkFycmF5LCBmdW5jdGlvbiAoY29ubmVjdGlvbnMsIHR5cGUpIHtcbiAgICAgICAgICAgICAgICBsaW5rc1t0eXBlXSA9IHN2Zy5zZWxlY3RBbGwoJy5saW5rIC4nICsgdHlwZSArICctbGluaycpXG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKGNvbm5lY3Rpb25zKVxuICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2xpbmUnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF1dGlscy5pc0RlZmluZWQoZC5zb3VyY2UpIHx8ICF1dGlscy5pc0RlZmluZWQoZC50YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkLnR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdsaW5rICcgKyB0eXBlICsgJy1saW5rICcgKyBkLnNvdXJjZS50eXBlICsgJy1saW5rICcgKyBkLnRhcmdldC50eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAnLWxpbmsnO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgbm9kZSA9IHN2Zy5zZWxlY3RBbGwoJy5ub2RlJylcbiAgICAgICAgICAgICAgICAuZGF0YShlbnRpdHlBcnJheSlcbiAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbm9kZSAnICsgZC50eXBlICsgJy1ub2RlJztcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYWxsKGZvcmNlLmRyYWcpO1xuXG4gICAgICAgICAgICBub2RlLmFwcGVuZCgnY2lyY2xlJylcbiAgICAgICAgICAgICAgICAuYXR0cigncicsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmVtcGxveWVlcyA/IHNjYWxlWydlbXBsb3llZXMnXShkLmVtcGxveWVlcykgOiBkZWZhdWx0Tm9kZVNpemU7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG5vZGUuYXBwZW5kKCd0ZXh0JylcbiAgICAgICAgICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5uaWNrbmFtZSA/IGQubmlja25hbWUgOiBkLm5hbWU7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYXR0cignZHgnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoLTAuMDY1ICogdGhpcy5nZXRDb21wdXRlZFRleHRMZW5ndGgoKSAvIDIpICsgJ2VtJztcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5hdHRyKCdkeScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgwLjA4ICogdGhpcy5wYXJlbnROb2RlLmdldEJCb3goKS5oZWlnaHQgLyAyICsgMC41KSArICdlbSc7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZvcmNlLm9uKCd0aWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBDbHVzdGVyIGluIGZvdXIgY29ybmVycyBiYXNlZCBvbiBvZmZzZXQuXG4gICAgICAgICAgICAgICAgdmFyIGsgPSBvZmZzZXRTY2FsZSAqIGUuYWxwaGE7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZS5hbHBoYSlcbiAgICAgICAgICAgICAgICBfLmZvckVhY2goZW50aXR5QXJyYXksIGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVudGl0eS54ICYmIG9mZnNldHNbZW50aXR5LnR5cGVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkueCArPSBvZmZzZXRzW2VudGl0eS50eXBlXS54ICogaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS55ICs9IG9mZnNldHNbZW50aXR5LnR5cGVdLnkgKiBrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LnggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KHVwcGVyQm91bmRSYWRpdXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKHdpZHRoIC0gdXBwZXJCb3VuZFJhZGl1cywgZW50aXR5LngpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS55ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCh1cHBlckJvdW5kUmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihoZWlnaHQgLSB1cHBlckJvdW5kUmFkaXVzLCBlbnRpdHkueSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBfLmZvckVhY2gobGlua3MsIGZ1bmN0aW9uIChsaW5rKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuc291cmNlLng7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5zb3VyY2UueTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDInLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnRhcmdldC54O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQudGFyZ2V0Lnk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBub2RlLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKCcgKyBkLnggKyAnLCcgKyBkLnkgKyAnKSc7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBzcGVlZEFuaW1hdGUgPSBmdW5jdGlvbiAodGlja3MpIHtcbiAgICAgICAgICAgICAgICAvLyBTcGVlZCB1cCB0aGUgaW5pdGlhbCBhbmltYXRpb24uXG4gICAgICAgICAgICAgICAgLy8gU2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2MTg5MTEwXG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aWNrczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JjZS50aWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcmNlLmFscGhhKCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICghJHNjb3BlLm1vYmlsZSkge1xuICAgICAgICAgICAgICAgIHNwZWVkQW5pbWF0ZSg3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvcmNlLnN0YXJ0KCk7XG5cbiAgICAgICAgICAgIC8vIEhhc2ggbGlua2VkIG5laWdoYm9ycyBmb3IgZWFzeSBob3ZlcmluZyBlZmZlY3RzLlxuICAgICAgICAgICAgLy8gU2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzg3ODAyNzdcbiAgICAgICAgICAgIHZhciBsaW5rZWRCeUluZGV4ID0ge307XG4gICAgICAgICAgICBfLmZvckVhY2gobGlua3MsIGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGxbMF0sIGZ1bmN0aW9uIChjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBjb25uZWN0aW9uLl9fZGF0YV9fLnNvdXJjZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGNvbm5lY3Rpb24uX19kYXRhX18udGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICBsaW5rZWRCeUluZGV4W3NvdXJjZS5pbmRleCArICcsJyArIHRhcmdldC5pbmRleF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBsaW5rZWRCeUluZGV4W3RhcmdldC5pbmRleCArICcsJyArIHNvdXJjZS5pbmRleF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciBuZWlnaGJvcmluZyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpbmtlZEJ5SW5kZXhbYS5pbmRleCArICcsJyArIGIuaW5kZXhdIHx8IGEuaW5kZXggPT09IGIuaW5kZXg7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgZm9jdXNuZWlnaGJvcnMgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgJ3VuZm9jdXNlZCcgY2xhc3MgdG8gYWxsIG5vbi1uZWlnaGJvcnMuXG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgJ2ZvY3VzZWQnIGNsYXNzIHRvIGFsbCBuZWlnaGJvcnMuXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogU2VlIGlmIGl0IGNhbiBiZSBkb25lIHdpdGgganVzdCBvbmUgY2xhc3MgYW5kIDpub3QoLmZvY3VzZWQpIENTUyBzZWxlY3RvcnMuXG4gICAgICAgICAgICAgICAgbm9kZVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgnZm9jdXNlZCcsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmVpZ2hib3JpbmcoZW50aXR5LCBuKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ3VuZm9jdXNlZCcsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIW5laWdoYm9yaW5nKGVudGl0eSwgbik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGxpbmtzLCBmdW5jdGlvbiAobGluaykge1xuICAgICAgICAgICAgICAgICAgICBsaW5rXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgnZm9jdXNlZCcsIGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVudGl0eS5pbmRleCA9PT0gby5zb3VyY2UuaW5kZXggfHwgZW50aXR5LmluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID09PSBvLnRhcmdldC5pbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIShlbnRpdHkuaW5kZXggPT09IG8uc291cmNlLmluZGV4IHx8IGVudGl0eS5pbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID09PSBvLnRhcmdldC5pbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBmb2N1cyA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmN1cnJlbnRFbnRpdHkgIT09IGVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2V0RW50aXR5KGVudGl0eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcbiAgICAgICAgICAgICAgICBmb2N1c25laWdoYm9ycyhlbnRpdHkpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIHVuZm9jdXMgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgLy92YXIgdHJhbnNpdGlvbmRlbGF5ID0gNzU7XG4gICAgICAgICAgICAgICAgbm9kZVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgnZm9jdXNlZCcsIGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChsaW5rcywgZnVuY3Rpb24gKGxpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgbGlua1xuICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2ZvY3VzZWQnLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCd1bmZvY3VzZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZW50aXR5LmZpeGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gUmVzdGFydCBkMyBhbmltYXRpb25zLlxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yY2UucmVzdW1lKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vVE9ETzogU2hvdyBnZW5lcmljIGRldGFpbHMgYW5kIG5vdCBpbmRpdmlkdWFsIGVudGl0eSBkZXRhaWxzP1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBob3ZlclRpbWVyO1xuICAgICAgICAgICAgdmFyIGhvdmVyID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgICAgICAgIGlmICghJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ICYmICEkc2NvcGUuZWRpdGluZyAmJiAhJHNjb3BlLmN1cnJlbnRMb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBob3ZlclRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1cyhlbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHVuaG92ZXIgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgJiYgISRzY29wZS5jdXJyZW50TG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdW5mb2N1cyhlbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoaG92ZXJUaW1lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRzY29wZS5hY3Rpb25zLmludGVyYWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgZm9jdXNMb2NhdGlvbiA9IGZ1bmN0aW9uIChsb2NhdGlvbikge1xuICAgICAgICAgICAgICAgIC8vICBJZiB0aGUgY3VycmVudCBlbnRpdHkgaXMgc2hvd24gYW5kIGl0IGRvZXNuJ3QgbWF0Y2ggdGhlIGNsaWNrZWQgbm9kZSwgdGhlbiBzZXRcbiAgICAgICAgICAgICAgICAvLyB0aGUgbmV3IG5vZGUgdG8gY2xpY2tlZC5cbiAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XG5cbiAgICAgICAgICAgICAgICBub2RlLmNsYXNzZWQoJ2ZvY3VzZWQnLCBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbi5uYW1lIGluIGxvY2F0aW9uLmRpY3Q7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ3VuZm9jdXNlZCcsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIShuLm5hbWUgaW4gbG9jYXRpb24uZGljdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGxpbmtzLCBmdW5jdGlvbiAobGluaykge1xuICAgICAgICAgICAgICAgICAgICBsaW5rXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgnZm9jdXNlZCcsIGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChvLnNvdXJjZS5uYW1lIGluIGxvY2F0aW9uLmRpY3QgJiYgby50YXJnZXQubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIGxvY2F0aW9uLmRpY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCd1bmZvY3VzZWQnLCBmdW5jdGlvbiAobykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhKG8uc291cmNlLm5hbWUgaW4gbG9jYXRpb24uZGljdCkgfHwgIShvLnRhcmdldC5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIGxvY2F0aW9uLmRpY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgdW5mb2N1c0xvY2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2ZvY3VzZWQnLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ3VuZm9jdXNlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBfLmZvckVhY2gobGlua3MsIGZ1bmN0aW9uIChsaW5rKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdmb2N1c2VkJywgZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jbGlja2VkTG9jYXRpb24ubG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yY2UucmVzdW1lKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGhpZ2hsaWdodExvY2F0aW9uID0gZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dMaWNlbnNlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICB1bmZvY3VzKCRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uICE9PSBsb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB1bmZvY3VzTG9jYXRpb24oJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkTG9jYXRpb24ubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgZm9jdXNMb2NhdGlvbihsb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkMy5ldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBkMy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBjbGljayA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xpY2Vuc2UgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmICh1dGlscy5pc0RlZmluZWQoJHNjb3BlLmNsaWNrZWRMb2NhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHV0aWxzLmlzRGVmaW5lZCgkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5mb2N1c0xvY2F0aW9uKCRzY29wZS5jbGlja2VkTG9jYXRpb24uZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkTG9jYXRpb24ubG9jYXRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vICBJZiB0aGUgcHJldmlvdXMgbm9kZSBpcyBlcXVhbCB0byB0aGUgbmV3IG5vZGUsIGRvIG5vdGhpbmcuXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPT09IGVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICBVbmZvY3VzIG9uIHByZXZpb3VzIG5vZGUgYW5kIGZvY3VzIG9uIG5ldyBub2RlLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZm9jdXMoJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSA9IGVudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBTdG9wIGV2ZW50IHNvIHdlIGRvbid0IGRldGVjdCBhIGNsaWNrIG9uIHRoZSBiYWNrZ3JvdW5kLlxuICAgICAgICAgICAgICAgIC8vIFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8yMjk0MTc5NlxuICAgICAgICAgICAgICAgIGlmIChkMy5ldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBkMy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGJhY2tncm91bmRjbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAodXRpbHMuaXNEZWZpbmVkKCRzY29wZS5jbGlja2VkTG9jYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1dGlscy5pc0RlZmluZWQoJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZm9jdXMoJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodXRpbHMuaXNEZWZpbmVkKCRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZm9jdXMoJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgIC8vVE9ETzogU2hvdyBnZW5lcmljIGRldGFpbHMgYW5kIG5vdCBpbmRpdmlkdWFsIGVudGl0eSBkZXRhaWxzLlxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBkYmxjbGljayA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWVudGl0eS5maXhlZCkge1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkueCA9IHdpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LnkgPSBoZWlnaHQgLyAyO1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkucHggPSB3aWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5weSA9IGhlaWdodCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5maXhlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSA9IGVudGl0eTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1bmZvY3VzKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRzY29wZS5hY3Rpb25zLmludGVyYWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIG5vZGUub24oJ21vdXNlb3ZlcicsIGhvdmVyKTtcbiAgICAgICAgICAgIG5vZGUub24oJ21vdXNlb3V0JywgdW5ob3Zlcik7XG4gICAgICAgICAgICBub2RlLm9uKCdjbGljaycsIGNsaWNrKTtcbiAgICAgICAgICAgIG5vZGUub24oJ2RibGNsaWNrJywgZGJsY2xpY2spO1xuICAgICAgICAgICAgc3ZnLm9uKCdjbGljaycsIGJhY2tncm91bmRjbGljayk7XG5cbiAgICAgICAgICAgIG5vZGVcbiAgICAgICAgICAgICAgICAuY2xhc3NlZCgnd2VsbGNvbm5lY3RlZCcsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmhhc093blByb3BlcnR5KCd3ZWxsY29ubmVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRzY29wZS4kb24oJ2NoYW5nZVNpemVCeScsIGZ1bmN0aW9uIChldmVudCwgc2l6ZUJ5KSB7XG4gICAgICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnY2lyY2xlJylcbiAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oMjUwKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cigncicsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZFtzaXplQnldID8gc2NhbGVbc2l6ZUJ5XShkW3NpemVCeV0pIDogZGVmYXVsdE5vZGVTaXplO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJHNjb3BlLiRvbigndG9nZ2xlTGluaycsIGZ1bmN0aW9uIChldmVudCwgbGluaykge1xuICAgICAgICAgICAgICAgIC8vIGxpbmtzW2xpbmsubmFtZV1cbiAgICAgICAgICAgICAgICAvLyAuY2xhc3NlZCh7J3Zpc2libGUnOiBsaW5rLmVuYWJsZWQsICdoaWRkZW4nOiAhbGluay5lbmFibGVkfSk7XG4gICAgICAgICAgICAgICAgXy5tYXAoJHNjb3BlLmVudGl0eVR5cGVzLCBmdW5jdGlvbiAodmFsLCBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCcuJyArIGtleSArICctbGluaycpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Zpc2libGUnOiBmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb25uZWN0aW9uVHlwZSBlbmFibGVkLCBjb25uZWN0aW9uIHNvdXJjZSBlbnRpdHkgdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpcyBlbmFibGVkLCBjb25uZWN0aW9uIHRhcmdldCBlbnRpdHkgdHlwZSBpcyBlbmFibGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gISRzY29wZS5jb25uZWN0aW9uVHlwZXNbbC50eXBlXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKCRzY29wZS5lbnRpdHlUeXBlc1tsLnNvdXJjZS50eXBlXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgJHNjb3BlLmVudGl0eVR5cGVzW2wudGFyZ2V0LnR5cGVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoaWRkZW4nOiBmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBhbnkgb2YgQ29ubmVjdGlvblR5cGUsIHNvdXJjZSBlbnRpdHkgdHlwZSwgb3IgdGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVudGl0eSB0eXBlIGFyZSBkaXNhYmxlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEkc2NvcGUuY29ubmVjdGlvblR5cGVzW2wudHlwZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICghJHNjb3BlLmVudGl0eVR5cGVzW2wuc291cmNlLnR5cGVdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAhJHNjb3BlLmVudGl0eVR5cGVzW2wudGFyZ2V0LnR5cGVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkc2NvcGUuJG9uKCd0b2dnbGVOb2RlJywgZnVuY3Rpb24gKGV2ZW50LCB0eXBlKSB7XG4gICAgICAgICAgICAgICAgc3ZnXG4gICAgICAgICAgICAgICAgICAgIC5zZWxlY3RBbGwoJy4nICsgdHlwZS5uYW1lICsgJy1ub2RlJylcbiAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoeyAndmlzaWJsZSc6IHR5cGUuZW5hYmxlZCwgJ2hpZGRlbic6ICF0eXBlLmVuYWJsZWQgfSk7XG5cbiAgICAgICAgICAgICAgICBzdmdcbiAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnLicgKyB0eXBlLm5hbWUgKyAnLWxpbmsnKVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAndmlzaWJsZSc6IGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29ubmVjdGlvblR5cGUgZW5hYmxlZCwgY29ubmVjdGlvbiBzb3VyY2UgZW50aXR5IHR5cGUgaXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbmFibGVkLCBjb25uZWN0aW9uIHRhcmdldCBlbnRpdHkgdHlwZSBpcyBlbmFibGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuY29ubmVjdGlvblR5cGVzW2wudHlwZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgKCRzY29wZS5lbnRpdHlUeXBlc1tsLnNvdXJjZS50eXBlXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAkc2NvcGUuZW50aXR5VHlwZXNbbC50YXJnZXQudHlwZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdoaWRkZW4nOiBmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGFueSBvZiBDb25uZWN0aW9uVHlwZSwgc291cmNlIGVudGl0eSB0eXBlLCBvciB0YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbnRpdHkgdHlwZSBhcmUgZGlzYWJsZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEkc2NvcGUuY29ubmVjdGlvblR5cGVzW2wudHlwZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKCEkc2NvcGUuZW50aXR5VHlwZXNbbC5zb3VyY2UudHlwZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgISRzY29wZS5lbnRpdHlUeXBlc1tsLnRhcmdldC50eXBlXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHNjb3BlLiRvbignc2VsZWN0SXRlbScsIGZ1bmN0aW9uIChldmVudCwgaXRlbSkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdsb2NhdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0TG9jYXRpb24oJHNjb3BlLmN1cnJlbnRMb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjbGljaygkc2NvcGUuY3VycmVudEVudGl0eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gc3RhcnRMb2FkKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlcmVkRW50aXRpZXMgPSAkZmlsdGVyKCdmaWx0ZXInKSgkc2NvcGUuZW50aXRpZXMsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRpdHkuY29sbGFib3JhdGlvbnMubGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPj0gJHNjb3BlLm1pbkNvbm5lY3Rpb25zO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyZWRDb25uZWN0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChfLmtleXMoZGF0YS5jb25uZWN0aW9ucyksIGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICRzY29wZS5jb25uZWN0aW9uc1t0eXBlXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZENvbm5lY3Rpb25zW3R5cGVdID0gW107XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGRhdGEuY29ubmVjdGlvbnMsIGZ1bmN0aW9uIChjb25uZWN0aW9ucywgdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBfLmZvckVhY2goY29ubmVjdGlvbnMsIGZ1bmN0aW9uIChjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlTm9kZSA9IF8uZmluZChmaWx0ZXJlZEVudGl0aWVzLCB7ICdpZCc6IGNvbm5lY3Rpb24uc291cmNlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldE5vZGUgPSBfLmZpbmQoZmlsdGVyZWRFbnRpdGllcywgeyAnaWQnOiBjb25uZWN0aW9uLnRhcmdldCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKCB1dGlscy5pc0RlZmluZWQoc291cmNlTm9kZSkgJiYgdXRpbHMuaXNEZWZpbmVkKHRhcmdldE5vZGUpICkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkQ29ubmVjdGlvbnNbdHlwZV0ucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ICdzb3VyY2UnOiBzb3VyY2VOb2RlLCAndGFyZ2V0JzogdGFyZ2V0Tm9kZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICRzY29wZS5jb25uZWN0aW9uc1t0eXBlXS5wdXNoKHsnc291cmNlJzogc291cmNlTm9kZSwgJ3RhcmdldCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0YXJnZXROb2RlfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgc2hvdyBsYWJlbHMgb24gdG9wIDUgbW9zdCBjb25uZWN0ZWQgZW50aXRpZXMgaW5pdGlhbGx5LlxuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChfLmtleXMoJHNjb3BlLmVudGl0eVR5cGVzKSwgZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgdG9wIDUgbW9zdC1jb25uZWN0ZWQgZW50aXRpZXMuXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b3A1ID0gXy50YWtlUmlnaHQoXy5zb3J0QnkoXy5maWx0ZXIoJHNjb3BlLmVudGl0aWVzLCB7ICd0eXBlJzogdHlwZSB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb2xsYWJvcmF0aW9ucy5sZW5ndGgnKSwgNSk7XG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaCh0b3A1LCBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkud2VsbGNvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRFbnRpdGllcyA9IF8uc29ydEJ5KGZpbHRlcmVkRW50aXRpZXMsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoZS53ZWxsY29ubmVjdGVkKSA/IDEgOiAwO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZHJhd05ldHdvcmsoZmlsdGVyZWRFbnRpdGllcywgZmlsdGVyZWRDb25uZWN0aW9ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbm5lY3Rpb25TZXJ2aWNlXG4gICAgICAgICAgICAgICAgLmdldEFsbCgpXG4gICAgICAgICAgICAgICAgLnRoZW4oc3VjY2Vzcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBDb250cm9sbGVyLiRpbmplY3QgPSBbXCIkc2NvcGVcIiwgXCIkZmlsdGVyXCIsIFwiX1wiLCBcImNvbm5lY3Rpb25TZXJ2aWNlXCIsIFwiY2dVdGlsU2VydmljZVwiXTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5jb250cm9sbGVyKCduZXR3b3JrQ3RybCcsIENvbnRyb2xsZXIpO1xuXG59KShhbmd1bGFyLCBSVFApO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA3LzExLzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IFtcbiAgICAgICAgZGlyZWN0aXZlXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIGRpcmVjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFwicmVzdHJpY3RcIjogXCJFXCIsXG4gICAgICAgICAgICBcInRlbXBsYXRlVXJsXCI6IFwianMvbmV0d29yay9uZXR3b3JrLmh0bWxcIixcbiAgICAgICAgICAgIFwiY29udHJvbGxlclwiOiBcIm5ldHdvcmtDdHJsXCJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImNpdmljLWdyYXBoXCIpXG4gICAgICAgIC5kaXJlY3RpdmUoXCJuZXR3b3JrXCIsIGRlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI2LzE2LlxuICovXG4oZnVuY3Rpb24oYW5ndWxhcikge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2lucHV0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdGljdDogJ0UnLFxuICAgICAgICAgICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xuICAgICAgICAgICAgICAgIGlmICggJ3R5cGUnIGluIGF0dHJzICYmIGF0dHJzLnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ3JhbmdlJyApIHtcbiAgICAgICAgICAgICAgICAgICAgbmdNb2RlbC4kcGFyc2Vycy5wdXNoKHBhcnNlRmxvYXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcbn0pKGFuZ3VsYXIpOyIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZnVuY3Rpb24gb3ZlcnZpZXdDdHJsKCRzY29wZSwgXykge1xuICAgICAgICAkc2NvcGUuY2F0ZWdvcml6ZWRFbnRpdGllcyA9IHt9O1xuICAgICAgICBfLmZvckVhY2goXy5rZXlzKCRzY29wZS5lbnRpdHlUeXBlcyksIGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAkc2NvcGUuY2F0ZWdvcml6ZWRFbnRpdGllc1t0eXBlXSA9IF8uZmlsdGVyKCRzY29wZS5lbnRpdGllcywgeyd0eXBlJzogdHlwZX0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuY29udHJvbGxlcignb3ZlcnZpZXdDdHJsJywgWyckc2NvcGUnLCAnXycsIG92ZXJ2aWV3Q3RybF0pO1xufSkoYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgZnVuY3Rpb24gaXNEZWZpbmVkKG8pIHtcbiAgICAgICAgcmV0dXJuICEodHlwZW9mIG8gPT09IFwidW5kZWZpbmVkXCIgfHwgbyA9PT0gbnVsbCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNPYmplY3Qobykge1xuICAgICAgICByZXR1cm4gaXNEZWZpbmVkKG8pICYmICFBcnJheS5pc0FycmF5KG8pICYmICh0eXBlb2YgbyA9PT0gXCJvYmplY3RcIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0UHJvcGVydHlGcm9tT2JqKG9iaikge1xuICAgICAgICB2YXIgZGVmT2JqID0gaXNEZWZpbmVkKG9iaikgPyBvYmogOiB7fTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHByb3BlcnR5LCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGlzRGVmaW5lZChkZWZhdWx0VmFsdWUpID8gZGVmYXVsdFZhbHVlIDogbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBpc0RlZmluZWQoZGVmT2JqW3Byb3BlcnR5XSlcbiAgICAgICAgICAgICAgICA/IGRlZk9ialtwcm9wZXJ0eV1cbiAgICAgICAgICAgICAgICA6IHZhbHVlO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvb3BBbmRJbml0KG1vZGVsQXJyYXksIGluaXRNb2RlbEZ1bmN0aW9uKSB7XG4gICAgICAgIHZhciBuZXdBcnJheSA9IEFycmF5LmlzQXJyYXkobW9kZWxBcnJheSlcbiAgICAgICAgICAgID8gbW9kZWxBcnJheS5maWx0ZXIoaXNPYmplY3QpLm1hcChpbml0TW9kZWxGdW5jdGlvbilcbiAgICAgICAgICAgIDogW107XG5cbiAgICAgICAgcmV0dXJuIG5ld0FycmF5LmNvbmNhdChbaW5pdE1vZGVsRnVuY3Rpb24oKV0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIFNlcnZpY2UoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBcImlzRGVmaW5lZFwiOiBpc0RlZmluZWQsXG4gICAgICAgICAgICBcImlzT2JqZWN0XCI6IGlzT2JqZWN0LFxuXG4gICAgICAgICAgICBcImdldFByb3BlcnR5RnJvbU9ialwiOiBnZXRQcm9wZXJ0eUZyb21PYmosXG4gICAgICAgICAgICBcImxvb3BBbmRJbml0XCI6IGxvb3BBbmRJbml0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKFwiY2l2aWMtZ3JhcGgudXRpbFwiKVxuICAgICAgICAuZmFjdG9yeShcImNnVXRpbFNlcnZpY2VcIiwgU2VydmljZSk7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA3LzEvMTYuXG4gKi9cblxuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBhbmFseXRpY3NEZXBlbmRlbmNpZXMgPSBbYW5hbHl0aWNzRGlyZWN0aXZlXTtcblxuICAgIGZ1bmN0aW9uIGFuYWx5dGljc0RpcmVjdGl2ZSgpe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9hbmFseXRpYy9hbmFseXRpY3MuaHRtbCcsXG4gICAgICAgICAgICByZXN0cmljdCAgIDogJ0UnLFxuICAgICAgICAgICAgc2NvcGUgICAgICA6IHt9LFxuICAgICAgICAgICAgY29udHJvbGxlciAgIDogJ2FuYWx5dGljc0N0cmwnXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnYW5hbHl0aWNzJywgYW5hbHl0aWNzRGVwZW5kZW5jaWVzKTtcblxufSkoYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgZnVuY3Rpb24gQ29uZmlnKCRodHRwUHJvdmlkZXIpIHtcbiAgICAgICAgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbltcIlgtUmVxdWVzdGVkLVdpdGhcIl0gPSBcIlhNTEh0dHBSZXF1ZXN0XCI7XG4gICAgfVxuXG4gICAgQ29uZmlnLiRpbmplY3QgPSBbXCIkaHR0cFByb3ZpZGVyXCJdO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoXCJjaXZpYy1ncmFwaC5hcGlcIikuY29uZmlnKENvbmZpZyk7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIHZhciBhcGlVcmwgPSBcImh0dHBzOi8vYXBpLmNpdmljZ3JhcGguaW8vYXBpXCI7XG4gICAgLy92YXIgYXBpVXJsID0gXCIvYXBpXCI7XG5cbiAgICB2YXIgZGVmYXVsdEhlYWRlciA9IHtcbiAgICAgICAgLy8gXCJFdmVudC1OYW1lXCI6IFwiVGVzdC1FdmVudFwiXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIFNlcnZpY2UoJGh0dHAsICRxKSB7XG4gICAgICAgIGZ1bmN0aW9uIGxvZ0FwaUVycm9yKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlJlY2lldmVkIGFuIGVycm9yIGZyb20gQVBJIHdpdGggdGhpcyBtZXNzYWdlOiAlT1wiLCBlcnIuZGF0YSk7XG4gICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KGVycik7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB1bndyYXBBbmd1bGFySHR0cChyZXNwb25zZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXQodXJsLCBwYXJhbXMpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5nZXQoYXBpVXJsICsgdXJsLCB7IFwicGFyYW1zXCI6IHBhcmFtcywgXCJoZWFkZXJzXCI6IGRlZmF1bHRIZWFkZXIgfSlcbiAgICAgICAgICAgICAgICAudGhlbih1bndyYXBBbmd1bGFySHR0cCwgbG9nQXBpRXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcG9zdCh1cmwsIGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cFxuICAgICAgICAgICAgICAgIC5wb3N0KGFwaVVybCArIHVybCwgZGF0YSwgeyBcImhlYWRlcnNcIjogZGVmYXVsdEhlYWRlciB9KVxuICAgICAgICAgICAgICAgIC50aGVuKHVud3JhcEFuZ3VsYXJIdHRwLCBsb2dBcGlFcnJvcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgXCJnZXRcIjogZ2V0LFxuICAgICAgICAgICAgXCJwb3N0XCI6IHBvc3RcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBTZXJ2aWNlLiRpbmplY3QgPSBbXCIkaHR0cFwiLCBcIiRxXCJdO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoXCJjaXZpYy1ncmFwaC5hcGlcIikuZmFjdG9yeShcImNnQXBpQ2FsbGVyXCIsIFNlcnZpY2UpO1xuXG59KShhbmd1bGFyKTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNi8yNy8xNi5cbiAqL1xuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGZ1bmN0aW9uIFNlcnZpY2UodXRpbHMpIHtcbiAgICAgICAgZnVuY3Rpb24gTG9jYXRpb24ob2JqKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBnZXRQcm9wZXJ0eSA9IHV0aWxzLmdldFByb3BlcnR5RnJvbU9iaihvYmopO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBidWlsZEZvcm1hdHRlZEFkZHJlc3MoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlZk9iaiA9IHV0aWxzLmlzRGVmaW5lZChvYmopID8gb2JqIDoge307XG4gICAgICAgICAgICAgICAgdmFyIGFkZHJlc3NMaW5lID0gKHV0aWxzLmlzRGVmaW5lZChkZWZPYmouYWRkcmVzc19saW5lKSA/IGRlZk9iai5hZGRyZXNzX2xpbmUgKyAnICcgOiAnJyk7XG4gICAgICAgICAgICAgICAgdmFyIGxvY2FsaXR5ID0gKHV0aWxzLmlzRGVmaW5lZChkZWZPYmoubG9jYWxpdHkpID8gZGVmT2JqLmxvY2FsaXR5ICsgJywgJyA6ICcnKTtcbiAgICAgICAgICAgICAgICB2YXIgY291bnRyeUNvZGUgPSAodXRpbHMuaXNEZWZpbmVkKGRlZk9iai5jb3VudHJ5X2NvZGUpID8gZGVmT2JqLmNvdW50cnlfY29kZSArICcgJyA6ICcnKTtcbiAgICAgICAgICAgICAgICB2YXIgcG9zdGFsQ29kZSA9ICh1dGlscy5pc0RlZmluZWQoZGVmT2JqLnBvc3RhbF9jb2RlKSA/IGRlZk9iai5wb3N0YWxfY29kZSA6ICcnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiAoYWRkcmVzc0xpbmUgKyBsb2NhbGl0eSArIGNvdW50cnlDb2RlICsgcG9zdGFsQ29kZSkudHJpbSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWxmLmlkID0gZ2V0UHJvcGVydHkoXCJpZFwiKTtcbiAgICAgICAgICAgIHNlbGYuYWRkcmVzc19saW5lID0gZ2V0UHJvcGVydHkoXCJhZGRyZXNzX2xpbmVcIik7XG4gICAgICAgICAgICBzZWxmLmxvY2FsaXR5ID0gZ2V0UHJvcGVydHkoXCJsb2NhbGl0eVwiKTtcbiAgICAgICAgICAgIHNlbGYuZGlzdHJpY3QgPSBnZXRQcm9wZXJ0eShcImRpc3RyaWN0XCIpO1xuICAgICAgICAgICAgc2VsZi5wb3N0YWxfY29kZSA9IGdldFByb3BlcnR5KFwicG9zdGFsX2NvZGVcIik7XG4gICAgICAgICAgICBzZWxmLmNvdW50cnkgPSBnZXRQcm9wZXJ0eShcImNvdW50cnlcIik7XG4gICAgICAgICAgICBzZWxmLmNvdW50cnlfY29kZSA9IGdldFByb3BlcnR5KFwiY291bnRyeV9jb2RlXCIpO1xuICAgICAgICAgICAgc2VsZi5jb29yZGluYXRlcyA9IGdldFByb3BlcnR5KFwiY29vcmRpbmF0ZXNcIik7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IENvbnZlcnQgdGhpcyB0byBhIG1ldGhvZCB0aGF0IGJ1aWxkcyBiYXNlZCBvZmYgb2YgdGhlIGN1cnJlbnQgb2JqZWN0J3MgcHJvcGVydGllcy5cbiAgICAgICAgICAgIC8vIFVubGVzcyB0aGlzIGlzIG5lZWRlZCBmb3IgdGhlIEFQSSBzcGVjaWZpY2FsbHksIHRoZW4gaGF2ZSB0aGlzIGJ1aWx0IGluIGEgc2ltaWxhciBmdW5jdGlvbiBhcyB0aGUgb25lIGluXG4gICAgICAgICAgICAvLyBFbnRpdHlNb2RlbCBmb3IgYnVpbGRpbmcgQVBJIHNwZWNpZmljIG9iamVjdHNcbiAgICAgICAgICAgIHNlbGYuZm9ybWF0dGVkQWRkcmVzcyA9IGJ1aWxkRm9ybWF0dGVkQWRkcmVzcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0TG9jYXRpb25Nb2RlbChvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTG9jYXRpb24ob2JqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBcImdldExvY2F0aW9uTW9kZWxcIjogZ2V0TG9jYXRpb25Nb2RlbFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIFNlcnZpY2UuJGluamVjdCA9IFtcImNnVXRpbFNlcnZpY2VcIl07XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2NpdmljLWdyYXBoLmFwaScpXG4gICAgICAgIC5mYWN0b3J5KCdsb2NhdGlvblNlcnZpY2UnLCBTZXJ2aWNlKTtcblxufSkoYW5ndWxhcik7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDYvMjcvMTYuXG4gKi9cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBmdW5jdGlvbiBnZXRFbnRpdHlUeXBlcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFwiR292ZXJubWVudFwiOiB0cnVlLFxuICAgICAgICAgICAgXCJGb3ItUHJvZml0XCI6IHRydWUsXG4gICAgICAgICAgICBcIk5vbi1Qcm9maXRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiSW5kaXZpZHVhbFwiOiB0cnVlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0SW5mbHVlbmNlVHlwZXMoKSB7XG4gICAgICAgIHJldHVybiBbXCJMb2NhbFwiLCBcIk5hdGlvbmFsXCIsIFwiR2xvYmFsXCJdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIFNlcnZpY2UoYXBpQ2FsbGVyLCBmdW5Db25uU2VydmljZSwgY29ublNlcnZpY2UsIGZpbmFuY2VTZXJ2aWNlLCBsb2NhdGlvblNlcnZpY2UsIGNhdGVnb3J5U2VydmljZSwgdXRpbHMpIHtcblxuICAgICAgICBmdW5jdGlvbiBFbnRpdHkob2JqKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgZGVmT2JqID0gdXRpbHMuaXNEZWZpbmVkKG9iaikgPyBvYmogOiB7fTtcbiAgICAgICAgICAgIHZhciBnZXRQcm9wZXJ0eSA9IHV0aWxzLmdldFByb3BlcnR5RnJvbU9iaihvYmopO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZW5lcmF0ZURCTW9kZWwoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRiTW9kZWwgPSBuZXcgRW50aXR5KHNlbGYpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwubG9jYXRpb25zLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwubG9jYXRpb25zLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZ3JhbnRzX3JlY2VpdmVkLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZ3JhbnRzX3JlY2VpdmVkLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZ3JhbnRzX2dpdmVuLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZ3JhbnRzX2dpdmVuLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuaW52ZXN0bWVudHNfcmVjZWl2ZWQucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5pbnZlc3RtZW50c19yZWNlaXZlZC5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmludmVzdG1lbnRzX21hZGUucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5pbnZlc3RtZW50c19tYWRlLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZGF0YV9naXZlbi5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmRhdGFfZ2l2ZW4ucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5kYXRhX3JlY2VpdmVkLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZGF0YV9yZWNlaXZlZC5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmNvbGxhYm9yYXRpb25zLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuY29sbGFib3JhdGlvbnMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5rZXlfcGVvcGxlLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwua2V5X3Blb3BsZS5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmVtcGxveW1lbnRzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZW1wbG95bWVudHMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5yZXZlbnVlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLnJldmVudWVzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZXhwZW5zZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5leHBlbnNlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmNhdGVnb3JpZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5jYXRlZ29yaWVzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZGVzY3JpcHRpb24gPSAnJztcblxuICAgICAgICAgICAgICAgIHJldHVybiBkYk1vZGVsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWxmLmlkID0gZ2V0UHJvcGVydHkoXCJpZFwiKTtcbiAgICAgICAgICAgIHNlbGYubmFtZSA9IGdldFByb3BlcnR5KFwibmFtZVwiKTtcbiAgICAgICAgICAgIHNlbGYuaW5mbHVlbmNlID0gZ2V0UHJvcGVydHkoXCJpbmZsdWVuY2VcIik7XG4gICAgICAgICAgICBzZWxmLnR5cGUgPSBnZXRQcm9wZXJ0eShcInR5cGVcIik7XG4gICAgICAgICAgICBzZWxmLm5pY2tuYW1lID0gZ2V0UHJvcGVydHkoXCJuaWNrbmFtZVwiKTtcbiAgICAgICAgICAgIHNlbGYudXJsID0gZ2V0UHJvcGVydHkoXCJ1cmxcIik7XG4gICAgICAgICAgICBzZWxmLnR3aXR0ZXJfaGFuZGxlID0gZ2V0UHJvcGVydHkoXCJ0d2l0dGVyX2hhbmRsZVwiKTtcbiAgICAgICAgICAgIHNlbGYuZW1wbG95ZWVzID0gZ2V0UHJvcGVydHkoXCJlbXBsb3llZXNcIik7XG5cbiAgICAgICAgICAgIHNlbGYubG9jYXRpb25zID0gdXRpbHMubG9vcEFuZEluaXQoZGVmT2JqLmxvY2F0aW9ucywgbG9jYXRpb25TZXJ2aWNlLmdldExvY2F0aW9uTW9kZWwpO1xuICAgICAgICAgICAgc2VsZi5ncmFudHNfcmVjZWl2ZWQgPSB1dGlscy5sb29wQW5kSW5pdChkZWZPYmouZ3JhbnRzX3JlY2VpdmVkLCBmdW5Db25uU2VydmljZS5nZXRGdW5kaW5nQ29ubmVjdGlvbk1vZGVsKTtcbiAgICAgICAgICAgIHNlbGYuaW52ZXN0bWVudHNfcmVjZWl2ZWQgPSB1dGlscy5sb29wQW5kSW5pdChkZWZPYmouaW52ZXN0bWVudHNfcmVjZWl2ZWQsIGZ1bkNvbm5TZXJ2aWNlLmdldEZ1bmRpbmdDb25uZWN0aW9uTW9kZWwpO1xuICAgICAgICAgICAgc2VsZi5ncmFudHNfZ2l2ZW4gPSB1dGlscy5sb29wQW5kSW5pdChkZWZPYmouZ3JhbnRzX2dpdmVuLCBmdW5Db25uU2VydmljZS5nZXRGdW5kaW5nQ29ubmVjdGlvbk1vZGVsKTtcbiAgICAgICAgICAgIHNlbGYuaW52ZXN0bWVudHNfbWFkZSA9IHV0aWxzLmxvb3BBbmRJbml0KGRlZk9iai5pbnZlc3RtZW50c19tYWRlLCBmdW5Db25uU2VydmljZS5nZXRGdW5kaW5nQ29ubmVjdGlvbk1vZGVsKTtcbiAgICAgICAgICAgIHNlbGYuZGF0YV9naXZlbiA9IHV0aWxzLmxvb3BBbmRJbml0KGRlZk9iai5kYXRhX2dpdmVuLCBjb25uU2VydmljZS5nZXRDb25uZWN0aW9uTW9kZWwpO1xuICAgICAgICAgICAgc2VsZi5kYXRhX3JlY2VpdmVkID0gdXRpbHMubG9vcEFuZEluaXQoZGVmT2JqLmRhdGFfcmVjZWl2ZWQsIGNvbm5TZXJ2aWNlLmdldENvbm5lY3Rpb25Nb2RlbCk7XG4gICAgICAgICAgICBzZWxmLmNvbGxhYm9yYXRpb25zID0gdXRpbHMubG9vcEFuZEluaXQoZGVmT2JqLmNvbGxhYm9yYXRpb25zLCBjb25uU2VydmljZS5nZXRDb25uZWN0aW9uTW9kZWwpO1xuICAgICAgICAgICAgc2VsZi5rZXlfcGVvcGxlID0gdXRpbHMubG9vcEFuZEluaXQoZGVmT2JqLmtleV9wZW9wbGUsIGNvbm5TZXJ2aWNlLmdldENvbm5lY3Rpb25Nb2RlbCk7XG4gICAgICAgICAgICBzZWxmLmVtcGxveW1lbnRzID0gdXRpbHMubG9vcEFuZEluaXQoZGVmT2JqLmVtcGxveW1lbnRzLCBjb25uU2VydmljZS5nZXRDb25uZWN0aW9uTW9kZWwpO1xuICAgICAgICAgICAgc2VsZi5yZXZlbnVlcyA9IHV0aWxzLmxvb3BBbmRJbml0KGRlZk9iai5yZXZlbnVlcywgZmluYW5jZVNlcnZpY2UuZ2V0RmluYW5jZU1vZGVsKTtcbiAgICAgICAgICAgIHNlbGYuZXhwZW5zZXMgPSB1dGlscy5sb29wQW5kSW5pdChkZWZPYmouZXhwZW5zZXMsIGZpbmFuY2VTZXJ2aWNlLmdldEZpbmFuY2VNb2RlbCk7XG4gICAgICAgICAgICBzZWxmLmNhdGVnb3JpZXMgPSB1dGlscy5sb29wQW5kSW5pdChkZWZPYmouY2F0ZWdvcmllcywgY2F0ZWdvcnlTZXJ2aWNlLmdldENhdGVnb3J5TW9kZWwpO1xuXG4gICAgICAgICAgICBzZWxmLmdlbmVyYXRlREJNb2RlbCA9IGdlbmVyYXRlREJNb2RlbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldEVudGl0eU1vZGVsKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFbnRpdHkob2JqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldEFsbCgpIHtcbiAgICAgICAgICAgIHJldHVybiBhcGlDYWxsZXIuZ2V0KCcvZW50aXRpZXMnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNhdmVFbnRpdHkoZW50aXR5KSB7XG4gICAgICAgICAgICByZXR1cm4gYXBpQ2FsbGVyLnBvc3QoXCIvc2F2ZVwiLCB7IFwiZW50aXR5XCI6IGVudGl0eSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBcImdldEVudGl0eU1vZGVsXCI6IGdldEVudGl0eU1vZGVsLFxuICAgICAgICAgICAgXCJnZXRFbnRpdHlUeXBlc1wiOiBnZXRFbnRpdHlUeXBlcyxcbiAgICAgICAgICAgIFwiZ2V0SW5mbHVlbmNlVHlwZXNcIjogZ2V0SW5mbHVlbmNlVHlwZXMsXG4gICAgICAgICAgICBcImdldEFsbFwiOiBnZXRBbGwsXG4gICAgICAgICAgICBcInNhdmVFbnRpdHlcIjogc2F2ZUVudGl0eVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIFNlcnZpY2UuJGluamVjdCA9IFtcbiAgICAgICAgXCJjZ0FwaUNhbGxlclwiLFxuICAgICAgICBcImZ1bmRpbmdDb25uZWN0aW9uU2VydmljZVwiLFxuICAgICAgICBcImNvbm5lY3Rpb25TZXJ2aWNlXCIsXG4gICAgICAgIFwiZmluYW5jZVNlcnZpY2VcIixcbiAgICAgICAgXCJsb2NhdGlvblNlcnZpY2VcIixcbiAgICAgICAgXCJjYXRlZ29yeVNlcnZpY2VcIixcbiAgICAgICAgXCJjZ1V0aWxTZXJ2aWNlXCJcbiAgICBdO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKFwiY2l2aWMtZ3JhcGguYXBpXCIpXG4gICAgICAgIC5mYWN0b3J5KFwiZW50aXR5U2VydmljZVwiLCBTZXJ2aWNlKTtcblxufSkoYW5ndWxhcik7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDcvMTAvMTYuXG4gKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgY29udHJvbERlcHMgPSBbXG4gICAgICAgICdlbnRpdHlTZXJ2aWNlJyxcbiAgICAgICAgJ2Nvbm5lY3Rpb25TZXJ2aWNlJyxcbiAgICAgICAgJyRyb290U2NvcGUnLFxuICAgICAgICAnXycsXG4gICAgICAgICckbW9kYWwnLFxuICAgICAgICBjb250cm9sQ3RybFxuICAgIF07XG5cbiAgICBmdW5jdGlvbiBjb250cm9sQ3RybChlbnRpdHlTZXJ2aWNlLCBjb25uZWN0aW9uU2VydmljZSwgJHJvb3RTY29wZSwgXywgJG1vZGFsKSB7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG4gICAgICAgIHZtLmVudGl0eVR5cGVzID0gZW50aXR5U2VydmljZS5nZXRFbnRpdHlUeXBlcygpO1xuICAgICAgICB2bS5jb25uZWN0aW9uVHlwZXMgPSBjb25uZWN0aW9uU2VydmljZS5nZXRDb25uZWN0aW9uVHlwZXMoKTtcbiAgICAgICAgdm0uc2l6ZUJ5TGlzdCA9IFtcbiAgICAgICAgICAgIHsnbmFtZSc6ICdFbXBsb3llZXMnLCAndmFsdWUnOiAnZW1wbG95ZWVzJ30sXG4gICAgICAgICAgICB7J25hbWUnOiAnVHdpdHRlciBGb2xsb3dlcnMnLCAndmFsdWUnOiAnZm9sbG93ZXJzJ31cbiAgICAgICAgXTtcbiAgICAgICAgdm0uc2l6ZUJ5ID0gJ2VtcGxveWVlcyc7XG4gICAgICAgIHZtLnNob3dWaWV3ID0ge1xuICAgICAgICAgICAgJ05ldHdvcmsnOiB0cnVlLFxuICAgICAgICAgICAgJ01hcCc6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIHZtLnN3aXRjaFZpZXcgPSBzd2l0Y2hWaWV3O1xuICAgICAgICB2bS5jaGFuZ2VWaWV3ID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgICAgICAgICAgIF8uZm9yRWFjaChfLmtleXModm0uc2hvd1ZpZXcpLCBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIHZtLnNob3dWaWV3W25hbWVdID0gdmlldyA9PT0gbmFtZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCd2aWV3Q2hhbmdlJywgdm0uc2hvd1ZpZXcpO1xuICAgICAgICB9O1xuICAgICAgICB2bS5zaG93QWJvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkbW9kYWwub3Blbih7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbnRyb2wvYWJvdXQuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21vZGFsQ3RybCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB2bS50b2dnbGVOb2RlID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgndG9nZ2xlTm9kZScsIHsnbmFtZSc6IHR5cGUsICdlbmFibGVkJzogdm0uZW50aXR5VHlwZXNbdHlwZV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB2bS50b2dnbGVMaW5rID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgndG9nZ2xlTGluaycsIHsnbmFtZSc6IHR5cGUsICdlbmFibGVkJzogdm0uY29ubmVjdGlvblR5cGVzW3R5cGVdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdm0uY2hhbmdlU2l6ZUJ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdjaGFuZ2VTaXplQnknLCB2bS5zaXplQnkpO1xuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBzd2l0Y2hWaWV3KCkge1xuICAgICAgICAgICAgdm0uY2hhbmdlVmlldyghdm0udG9nZ2xlTmV0d29yayA/ICdNYXAnIDogJ05ldHdvcmsnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZtLmNoYW5nZVNpemVCeSgpO1xuXG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2NvbnRyb2xDdHJsJywgY29udHJvbERlcHMpO1xuXG59KShhbmd1bGFyKTtcbiIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZnVuY3Rpb24gZGV0YWlsc0N0cmwoJHNjb3BlLCBfKSB7XG4gICAgICAgICRzY29wZS5pdGVtc1Nob3duRGVmYXVsdCA9IHtcbiAgICAgICAgICAgICdrZXlfcGVvcGxlJzogMyxcbiAgICAgICAgICAgICdncmFudHNfZ2l2ZW4nOiAzLFxuICAgICAgICAgICAgJ2dyYW50c19yZWNlaXZlZCc6IDMsXG4gICAgICAgICAgICAnaW52ZXN0bWVudHNfbWFkZSc6IDMsXG4gICAgICAgICAgICAnaW52ZXN0bWVudHNfcmVjZWl2ZWQnOiAzLFxuICAgICAgICAgICAgJ2NvbGxhYm9yYXRpb25zJzogMyxcbiAgICAgICAgICAgICdlbXBsb3ltZW50cyc6IDMsXG4gICAgICAgICAgICAncmVsYXRpb25zJzogMyxcbiAgICAgICAgICAgICdkYXRhX2dpdmVuJzogMyxcbiAgICAgICAgICAgICdkYXRhX3JlY2VpdmVkJzogMyxcbiAgICAgICAgICAgICdyZXZlbnVlcyc6IDMsXG4gICAgICAgICAgICAnZXhwZW5zZXMnOiAzXG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLml0ZW1zU2hvd24gPSBfLmNsb25lKCRzY29wZS5pdGVtc1Nob3duRGVmYXVsdCk7XG5cbiAgICAgICAgJHNjb3BlLiRvbignZW50aXR5Q2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gUmVzZXQgaXRlbXMgc2hvd24gaW4gZGV0YWlscyBsaXN0LlxuICAgICAgICAgICAgJHNjb3BlLml0ZW1zU2hvd24gPSBfLmNsb25lKCRzY29wZS5pdGVtc1Nob3duRGVmYXVsdCk7XG4gICAgICAgIH0pO1xuICAgICAgICAkc2NvcGUuc2hvd01vcmUgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgJHNjb3BlLml0ZW1zU2hvd25bdHlwZV0gPSAkc2NvcGUuY3VycmVudEVudGl0eVt0eXBlXS5sZW5ndGg7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5zaG93TGVzcyA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAkc2NvcGUuaXRlbXNTaG93blt0eXBlXSA9ICRzY29wZS5pdGVtc1Nob3duRGVmYXVsdFt0eXBlXTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuY29udHJvbGxlcignZGV0YWlsc0N0cmwnLCBbJyRzY29wZScsIFwiX1wiLCBkZXRhaWxzQ3RybF0pO1xufSkoYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIsIGQzLCBMKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IFtcbiAgICAgICAgJyRzY29wZScsXG4gICAgICAgICckdGltZW91dCcsXG4gICAgICAgICdsZWFmbGV0RGF0YScsXG4gICAgICAgICdfJyxcbiAgICAgICAgJyRmaWx0ZXInLFxuICAgICAgICBtYXBDdHJsXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIG1hcEN0cmwoJHNjb3BlLCAkdGltZW91dCwgbGVhZmxldERhdGEsIF8sICRmaWx0ZXIpIHtcblxuICAgICAgICAkc2NvcGUub3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGNlbnRlciAgOiB7XG4gICAgICAgICAgICAgICAgbGF0IDogMjAuMDAsXG4gICAgICAgICAgICAgICAgbG5nIDogLTQwLjAwLFxuICAgICAgICAgICAgICAgIHpvb206IDNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgICAgIHRpbGVMYXllciAgICAgICAgIDogJ2h0dHBzOi8vYXBpLnRpbGVzLm1hcGJveC5jb20vdjQvbWFwYm94LmxpZ2h0L3t6fS97eH0ve3l9LnBuZz9hY2Nlc3NfdG9rZW49cGsuZXlKMUlqb2laR0YyYVdSc2NtNTBJaXdpWVNJNklqQTBNMlJrTnpNelpXSm1OekV6TkdZek1UZGhZVEV4WXpBeVptVTRaVEUxSW4wLlROWWxGdGEyVkl0cmtuNEwwWjlCSlEnLFxuICAgICAgICAgICAgICAgIHRpbGVMYXllck9wdGlvbnMgIDoge1xuICAgICAgICAgICAgICAgICAgICBkZXRlY3RSZXRpbmE6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHJldXNlVGlsZXMgIDogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHpvb21Db250cm9sICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRpb25Db250cm9sOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjcmVhdGVQaWVDaGFydCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgICA9IG9wdGlvbnMuZGF0YTtcbiAgICAgICAgICAgICAgICB2YXIgcGllICAgID0gZDMubGF5b3V0LnBpZSgpLnNvcnQobnVsbCkudmFsdWUoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQudmFsdWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGFyYyAgICA9IGQzLnN2Zy5hcmMoKS5vdXRlclJhZGl1cyhvcHRpb25zLnIpLmlubmVyUmFkaXVzKG9wdGlvbnMuciAtIDEwKTtcbiAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gb3B0aW9ucy5yICsgb3B0aW9ucy5zdHJva2VXaWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgdyAgICAgID0gY2VudGVyICogMjtcbiAgICAgICAgICAgICAgICB2YXIgaCAgICAgID0gdztcbiAgICAgICAgICAgICAgICB2YXIgc3ZnICAgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGQzLm5zLnByZWZpeC5zdmcsICdzdmcnKTtcbiAgICAgICAgICAgICAgICB2YXIgdmlzICAgID0gZDMuc2VsZWN0KHN2ZylcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEoZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3BpZWNoYXJ0JylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgdylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGFyY3MgPSB2aXMuc2VsZWN0QWxsKCcuYXJjJylcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEocGllKGRhdGEpKVxuICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnYXJjJylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIGNlbnRlciArICcsJyArIGNlbnRlciArICcpJyk7XG5cbiAgICAgICAgICAgICAgICAvLyB2YXIgbWFwID0gTC5tYXBib3gubWFwKCdtYXAnLCAnZXhhbXBsZXMubWFwLTlpanVrMjR5Jywge1xuICAgICAgICAgICAgICAgIC8vICAgICBtaW5ab29tOiAxLFxuICAgICAgICAgICAgICAgIC8vICAgICBtYXhab29tOiAyXG4gICAgICAgICAgICAgICAgLy8gfSkuc2V0VmlldyhbNDAsIC03NC41MF0sIDkpO1xuXG4gICAgICAgICAgICAgICAgYXJjcy5hcHBlbmQoJ3BhdGgnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZCcsIGFyYylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmRhdGEudHlwZSArICctYXJjJztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBhcmNzLmFwcGVuZChcInN2Zzp0ZXh0XCIpXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInhcIiwgLTQgKiBvcHRpb25zLmNvdW50LnRvU3RyaW5nKCkubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImR5XCIsIDUpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJhcmNUZXh0XCIpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5YTUxTZXJpYWxpemVyID8gKG5ldyB3aW5kb3cuWE1MU2VyaWFsaXplcigpKS5zZXJpYWxpemVUb1N0cmluZyhzdmcpXG4gICAgICAgICAgICAgICAgICAgIDogc3ZnLnhtbCA/IHN2Zy54bWwgOiAnJztcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJlZEVudGl0aWVzID0gJHNjb3BlLmVudGl0aWVzO1xuXG4gICAgICAgICAgICAgICAgbWFwLmludmFsaWRhdGVTaXplKCk7XG5cbiAgICAgICAgICAgICAgICBuZXcgTC5Db250cm9sLlpvb20oe3Bvc2l0aW9uOiAndG9wcmlnaHQnfSkuYWRkVG8obWFwKTtcbiAgICAgICAgICAgICAgICBMLmNvbnRyb2wubG9jYXRlKFxuICAgICAgICAgICAgICAgICAgICB7cG9zaXRpb246ICd0b3ByaWdodCcsIHNob3dQb3B1cDogZmFsc2UsIGljb246ICdmYSBmYS1sb2NhdGlvbi1hcnJvdyd9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAuYWRkVG8obWFwKTtcblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNsdXN0ZXJJY29uKGNsdXN0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuICAgICAgID0gY2x1c3Rlci5nZXRBbGxDaGlsZE1hcmtlcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvdGFsICAgICAgICAgID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2x1c3Rlck1hcmtlcnMgPSBfLnBsdWNrKGNoaWxkcmVuLCAnb3B0aW9ucycpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRzICAgICAgICAgPSBfLm1hcChfLmNvdW50QnkoY2x1c3Rlck1hcmtlcnMsICd0eXBlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChjb3VudCwgdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsndHlwZSc6IHR5cGUsICd2YWx1ZSc6IGNvdW50fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByICAgICAgICAgICAgICA9IDI4O1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3Ryb2tlV2lkdGggICAgPSAxO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaWNvbkRpbSAgICAgICAgPSAociArIHN0cm9rZVdpZHRoKSAqIDI7XG4gICAgICAgICAgICAgICAgICAgIHZhciBodG1sICAgICAgICAgICA9IGNyZWF0ZVBpZUNoYXJ0KFxuICAgICAgICAgICAgICAgICAgICAgICAge2RhdGE6IGNvdW50cywgcjogciwgc3Ryb2tlV2lkdGg6IHN0cm9rZVdpZHRoLCBjb3VudDogdG90YWx9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBMLkRpdkljb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCAgICAgOiBodG1sLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnbWFya2VyLWNsdXN0ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemUgOiBuZXcgTC5wb2ludChpY29uRGltLCBpY29uRGltKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG1hcmtlckljb24gID0ge1xuICAgICAgICAgICAgICAgICAgICAnTm9uLVByb2ZpdCc6IEwuaWNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uVXJsIDogJ2ltZy9tYXJrZXItbm9ucHJvZi5zdmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFs2MCwgNjBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAnRm9yLVByb2ZpdCc6IEwuaWNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uVXJsIDogJ2ltZy9tYXJrZXItcHJvZi5zdmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFs2MCwgNjBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAnSW5kaXZpZHVhbCc6IEwuaWNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uVXJsIDogJ2ltZy9tYXJrZXItaW5kLnN2ZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzYwLCA2MF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICdHb3Zlcm5tZW50JzogTC5pY29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25VcmwgOiAnaW1nL21hcmtlci1nb3Yuc3ZnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbNjAsIDYwXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgbWFya2VycyA9IEwubWFya2VyQ2x1c3Rlckdyb3VwKHtcblxuICAgICAgICAgICAgICAgICAgICBzcGlkZXJmeU9uTWF4Wm9vbTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2hvd0NvdmVyYWdlT25Ib3ZlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGljb25DcmVhdGVGdW5jdGlvbjogY2x1c3Rlckljb24sXG4gICAgICAgICAgICAgICAgICAgIG1heENsdXN0ZXJSYWRpdXM6IDMwLFxuICAgICAgICAgICAgICAgICAgICBzcGlkZXJmeURpc3RhbmNlTXVsdGlwbGllcjogMS4zXG4gICAgICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG91dGVyTG9vcChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gaW5uZXJMb29wKGxvYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfLmV2ZXJ5KGxvYy5jb29yZGluYXRlcykpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2MuY29vcmRpbmF0ZXNbMF0udG9GaXhlZCg1KSA9PT0gJzQwLjc4MjAwJyAmJiBsb2MuY29vcmRpbmF0ZXNbMV0udG9GaXhlZCg1KSA9PT0gJy03My44MzE3MCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2MuY29vcmRpbmF0ZXNbMF0gPSA0MC43NzA2NTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2MuY29vcmRpbmF0ZXNbMV0gPSAtNzMuOTc0MDY7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IEwubWFya2VyKGxvYy5jb29yZGluYXRlcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IG1hcmtlckljb25bZW50aXR5LnR5cGVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0aXRsZSc6IGVudGl0eS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlbnRpdHlfaWQnOiBlbnRpdHkuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21lc3NhZ2UnOiBlbnRpdHkubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHlwZSc6IGVudGl0eS50eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcnMuYWRkTGF5ZXIobSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBfLmZvckVhY2goZW50aXR5LmxvY2F0aW9ucywgaW5uZXJMb29wKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk9yaWdpbmFsOiAlT1wiLCAkc2NvcGUuZW50aXRpZXMpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmlsdGVyZWQ6ICVPXCIsIGZpbHRlcmVkRW50aXRpZXMpO1xuXG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGZpbHRlcmVkRW50aXRpZXMsIG91dGVyTG9vcCk7XG4gICAgICAgICAgICAgICAgbWFwLmFkZExheWVyKG1hcmtlcnMpO1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gb25Mb2NhdGlvbkVycm9yKGxlYWZsZXRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGxlYWZsZXRFcnJvci5tZXNzYWdlICsgXCIgICVPXCIsIGxlYWZsZXRFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbWFwLm9uKCdsb2NhdGlvbmVycm9yJywgb25Mb2NhdGlvbkVycm9yKTtcbiAgICAgICAgICAgICAgICAvLyBtYXAubG9jYXRlKHtzZXRWaWV3OiB0cnVlLCBtYXhab29tOiAxMX0pO1xuICAgICAgICAgICAgICAgIG1hcmtlcnMub24oJ2NsaWNrJywgZnVuY3Rpb24gKG1hcmtlcikge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2V0RW50aXR5SUQobWFya2VyLmxheWVyLm9wdGlvbnMuZW50aXR5X2lkKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gJHNjb3BlLmN1cnJlbnRFbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hY3Rpb25zLmludGVyYWN0ZWQgICA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuc2V0dGluZ3NFbmFibGVkICYmICRzY29wZS5tb2JpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b2dnbGVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIG1hcC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hY3Rpb25zLmludGVyYWN0ZWQgICA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuJG9uKCdzZWxlY3RJdGVtJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSAkc2NvcGUuY3VycmVudEVudGl0eS5sb2NhdGlvbnMubGVuZ3RoID4gMCA/IF8ucGx1Y2soXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY3VycmVudEVudGl0eS5sb2NhdGlvbnMsICdjb29yZGluYXRlcycpIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvb3JkaW5hdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5zZXRWaWV3KGNvb3JkaW5hdGVzWzBdLCAxMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuXG4gICAgICAgIC5jb250cm9sbGVyKCdtYXBDdHJsJywgZGVwZW5kZW5jaWVzKTtcbn0pKGFuZ3VsYXIsIGQzLCBMKTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNy8xLzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZnVuY3Rpb24gYW5hbHl0aWNzQ3RybCgkc2NvcGUpIHtcblxuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdhbmFseXRpY3NDdHJsJywgWyckc2NvcGUnLCBhbmFseXRpY3NDdHJsXSk7XG59KShhbmd1bGFyKTsiXX0=
