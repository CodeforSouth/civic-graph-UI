!function(e){"use strict";var t=["ui.bootstrap","leaflet-directive","ngAnimate","templateCache"];e.module("civic-graph",t)}(angular);
!function(t){"use strict";function a(){return{templateUrl:"js/analytic/analytics.html",restrict:"E",scope:{},controller:"analyticsCtrl"}}var c=[a];t.module("civic-graph").directive("analytics",c)}(angular);
!function(o){"use strict";function r(){return{templateUrl:"js/control/controls.html",restrict:"E",scope:{toggleNetwork:"="},controller:"controlCtrl",controllerAs:"control",bindToController:{minConnections:"="}}}var t=[r];o.module("civic-graph").directive("control",t)}(angular);
!function(i,t){"use strict";function s(i){function s(){var i=t(this);i.css("height","55vh")}function c(){var i=t(this);window.innerHeight/3>parseInt(i.css("height"))?i.css("height","55vh"):i.css("height","30vh")}var e;i.mobile&&(e=t("#details-panel"),e.css("height","30vh"),e.scrollTop(0),e.scroll(s),e.click(c))}function c(){return{restrict:"A",link:s}}i.module("civic-graph").directive("addMobileEvents",[c])}(angular,$);
!function(o){"use strict";function c(o,c){o.closeWindow=function(){c.close()}}o.module("civic-graph").controller("modalCtrl",["$scope","$modalInstance",c])}(angular);
!function(t){"use strict";function e(){return{templateUrl:"js/edit-entity/edit.html",restrict:"E",scope:{entity:"=",entities:"=",isOpen:"="},controller:"editCtrl"}}var i=[e];t.module("civic-graph").directive("editEntity",i)}(angular);
!function(t){"use strict";t.module("civic-graph").constant("_",window._).constant("config",{apiHost:"https://api.civicgraph.io/"}).config(["$locationProvider","$httpProvider","$compileProvider",function(t,o,i){t.html5Mode(!0),o.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",i.debugInfoEnabled(!0)}]).filter("thousandSuffix",function(){return function(t,o){var i,n=["k","M","G","T","P","E"];return window.isNaN(t)?null:t<1e3?t:(i=Math.floor(Math.log(t)/Math.log(1e3)),(t/Math.pow(1e3,i)).toFixed(o)+n[i-1])}})}(angular);
!function(t){"use strict";function i(t,i,e,n,o,a){t.entities=[],t.searchItems=null,t.categories=[],t.currentLocation=null,t.clickedLocation={},t.clickedLocation.location=null,t.clickedEntity={},t.clickedEntity.entity=null,t.editing=!1,t.actions={interacted:!1},t.showsearchMB=!1,t.showAnalytics=!1,t.entityTypes=n.getEntityTypes(),t.connectionTypes=o.getConnectionTypes(),t.status={isNetworkShown:!0,license:!0,networkLoading:!0},t.toggleAnalytics=function(){t.showAnalytics=!t.showAnalytics},this.minConnections=t.minConnections=2;var s=this;t.$watch("minConnections",function(){t.$broadcast("entitiesLoaded")}),t.connectionChange=function(){console.log(s.minConnections),t.minConnections=s.minConnections,t.$broadcast("entitiesLoaded")},t.hydePartials=function(i){"search"===i?(t.editing=!1,t.settingsEnabled=!1):"settings"===i?(t.editing=!1,t.showsearchMB=!1):"edit"===i?(t.settingsEnabled=!1,t.showsearchMB=!1):(t.editing=!1,t.settingsEnabled=!1,t.showsearchMB=!1)},t.showSearch=function(){t.hydePartials("search"),t.showsearchMB=!t.showsearchMB,t.status.license=!1},t.toggleSettings=function(){t.hydePartials("settings"),t.settingsEnabled=!t.settingsEnabled},t.startEdit=function(i){t.currentEntity=i,t.mobile&&t.hydePartials("edit"),t.editing=!0},t.switchView=function(){t.changeView(t.status.isNetworkShown?"Map":"Network")},window.mobilecheck=function(){var t=!1,i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,e=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;return function(n){(i.test(n)||e.test(n.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t},t.mobile=window.mobilecheck(),t.settingsEnabled=!t.mobile,setTimeout(function(){i.get(a.apiHost+"api/entities").success(function(i){t.entities=i.nodes;var n=e.uniq(e.pluck(e.flatten(e.pluck(t.entities,"locations")),"locality")),o=e.map(n,function(i){var n=e.filter(t.entities,e.flow(e.property("locations"),e.partialRight(e.any,{locality:i})));return{name:i,type:"location",entities:n,dict:e.zipObject(e.pluck(n,"name"),e.pluck(n,"index"))}});t.searchItems=o.concat(t.entities),t.overviewUrl="js/overview/overview.html",t.$broadcast("entitiesLoaded")})},100),t.overviewUrl=null,t.setEntity=function(i){t.currentLocation=null,t.currentEntity=i,t.editing&&t.stopEdit(),t.$broadcast("entityChange")},t.setEntityID=function(i){t.setEntity(e.find(t.entities,{id:i}))},t.setLocation=function(i){t.currentLocation=i,t.editing&&t.stopEdit(),t.$broadcast("itemChange")},t.selectItem=function(i){"location"===i.type?t.setLocation(i):t[i%1===0?"setEntityID":"setEntity"](i),t.$broadcast("selectItem",i)},t.$on("setCurrentEntity",function(i,e){t.currentEntity=e.value}),t.$on("setCurrentLocation",function(i,e){t.currentLocation=e.value}),t.setEntities=function(i){t.entities=i},t.stopEdit=function(){t.editing=!1},t.$on("editEntitySuccess",function(i){t.setEntities(i.nodes),t.$broadcast("entitiesLoaded")}),t.animationsEnabled=!0}var e=["$scope","$http","_","entityService","connectionService","config",i];t.module("civic-graph").controller("homeCtrl",e)}(angular);
!function(i){"use strict";var a=[];i.module("civic-graph").directive("map",a)}(angular);
!function(r){"use strict";function t(){return{restrict:"E",templateUrl:"js/network/network.html",controller:"networkCtrl"}}var e=[t];r.module("civic-graph").directive("network",e)}(angular);
!function(e){"use strict";e.module("civic-graph").directive("input",function(){return{restict:"E",require:"?ngModel",link:function(e,r,t,i){"type"in t&&"range"===t.type.toLowerCase()&&i.$parsers.push(parseFloat)}}})}(angular);
!function(e){"use strict";function t(e,t){e.categorizedEntities={},t.forEach(t.keys(e.entityTypes),function(i){e.categorizedEntities[i]=t.filter(e.entities,{type:i})})}e.module("civic-graph").controller("overviewCtrl",["$scope","_",t])}(angular);
!function(c){"use strict";function n(c){}c.module("civic-graph").controller("analyticsCtrl",["$scope",n])}(angular);
!function(e){"use strict";function n(e,n){e.itemsShownDefault={key_people:3,grants_given:3,grants_received:3,investments_made:3,investments_received:3,collaborations:3,employments:3,relations:3,data_given:3,data_received:3,revenues:3,expenses:3},e.itemsShown=n.clone(e.itemsShownDefault),e.$on("entityChange",function(){e.itemsShown=n.clone(e.itemsShownDefault)}),e.showMore=function(n){e.itemsShown[n]=e.currentEntity[n].length},e.showLess=function(n){e.itemsShown[n]=e.itemsShownDefault[n]}}e.module("civic-graph").controller("detailsCtrl",["$scope","_",n])}(angular);
!function(e){"use strict";function o(e,o,n,t,i){function c(){a.changeView(a.toggleNetwork?"Network":"Map")}var a=this;a.entityTypes=e.getEntityTypes(),a.connectionTypes=o.getConnectionTypes(),a.sizeByList=[{name:"Employees",value:"employees"},{name:"Twitter Followers",value:"followers"}],a.sizeBy="employees",a.showView={Network:!0,Map:!1},a.switchView=c,a.changeView=function(e){t.forEach(t.keys(a.showView),function(o){a.showView[o]=e===o}),console.log("this happened"),n.$broadcast("viewChange",a.showView)},a.showAbout=function(){i.open({animation:!1,templateUrl:"control/about.html",controller:"modalCtrl"})},a.toggleNode=function(e){n.$broadcast("toggleNode",{name:e,enabled:a.entityTypes[e]})},a.toggleLink=function(e){n.$broadcast("toggleLink",{name:e,enabled:a.connectionTypes[e]})},a.changeSizeBy=function(){n.$broadcast("changeSizeBy",a.sizeBy)},a.changeSizeBy()}var n=["entityService","connectionService","$rootScope","_","$modal",o];e.module("civic-graph").controller("controlCtrl",n)}(angular);
!function(t){"use strict";function e(t){return void 0!==t&&null!==t}function i(i,n,o,s,c,a,r){function d(){var t,e,n,o;for(e in i.categories)if(i.categories.hasOwnProperty(e)){t=i.categories[e];for(n in i.editEntity.categories)i.editEntity.categories.hasOwnProperty(n)&&(o=i.editEntity.categories[n],t.id===o.id&&(t.enabled=o.enabled))}}i.isEditing=!1,i.editEntity=c.getEntityModel(i.entity),i.entityTypes=c.getEntityTypes(),i.influenceTypes=c.getInfluenceTypes();var u;i.categories=[],i.addressSearch=function(t){return n.jsonp("https://dev.virtualearth.net/REST/v1/Locations",{params:{query:t,key:"Ai58581yC-Sr7mcFbYTtUkS3ixE7f6ZuJnbFJCVI4hAtW1XoDEeZyidQz2gLCCyD",jsonp:"JSON_CALLBACK",include:"ciso2"}}).then(function(t){if(e(t.data.resourceSets)&&t.data.resourceSets.length>0)return t.data.resourceSets[0].resources})},i.toggleCategory=function(t){if(0===i.editEntity.categories.length)i.editEntity.categories.push(t);else{var e=!1;for(var n in i.editEntity.categories)if(i.editEntity.categories.hasOwnProperty(n)){var o=i.editEntity.categories[n];if(o.id===t.id){e=!0,o.enabled=t.enabled;break}}e||i.editEntity.categories.push(t)}},i.setLocation=function(t,n){i.addressSearch(t.formattedAddress).then(function(o){var s=o[0],c=s.address,a=s.point;i.addLocation(n),t.address_line=e(c.addressLine)?c.addressLine:"",t.locality=e(c.locality)?c.locality:"",t.district=e(c.adminDistrict)?c.adminDistrict:"",t.country=e(c.countryRegion)?c.countryRegion:null,t.country_code=e(c.countryRegionIso2)?c.countryRegionIso2:"",t.coordinates=e(a.coordinates)?a.coordinates:null,t.postal_code=e(c.postalCode)?c.postalCode:null})},i.addLocation=function(t){t&&i.editEntity.locations.push(a.getLocationModel())},i.addKeyPerson=function(){s.some(i.editEntity.key_people,{name:"",id:null})||i.editEntity.key_people.push({name:"",id:null})},i.setFundingConnection=function(t,e){e.entity_id=t.id},i.addFundingConnection=function(t){s.some(t,{entity:""})||t.push({entity:"",amount:null,year:null,id:null})},i.setConnection=function(t,e){e.entity_id=t.id},i.addConnection=function(t){s.some(t,{entity:"",id:null})||t.push({entity:"",id:null,details:null})},i.addFinance=function(t){s.every(t,function(t){return t.amount>0&&t.year>1750})&&t.push({amount:null,year:null,id:null})},i.save=function(){i.isSaving=!0,console.log(i.editEntity.generateDBModel()),n.post(r.apiHost+"api/save",{entity:i.editEntity.generateDBModel()}).success(function(t){i.isSaving=!1,i.$emit("editEntitySuccess",t),i.cancelEdit()}).error(function(){i.isError=!0,o(function(){i.isError=!1},2e3)})},i.cancelEdit=function(){i.isOpen=!1},i.$watch("entity",function(n,o){t.equals(n,o)||(console.log(i.entity),i.editEntity=c.getEntityModel(n),i.categories=t.copy(u),d(),i.isEditing=e(i.editEntity.id))}),n.get(r.apiHost+"api/categories").success(function(e){u=e.categories,i.categories=t.copy(u)})}var n=["$scope","$http","$timeout","_","entityService","locationService","config",i];t.module("civic-graph").controller("editCtrl",n)}(angular);
!function(n){"use strict";function e(){function n(n){return void 0!==n&&null!==n}function e(e){var i=n(e)?e:{};this.name=n(i.name)?i.name:null,this.enabled=!n(i.enable)||i.enabled,this.id=n(i.id)?i.id:null}this.getCategoryModel=function(n){return new e(n)}}var i=[e];n.module("civic-graph").service("categoryService",i)}(angular);
!function(n){"use strict";function t(n){return void 0!==n&&null!==n}function i(){function n(n){var i=t(n);this.entity=i&&t(n.entity)?n.entity:null,this.id=i&&t(n.id)?n.id:null,this.details=i&&t(n.details)?n.details:null,this.name=i&&t(n.name)?n.name:null,this.entity_id=i&&t(n.entity_id)?n.entity_id:null}this.getConnectionModel=function(t){return new n(t)},this.getConnectionTypes=function(){return l}}var e=[i],l={Funding:!0,Data:!0,Employment:!0,Collaboration:!0};n.module("civic-graph").service("connectionService",e)}(angular);
!function(e){"use strict";function n(n,t,i,o,s){function p(e){return void 0!==e&&null!==e}function r(n,t){if(!p(n)&&!e.isArray(n))return[t()];var i,o,s=[];for(i in n)n.hasOwnProperty(i)&&(o=n[i],e.isObject(o)&&s.push(t(o)));return s.push(t()),s}function a(e){var l=this,c=p(e)?e:{};this.id=p(c.id)?c.id:null,this.name=p(c.name)?c.name:null,this.locations=r(c.locations,o.getLocationModel),this.influence=p(c.influence)?c.influence:null,this.grants_received=r(c.grants_received,n.getFundingConnectionModel),this.investments_received=r(c.investments_received,n.getFundingConnectionModel),this.grants_given=r(c.grants_given,n.getFundingConnectionModel),this.investments_made=r(c.investments_made,n.getFundingConnectionModel),this.data_given=r(c.data_given,t.getConnectionModel),this.data_received=r(c.data_received,t.getConnectionModel),this.collaborations=r(c.collaborations,t.getConnectionModel),this.key_people=r(c.key_people,t.getConnectionModel),this.employments=r(c.employments,t.getConnectionModel),this.revenues=r(c.revenues,i.getFinanceModel),this.expenses=r(c.expenses,i.getFinanceModel),this.categories=r(c.categories,s.getCategoryModel),this.type=p(c.type)?c.type:null,this.nickname=p(c.nickname)?c.nickname:null,this.url=p(c.url)?c.url:null,this.twitter_handle=p(c.twitter_handle)?c.twitter_handle:null,this.employees=p(c.employees)?c.employees:null,this.generateDBModel=function(){var e=new a(l);return e.locations.pop(),e.locations.pop(),e.grants_received.pop(),e.grants_received.pop(),e.grants_given.pop(),e.grants_given.pop(),e.investments_received.pop(),e.investments_received.pop(),e.investments_made.pop(),e.investments_made.pop(),e.data_given.pop(),e.data_given.pop(),e.data_received.pop(),e.data_received.pop(),e.collaborations.pop(),e.collaborations.pop(),e.key_people.pop(),e.key_people.pop(),e.employments.pop(),e.employments.pop(),e.revenues.pop(),e.revenues.pop(),e.expenses.pop(),e.expenses.pop(),e.categories.pop(),e.categories.pop(),e.description="",console.log(e),e}}var l={Government:!0,"For-Profit":!0,"Non-Profit":!0,Individual:!0},c=["Local","National","Global"];this.getEntityModel=function(e){return new a(e)},this.getEntityTypes=function(){return l},this.getInfluenceTypes=function(){return c}}var t=["fundingConnectionService","connectionService","financeService","locationService","categoryService",n];e.module("civic-graph").service("entityService",t)}(angular);
!function(n){"use strict";function i(n){return void 0!==n&&null!==n}function t(){function n(n){var t=i(n)?n:{};this.amount=i(t.amount)&&t.amount>=0?t.amount:0,this.year=i(t.year)&&t.year>=1750?t.year:null,this.id=i(t.id)?t.id:null}this.getFinanceModel=function(i){return new n(i)}}var e=[t];n.module("civic-graph").service("financeService",e)}(angular);
!function(n){"use strict";function i(n){return void 0!==n&&null!==n}function t(){function n(n){var t=i(n);this.entity=t&&i(n.entity)?n.entity:"",this.amount=t&&i(n.amount)?n.amount:null,this.year=t&&i(n.year)?n.year:null,this.id=t&&i(n.id)?n.id:null}this.getFundingConnectionModel=function(i){return new n(i)}}var e=[t];n.module("civic-graph").service("fundingConnectionService",e)}(angular);
!function(t){"use strict";function i(){function t(t){return void 0!==t&&null!==t}function i(i){var s=t(i)?i:{};this.address_line=t(s.address_line)?s.address_line:null,this.locality=t(s.locality)?s.locality:null,this.district=t(s.district)?s.district:null,this.postal_code=t(s.postal_code)?s.postal_code:null,this.country=t(s.country)?s.country:null,this.country_code=t(s.country_code)?s.country_code:null,this.coordinates=t(s.coordinates)?s.coordinates:null,this.id=t(s.id)?s.id:null,this.formattedAddress=(t(this.address_line)?this.address_line+" ":"")+(t(this.locality)?this.locality+", ":"")+(t(this.country_code)?this.country_code+" ":"")+(t(this.postal_code)?this.postal_code:""),this.formattedAddress=this.formattedAddress.trim()}this.getLocationModel=function(t){return new i(t)}}var s=[i];t.module("civic-graph").service("locationService",s)}(angular);
!function(t,e,n){"use strict";function i(t,i,o,r,a){t.options={center:{lat:20,lng:-40,zoom:3},defaults:{tileLayer:"https://api.tiles.mapbox.com/v4/mapbox.light/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiZGF2aWRscm50IiwiYSI6IjA0M2RkNzMzZWJmNzEzNGYzMTdhYTExYzAyZmU4ZTE1In0.TNYlFta2VItrkn4L0Z9BJQ",tileLayerOptions:{detectRetina:!0,reuseTiles:!1},zoomControl:!1,attributionControl:!1}},i(function(){var i=function(t){var n=t.data,i=e.layout.pie().sort(null).value(function(t){return t.value}),o=e.svg.arc().outerRadius(t.r).innerRadius(t.r-10),r=t.r+t.strokeWidth,a=2*r,c=a,l=document.createElementNS(e.ns.prefix.svg,"svg"),s=e.select(l).data(n).attr("class","piechart").attr("width",a).attr("height",c),u=s.selectAll(".arc").data(i(n)).enter().append("g").attr("class","arc").attr("transform","translate("+r+","+r+")");return u.append("path").attr("d",o).attr("class",function(t){return t.data.type+"-arc"}),u.append("svg:text").text(function(e,n){if(0===n)return t.count}).attr("x",-4*t.count.toString().length).attr("dy",5).attr("class","arcText"),window.XMLSerializer?(new window.XMLSerializer).serializeToString(l):l.xml?l.xml:""};o.getMap().then(function(e){function o(t){var e=t.getAllChildMarkers(),o=e.length,a=r.pluck(e,"options"),c=r.map(r.countBy(a,"type"),function(t,e){return{type:e,value:t}}),l=28,s=1,u=2*(l+s),d=i({data:c,r:l,strokeWidth:s,count:o});return new n.DivIcon({html:d,className:"marker-cluster",iconSize:new n.point(u,u)})}function c(t){function e(e){if(r.every(e.coordinates)){"40.78200"===e.coordinates[0].toFixed(5)&&"-73.83170"===e.coordinates[1].toFixed(5)&&(e.coordinates[0]=40.77065,e.coordinates[1]=-73.97406);var i=n.marker(e.coordinates,{icon:u[t.type],title:t.name,entity_id:t.id,message:t.name,type:t.type});d.addLayer(i)}}r.forEach(t.locations,e)}function l(t){console.error(t.message+"  %O",t)}var s=a("filter")(t.entities,function(t){return t.collaborations.length>0});e.invalidateSize(),new n.Control.Zoom({position:"topright"}).addTo(e),n.control.locate({position:"topright",showPopup:!1,icon:"fa fa-location-arrow"}).addTo(e);var u={"Non-Profit":n.icon({iconUrl:"img/marker-nonprof.svg",iconSize:[60,60]}),"For-Profit":n.icon({iconUrl:"img/marker-prof.svg",iconSize:[60,60]}),Individual:n.icon({iconUrl:"img/marker-ind.svg",iconSize:[60,60]}),Government:n.icon({iconUrl:"img/marker-gov.svg",iconSize:[60,60]})},d=n.markerClusterGroup({spiderfyOnMaxZoom:!0,showCoverageOnHover:!1,iconCreateFunction:o,maxClusterRadius:30,spiderfyDistanceMultiplier:1.3});console.log("Original: %O",t.entities),console.log("Filtered: %O",s),r.forEach(s,c),e.addLayer(d),e.on("locationerror",l),d.on("click",function(e){t.setEntityID(e.layer.options.entity_id),t.clickedEntity.entity=t.currentEntity,t.actions.interacted=!0,t.settingsEnabled&&t.mobile&&t.toggleSettings(),t.safeApply()}),e.on("click",function(){t.clickedEntity.entity=null,t.actions.interacted=!0,t.safeApply()}),t.$on("selectItem",function(){var n=t.currentEntity.locations.length>0?r.pluck(t.currentEntity.locations,"coordinates"):null;n.length>0&&e.setView(n[0],11),t.actions.interacted=!0,t.safeApply()})})})}var o=["$scope","$timeout","leafletData","_","$filter",i];t.module("civic-graph").controller("mapCtrl",o)}(angular,d3,L);
!function(t,e){"use strict";function n(t){return void 0!==t&&null!==t}function i(t,i,o,c,a){t.isLoading=!0,t.connections={},t.safeApply=function(t){var e=this.$root.$$phase;"$apply"===e||"$digest"===e?t&&"function"==typeof t&&t():this.$apply(t)},t.$on("entitiesLoaded",function(e){e.targetScope;i.get(a.apiHost+"api/connections").success(function(e){var i=c("filter")(t.entities,function(e){return e.collaborations.length>=t.minConnections}),a={};o.forEach(o.keys(e.connections),function(t){a[t]=[]}),o.forEach(e.connections,function(t,e){o.forEach(t,function(t){var c=o.find(i,{id:t.source}),r=o.find(i,{id:t.target});n(c)&&n(r)&&a[e].push({source:c,target:r})})}),o.forEach(o.keys(t.entityTypes),function(e){var n=o.takeRight(o.sortBy(o.filter(t.entities,{type:e}),"collaborations.length"),5);o.forEach(n,function(t){t.wellconnected=!0})}),i=o.sortBy(i,function(t){return t.wellconnected?1:0}),t.mobile?r(i):s(i,a)})}),t.$on("viewChange",function(t){console.log(t)});var r=function(i){var c={nodes:t.entities,links:o.flatten(o.values(t.connections))},a={Government:{focused:"rgba(242, 80, 34, 1)",unfocused:"rgba(242, 80, 34, 0.1)"},"Non-Profit":{focused:"rgba(30, 144, 255, 1)",unfocused:"rgba(30, 144, 255, 0.1)"},"For-Profit":{focused:"rgba(127, 186, 0, 1)",unfocused:"rgba(127, 186, 0, 0.1)"},Individual:{focused:"rgba(255, 175, 44, 1)",unfocused:"rgba(255, 175, 44, 0.1)"},Funding:{focused:"#FF7460",unfocused:"#E3DFE4"},Data:{focused:"#84C2FF",unfocused:"#E3DFE4"},Employment:{focused:"#EE73FF",unfocused:"#E3DFE4"},Collaboration:{focused:"#FFD955",unfocused:"#E3DFE4"}},r=$("#canvas-force"),s=r.width(),u=r.height(),l={Government:[-90,-90-u/7],"Non-Profit":[-90,90-u/7],"For-Profit":[90,-90-u/7],Individual:[90,90-u/7]},d=function(t,e,n,i,o){var c=t-n,a=e-i;return c*c+a*a<=o*o},y={employees:function(t){return t>10?Math.log(t)/3:1.5},followers:function(t){return t>0&&t<=500?1.5:t>500&&t<=5e3?1.8:t>5e3&&t<=1e4?2:t>1e4&&t<=25e3?2.5:t>25e3&&t<=9e5?3:t>9e5?5:1}},f=d3.select("div#canvas-force").append("canvas"),p=f.node().getContext("2d"),h=window.devicePixelRatio||1,g=p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1,m=h/g;f.attr("width",s*m).attr("height",u*m).attr("id","networkCanvas");var k=document.getElementById("networkCanvas");k.style.width=s+"px",k.style.height=u+"px",p.scale(m,m),t.loading=!1;var x=1;$("#networkCanvas").click(function(e){var n=e.offsetX/x,i=e.offsetY/x;t.showLicense=!1,t.clickedEntity.entity=null;var o=!1;c.nodes.forEach(function(e){var c=y[t.sizeBy](e[t.sizeBy]);d(n,i,e.x+l[e.type][0],e.y+l[e.type][1],4.5*c)&&(t.hydePartials(),t.$emit("setCurrentEntity",{value:e}),o=!0,t.setEntity(e),t.clickedEntity.entity=e,focus(e))}),o||(t.$emit("setCurrentLocation",{value:null}),t.$emit("setCurrentEntity",{value:null})),T(),t.actions.interacted=!0,t.safeApply(),$("#details-panel").scrollTop(0)});var v,E=0,L=!0,w=[],M=[];c.nodes.forEach(function(e){n(i[e.type])&&(t.currentLocation?e.name in t.currentLocation.dict&&w.push(e):t.currentEntity&&!v[e.id]&&e!==t.currentEntity||(t.currentEntity||e.wellconnected?w.push(e):M.push(e)))}),M=M.concat(w);var T=function(){var i;E++,E>70&&L&&(L=!1,b.stop(),i=new e.PinchZoom($("#networkCanvas"),{})),p.clearRect(0,0,s,u),v={},p.strokeStyle="#ccc",o.forEach(t.connections,function(e,i){e.forEach(function(e){var o,c=n(t.connectionTypes[i]),r=n(t.entityTypes[e.target.type]),d=n(t.entityTypes[e.source.type]);c&&r&&d&&(n(t.currentLocation)?e.source.name in t.currentLocation.dict&&e.target.name in t.currentLocation.dict&&(p.beginPath(),o=y[t.sizeBy](e.source[t.sizeBy]),p.moveTo(Math.max(4.5*o,Math.min(s-4.5*o,e.source.x+l[e.source.type][0])),Math.max(4.5*o,Math.min(u-4.5*o,e.source.y+l[e.source.type][1]))),p.lineTo(Math.max(4.5*o,Math.min(s-4.5*o,e.target.x+l[e.target.type][0])),Math.max(4.5*o,Math.min(u-4.5*o,e.target.y+l[e.target.type][1]))),p.strokeStyle=a[i].focused,p.stroke(),p.closePath()):n(t.currentEntity)&&e.source!==t.currentEntity&&e.target!==t.currentEntity||(p.beginPath(),o=y[t.sizeBy](e.source[t.sizeBy]),p.moveTo(Math.max(4.5*o,Math.min(s-4.5*o,e.source.x+l[e.source.type][0])),Math.max(4.5*o,Math.min(u-4.5*o,e.source.y+l[e.source.type][1]))),p.lineTo(Math.max(4.5*o,Math.min(s-4.5*o,e.target.x+l[e.target.type][0])),Math.max(4.5*o,Math.min(u-4.5*o,e.target.y+l[e.target.type][1]))),p.strokeStyle=a[i].focused,p.stroke(),p.closePath(),v[e.source.id]=!0,v[e.target.id]=!0))})});var c=[];M.forEach(function(e){if(t.entityTypes[e.type]){var n;t.currentLocation?e.name in t.currentLocation.dict?(n="focused",p.strokeStyle="white",c.push(e)):(p.strokeStyle="rgba(255, 255, 255, 0.1)",n="unfocused"):!t.currentEntity||v[e.id]||e===t.currentEntity?(n="focused",p.strokeStyle="white",t.currentEntity?c.push(e):e.wellconnected&&c.push(e)):(p.strokeStyle="rgba(255, 255, 255, 0.1)",n="unfocused");var i=y[t.sizeBy](e[t.sizeBy]);p.beginPath(),p.fillStyle=a[e.type][n],p.arc(Math.max(4.5*i,Math.min(s-4.5*i,e.x+l[e.type][0])),Math.max(4.5*i,Math.min(u-4.5*i,e.y+l[e.type][1])),4.5*i,0,2*Math.PI),p.fill(),p.lineWidth=1,p.stroke(),p.closePath()}}),o.forEach(c,function(e){var n=y[t.sizeBy](e[t.sizeBy]);p.strokeStyle="#333333";var i=e.nickname?e.nickname:e.name;p.font="lighter 11px Segoe UI, HelveticaNeue-Light, sans-serif-light, sans-serif",p.strokeText(i,Math.max(4.5*n,Math.min(s-4.5*n,e.x+l[e.type][0]))-2*i.length,Math.max(4.5*n,Math.min(u-4.5*n,e.y+l[e.type][1]))+10,100)})},b=d3.layout.force().size([s,u]).nodes(c.nodes).links(c.links).on("tick",T).charge(-2).linkStrength(.1).linkDistance(50).start();t.$on("toggleNode",function(){T()}),t.$on("toggleLink",function(){T(),console.log("network found")}),t.$on("changeSizeBy",function(){T()}),t.$on("selectItem",function(e,n){"location"===n.type?(t.clickedLocation.location=t.currentLocation,t.$emit("setCurrentEntity",{value:null})):(t.clickedEntity.entity=t.currentEntity,t.$emit("setCurrentLocation",{value:null})),t.actions.interacted=!0,t.safeApply(),T()})},s=function(e,i){t.isLoading=!1;var c=d3.select("#network");c.selectAll("*").remove();var a=c.node().getBoundingClientRect(),r=a.height,s=a.width,u=6,l=7,d={Individual:{x:1,y:1},"For-Profit":{x:1,y:-1},"Non-Profit":{x:-1,y:1},Government:{x:-1,y:-1}},y=10,f=50,p=d3.max(e,function(t){return parseInt(t.employees)}),h=d3.max(e,function(t){return parseInt(t.followers)}),g={employees:d3.scale.sqrt().domain([10,p]).range([y,f]),followers:d3.scale.sqrt().domain([10,h]).range([y,f])},m={},k=d3.layout.force().size([s,r]).nodes(e).links(o.flatten(o.values(i))).charge(function(t){return t.employees?-2*g.employees(t.employees):-20}).linkStrength(0).linkDistance(50);o.forEach(i,function(t,e){m[e]=c.selectAll(".link ."+e+"-link").data(t).enter().append("line").attr("class",function(t){return n(t.source)&&n(t.target)?(t.type=e,"link "+e+"-link "+t.source.type+"-link "+t.target.type+"-link"):""})});var x=c.selectAll(".node").data(e).enter().append("g").attr("class",function(t){return"node "+t.type+"-node"}).call(k.drag);x.append("circle").attr("r",function(t){return t.employees?g.employees(t.employees):l}),x.append("text").text(function(t){return t.nickname?t.nickname:t.name}).attr("dx",function(){return-.065*this.getComputedTextLength()/2+"em"}).attr("dy",function(){return.08*this.parentNode.getBBox().height/2+.5+"em"}),k.on("tick",function(t){var n=u*t.alpha;o.forEach(e,function(t){t.x&&d[t.type]&&(t.x+=d[t.type].x*n,t.y+=d[t.type].y*n,t.x=Math.max(f,Math.min(s-f,t.x)),t.y=Math.max(f,Math.min(r-f,t.y)))}),o.forEach(m,function(t){t.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y})}),x.attr("transform",function(t){return"translate("+t.x+","+t.y+")"})});var v=function(t){requestAnimationFrame(function e(){for(var n=0;n<t;n++)k.tick();k.alpha()>0&&requestAnimationFrame(e)})};t.mobile||v(7),k.start();var E={};o.forEach(m,function(t){o.forEach(t[0],function(t){var e=t.__data__.source,n=t.__data__.target;E[e.index+","+n.index]=!0,E[n.index+","+e.index]=!0})});var L,w=function(t,e){return E[t.index+","+e.index]||t.index===e.index},M=function(t){x.classed("focused",function(e){return w(t,e)}).classed("unfocused",function(e){return!w(t,e)}),o.forEach(m,function(e){e.classed("focused",function(e){return t.index===e.source.index||t.index===e.target.index}).classed("unfocused",function(e){return!(t.index===e.source.index||t.index===e.target.index)})})},T=function(e){t.currentEntity!==e&&t.setEntity(e),t.safeApply(),M(e)},$=function(e){x.classed("focused",!1).classed("unfocused",!1),o.forEach(m,function(t){t.classed("focused",!1).classed("unfocused",!1)}),e.fixed=!1,t.clickedEntity.entity&&k.resume()},b=function(e){t.clickedEntity.entity||t.editing||t.currentLocation||(L=setTimeout(function(){T(e)},500)),t.actions.interacted=!0,t.safeApply()},P=function(e){t.clickedEntity.entity||t.currentLocation||($(e),clearTimeout(L)),t.actions.interacted=!0,t.safeApply()},B=function(e){t.safeApply(),x.classed("focused",function(t){return t.name in e.dict}).classed("unfocused",function(t){return!(t.name in e.dict)}),o.forEach(m,function(t){t.classed("focused",function(t){return t.source.name in e.dict&&t.target.name in e.dict}).classed("unfocused",function(t){return!(t.source.name in e.dict&&t.target.name in e.dict)})})},A=function(){x.classed("focused",!1).classed("unfocused",!1),o.forEach(m,function(t){t.classed("focused",!1).classed("unfocused",!1)}),t.clickedLocation.location&&k.resume()},S=function(e){t.showLicense=!1,t.clickedEntity.entity&&($(t.clickedEntity.entity),t.clickedEntity.entity=null),t.clickedLocation.location!==e&&(A(t.clickedLocation.location),t.clickedLocation.location=e,B(e)),d3.event&&d3.event.stopPropagation(),t.actions.interacted=!0,t.safeApply()},F=function(e){t.showLicense=!1,n(t.clickedLocation)&&(n(t.clickedLocation.location)&&(A(t.clickedLocation.entity),t.clickedLocation.location=null),t.clickedEntity.entity===e?t.clickedEntity.entity=null:(t.clickedEntity.entity&&$(t.clickedEntity.entity),t.clickedEntity.entity=e,T(e))),d3.event&&d3.event.stopPropagation(),t.actions.interacted=!0,t.safeApply()},C=function(){n(t.clickedLocation)&&(n(t.clickedLocation.location)&&($(t.clickedLocation.location),t.clickedLocation.location=null),n(t.clickedEntity.entity)&&($(t.clickedEntity.entity),t.clickedEntity.entity=null)),t.safeApply()},z=function(e){e.fixed?$(e):(e.x=s/2,e.y=r/2,e.px=s/2,e.py=r/2,e.fixed=!0,t.clickedEntity.entity=e),t.actions.interacted=!0,t.safeApply()};x.on("mouseover",b),x.on("mouseout",P),x.on("click",F),x.on("dblclick",z),c.on("click",C),x.classed("wellconnected",function(t){return t.hasOwnProperty("wellconnected")}),t.$on("changeSizeBy",function(t,e){c.selectAll("circle").transition().duration(250).attr("r",function(t){return t[e]?g[e](t[e]):l})}),t.$on("toggleLink",function(e,n){o.map(t.entityTypes,function(e,n){c.selectAll("."+n+"-link").classed({visible:function(e){return!t.connectionTypes[e.type]||t.entityTypes[e.source.type]&&t.entityTypes[e.target.type]},hidden:function(e){return!t.connectionTypes[e.type]||!t.entityTypes[e.source.type]||!t.entityTypes[e.target.type]}})})}),t.$on("toggleNode",function(e,n){c.selectAll("."+n.name+"-node").classed({visible:n.enabled,hidden:!n.enabled}),c.selectAll("."+n.name+"-link").classed({visible:function(e){return t.connectionTypes[e.type]&&t.entityTypes[e.source.type]&&t.entityTypes[e.target.type]},hidden:function(e){return!t.connectionTypes[e.type]||!t.entityTypes[e.source.type]||!t.entityTypes[e.target.type]}})}),t.$on("selectItem",function(e,n){"location"===n.type?S(t.currentLocation):F(t.currentEntity)})}}var o=["$scope","$http","_","$filter","config",i];t.module("civic-graph").controller("networkCtrl",o)}(angular,RTP);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNpdmljLWdyYXBoLm1vZHVsZS5qcyIsImFuYWx5dGljL2FuYWx5dGljc0RpcmVjdGl2ZS5qcyIsImNvbnRyb2wvY29udHJvbERpcmVjdGl2ZS5qcyIsImV4dHJhL2FkZE1vYmlsZUV2ZW50cy5qcyIsImV4dHJhL21vZGFsQ3RybC5qcyIsImVkaXQtZW50aXR5L2VkaXRFbnRpdHlEaXJlY3RpdmUuanMiLCJtYWluL2FwcC5qcyIsIm1haW4vaG9tZUN0cmwuanMiLCJtYXAvbWFwRGlyZWN0aXZlLmpzIiwibmV0d29yay9uZXR3b3JrRGlyZWN0aXZlLmpzIiwibmV0d29yay9zbGlkZXJCYXIuanMiLCJvdmVydmlldy9vdmVydmlld0N0cmwuanMiLCJhbmFseXRpYy9jb250cm9sbGVyL2FuYWx5dGljc0N0cmwuanMiLCJkZXRhaWwvY29udHJvbGxlci9kZXRhaWxzQ3RybC5qcyIsImNvbnRyb2wvY29udHJvbGxlci9jb250cm9sQ3RybC5qcyIsImVkaXQtZW50aXR5L2NvbnRyb2xsZXIvZWRpdEN0cmwuanMiLCJlZGl0LWVudGl0eS9zZXJ2aWNlL2NhdGVnb3J5U2VydmljZS5qcyIsImVkaXQtZW50aXR5L3NlcnZpY2UvY29ubmVjdGlvblNlcnZpY2UuanMiLCJlZGl0LWVudGl0eS9zZXJ2aWNlL2VudGl0eVNlcnZpY2UuanMiLCJlZGl0LWVudGl0eS9zZXJ2aWNlL2ZpbmFuY2VTZXJ2aWNlLmpzIiwiZWRpdC1lbnRpdHkvc2VydmljZS9mdW5kaW5nQ29ubmVjdGlvblNlcnZpY2UuanMiLCJlZGl0LWVudGl0eS9zZXJ2aWNlL2xvY2F0aW9uU2VydmljZS5qcyIsIm1hcC9jb250cm9sbGVyL21hcEN0cmwuanMiLCJuZXR3b3JrL2NvbnRyb2xsZXIvbmV0d29ya0N0cmwuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1haW5EZXBlbmRlbmNpZXMiLCJtb2R1bGUiLCJhbmFseXRpY3NEaXJlY3RpdmUiLCJ0ZW1wbGF0ZVVybCIsInJlc3RyaWN0Iiwic2NvcGUiLCJjb250cm9sbGVyIiwiYW5hbHl0aWNzRGVwZW5kZW5jaWVzIiwiZGlyZWN0aXZlIiwiY29udHJvbERpcmVjdGl2ZSIsInRvZ2dsZU5ldHdvcmsiLCJjb250cm9sbGVyQXMiLCJiaW5kVG9Db250cm9sbGVyIiwibWluQ29ubmVjdGlvbnMiLCJjb250cm9sRGVwZW5kZW5jaWVzIiwiJCIsImxpbmtGdW5jdGlvbiIsInNjcm9sbCIsInNlbGYiLCJ0aGlzIiwiY3NzIiwiY2xpY2siLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsInBhcnNlSW50IiwiZGV0YWlsc1BhbmVsIiwibW9iaWxlIiwic2Nyb2xsVG9wIiwiYWRkTW9iaWxlRXZlbnRzIiwibGluayIsIm1vZGFsQ3RybCIsIiRzY29wZSIsIiRtb2RhbEluc3RhbmNlIiwiY2xvc2VXaW5kb3ciLCJjbG9zZSIsImVkaXRFbnRpdHlEaXJlY3RpdmUiLCJlbnRpdHkiLCJlbnRpdGllcyIsImlzT3BlbiIsImVkaXRFbnRpdHlEZXBlbmRlbmNpZXMiLCJjb25zdGFudCIsIl8iLCJhcGlIb3N0IiwiY29uZmlnIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCIkaHR0cFByb3ZpZGVyIiwiJGNvbXBpbGVQcm92aWRlciIsImh0bWw1TW9kZSIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiIsImRlYnVnSW5mb0VuYWJsZWQiLCJmaWx0ZXIiLCJpbnB1dCIsImRlY2ltYWxzIiwiZXhwIiwic3VmZml4ZXMiLCJpc05hTiIsIk1hdGgiLCJmbG9vciIsImxvZyIsInBvdyIsInRvRml4ZWQiLCJob21lQ3RybCIsIiRodHRwIiwiZW50aXR5U2VydmljZSIsImNvbm5lY3Rpb25TZXJ2aWNlIiwic2VhcmNoSXRlbXMiLCJjYXRlZ29yaWVzIiwiY3VycmVudExvY2F0aW9uIiwiY2xpY2tlZExvY2F0aW9uIiwibG9jYXRpb24iLCJjbGlja2VkRW50aXR5IiwiZWRpdGluZyIsImFjdGlvbnMiLCJpbnRlcmFjdGVkIiwic2hvd3NlYXJjaE1CIiwic2hvd0FuYWx5dGljcyIsImVudGl0eVR5cGVzIiwiZ2V0RW50aXR5VHlwZXMiLCJjb25uZWN0aW9uVHlwZXMiLCJnZXRDb25uZWN0aW9uVHlwZXMiLCJzdGF0dXMiLCJpc05ldHdvcmtTaG93biIsImxpY2Vuc2UiLCJuZXR3b3JrTG9hZGluZyIsInRvZ2dsZUFuYWx5dGljcyIsIiR3YXRjaCIsIiRicm9hZGNhc3QiLCJjb25uZWN0aW9uQ2hhbmdlIiwiY29uc29sZSIsImh5ZGVQYXJ0aWFscyIsImV4Y2VwdCIsInNldHRpbmdzRW5hYmxlZCIsInNob3dTZWFyY2giLCJ0b2dnbGVTZXR0aW5ncyIsInN0YXJ0RWRpdCIsImN1cnJlbnRFbnRpdHkiLCJzd2l0Y2hWaWV3IiwiY2hhbmdlVmlldyIsIm1vYmlsZWNoZWNrIiwiY2hlY2siLCJyZWdleCIsInJlZ2V4MiIsImEiLCJ0ZXN0Iiwic3Vic3RyIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidmVuZG9yIiwib3BlcmEiLCJzZXRUaW1lb3V0IiwiZ2V0Iiwic3VjY2VzcyIsImRhdGEiLCJub2RlcyIsImxvY2F0aW9ucyIsInVuaXEiLCJwbHVjayIsImZsYXR0ZW4iLCJlbnRpdGllc0J5TG9jYXRpb24iLCJtYXAiLCJsb2MiLCJmaW5kaW5ncyIsImZsb3ciLCJwcm9wZXJ0eSIsInBhcnRpYWxSaWdodCIsImFueSIsImxvY2FsaXR5IiwibmFtZSIsInR5cGUiLCJkaWN0IiwiemlwT2JqZWN0IiwiY29uY2F0Iiwib3ZlcnZpZXdVcmwiLCJzZXRFbnRpdHkiLCJzdG9wRWRpdCIsInNldEVudGl0eUlEIiwiaWQiLCJmaW5kIiwic2V0TG9jYXRpb24iLCJzZWxlY3RJdGVtIiwiaXRlbSIsIiRvbiIsImV2ZW50IiwiYXJncyIsInZhbHVlIiwic2V0RW50aXRpZXMiLCJyZXNwb25zZSIsImFuaW1hdGlvbnNFbmFibGVkIiwiaG9tZURlcGVuZGVuY2llcyIsImRlcGVuZGVuY2llcyIsInJlc3RpY3QiLCJyZXF1aXJlIiwiZWxlbWVudCIsImF0dHJzIiwibmdNb2RlbCIsInRvTG93ZXJDYXNlIiwiJHBhcnNlcnMiLCJwdXNoIiwicGFyc2VGbG9hdCIsIm92ZXJ2aWV3Q3RybCIsImNhdGVnb3JpemVkRW50aXRpZXMiLCJmb3JFYWNoIiwia2V5cyIsImFuYWx5dGljc0N0cmwiLCJkZXRhaWxzQ3RybCIsIml0ZW1zU2hvd25EZWZhdWx0Iiwia2V5X3Blb3BsZSIsImdyYW50c19naXZlbiIsImdyYW50c19yZWNlaXZlZCIsImludmVzdG1lbnRzX21hZGUiLCJpbnZlc3RtZW50c19yZWNlaXZlZCIsImNvbGxhYm9yYXRpb25zIiwiZW1wbG95bWVudHMiLCJyZWxhdGlvbnMiLCJkYXRhX2dpdmVuIiwiZGF0YV9yZWNlaXZlZCIsInJldmVudWVzIiwiZXhwZW5zZXMiLCJpdGVtc1Nob3duIiwiY2xvbmUiLCJzaG93TW9yZSIsImxlbmd0aCIsInNob3dMZXNzIiwiY29udHJvbEN0cmwiLCIkcm9vdFNjb3BlIiwiJG1vZGFsIiwidm0iLCJzaXplQnlMaXN0Iiwic2l6ZUJ5Iiwic2hvd1ZpZXciLCJOZXR3b3JrIiwiTWFwIiwidmlldyIsInNob3dBYm91dCIsIm9wZW4iLCJhbmltYXRpb24iLCJ0b2dnbGVOb2RlIiwiZW5hYmxlZCIsInRvZ2dsZUxpbmsiLCJjaGFuZ2VTaXplQnkiLCJjb250cm9sRGVwcyIsImlzRGVmIiwib2JqIiwidW5kZWZpbmVkIiwiZWRpdEN0cmwiLCIkdGltZW91dCIsImxvY2F0aW9uU2VydmljZSIsImluaXRDYXRlZ29yeUFycmF5IiwiY2F0ZWdvcnkiLCJjYXRlZ29yeUluZGV4IiwiZW50aXR5Q2F0ZWdvcnlJbmRleCIsImVudGl0eUNhdGVnb3J5IiwiaGFzT3duUHJvcGVydHkiLCJlZGl0RW50aXR5IiwiaXNFZGl0aW5nIiwiZ2V0RW50aXR5TW9kZWwiLCJpbmZsdWVuY2VUeXBlcyIsImdldEluZmx1ZW5jZVR5cGVzIiwiY2F0ZWdvcnlCYWNrdXAiLCJhZGRyZXNzU2VhcmNoIiwic2VhcmNoIiwianNvbnAiLCJwYXJhbXMiLCJxdWVyeSIsImtleSIsImluY2x1ZGUiLCJ0aGVuIiwicmVzb3VyY2VTZXRzIiwicmVzb3VyY2VzIiwidG9nZ2xlQ2F0ZWdvcnkiLCJmb3VuZCIsImlzTGFzdCIsImZvcm1hdHRlZEFkZHJlc3MiLCJhcGlDYWxsUmVzdWx0IiwicmVzdWx0IiwiYWRkcmVzcyIsInBvaW50IiwiYWRkTG9jYXRpb24iLCJhZGRyZXNzX2xpbmUiLCJhZGRyZXNzTGluZSIsImRpc3RyaWN0IiwiYWRtaW5EaXN0cmljdCIsImNvdW50cnkiLCJjb3VudHJ5UmVnaW9uIiwiY291bnRyeV9jb2RlIiwiY291bnRyeVJlZ2lvbklzbzIiLCJjb29yZGluYXRlcyIsInBvc3RhbF9jb2RlIiwicG9zdGFsQ29kZSIsImdldExvY2F0aW9uTW9kZWwiLCJhZGRLZXlQZXJzb24iLCJzb21lIiwic2V0RnVuZGluZ0Nvbm5lY3Rpb24iLCJmdW5kaW5nIiwiZW50aXR5X2lkIiwiYWRkRnVuZGluZ0Nvbm5lY3Rpb24iLCJhbW91bnQiLCJ5ZWFyIiwic2V0Q29ubmVjdGlvbiIsImNvbm5lY3Rpb24iLCJhZGRDb25uZWN0aW9uIiwiY29ubmVjdGlvbnMiLCJkZXRhaWxzIiwiYWRkRmluYW5jZSIsInJlY29yZHMiLCJldmVyeSIsInIiLCJzYXZlIiwiaXNTYXZpbmciLCJnZW5lcmF0ZURCTW9kZWwiLCJwb3N0IiwiJGVtaXQiLCJjYW5jZWxFZGl0IiwiZXJyb3IiLCJpc0Vycm9yIiwibmV3VmFsIiwib2xkVmFsIiwiZXF1YWxzIiwiY29weSIsImVkaXRDb250cm9sbGVyRGVwcyIsIkNhdGVnb3J5U2VydmljZSIsIm8iLCJDYXRlZ29yeSIsImRlZk9iaiIsImVuYWJsZSIsImdldENhdGVnb3J5TW9kZWwiLCJjYXRlZ29yeVNlcnZpY2VEZXBlbmRlbmNpZXMiLCJzZXJ2aWNlIiwiQ29ubmVjdGlvbnMiLCJDb25uZWN0aW9uIiwib2JqSXNEZWYiLCJnZXRDb25uZWN0aW9uTW9kZWwiLCJGdW5kaW5nIiwiRGF0YSIsIkVtcGxveW1lbnQiLCJDb2xsYWJvcmF0aW9uIiwiRW50aXR5U2VydmljZSIsImZ1bmRpbmdDb25uZWN0aW9uU2VydmljZSIsImZpbmFuY2VTZXJ2aWNlIiwiY2F0ZWdvcnlTZXJ2aWNlIiwibG9vcEFuZEluaXQiLCJtb2RlbEFycmF5IiwiaW5pdE1vZGVsRnVuY3Rpb24iLCJpc0FycmF5IiwiYXJyYXlJbmRleCIsImFycmF5VmFsdWUiLCJuZXdNb2RlbEFycmF5IiwiaXNPYmplY3QiLCJFbnRpdHkiLCJpbmZsdWVuY2UiLCJnZXRGdW5kaW5nQ29ubmVjdGlvbk1vZGVsIiwiZ2V0RmluYW5jZU1vZGVsIiwibmlja25hbWUiLCJ1cmwiLCJ0d2l0dGVyX2hhbmRsZSIsImVtcGxveWVlcyIsImRiTW9kZWwiLCJwb3AiLCJkZXNjcmlwdGlvbiIsIkdvdmVybm1lbnQiLCJGb3ItUHJvZml0IiwiTm9uLVByb2ZpdCIsIkluZGl2aWR1YWwiLCJlbnRpdHlTZXJ2aWNlRGVwZW5kZW5jaWVzIiwiRmluYW5jZVNlcnZpY2UiLCJGaW5hbmNlIiwiRnVuZGluZ0Nvbm5lY3Rpb25zIiwiRnVuZGluZ0Nvbm5lY3Rpb24iLCJmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2VEZXBlbmRlbmNpZXMiLCJMb2NhdGlvblNlcnZpY2UiLCJMb2NhdGlvbiIsInRyaW0iLCJsb2NhdGlvblNlcnZpY2VEZXBlbmRlbmNpZXMiLCJkMyIsIkwiLCJtYXBDdHJsIiwibGVhZmxldERhdGEiLCIkZmlsdGVyIiwib3B0aW9ucyIsImNlbnRlciIsImxhdCIsImxuZyIsInpvb20iLCJ0aWxlTGF5ZXIiLCJ0aWxlTGF5ZXJPcHRpb25zIiwiZGV0ZWN0UmV0aW5hIiwicmV1c2VUaWxlcyIsInpvb21Db250cm9sIiwiYXR0cmlidXRpb25Db250cm9sIiwiY3JlYXRlUGllQ2hhcnQiLCJwaWUiLCJsYXlvdXQiLCJzb3J0IiwiZCIsImFyYyIsInN2ZyIsIm91dGVyUmFkaXVzIiwiaW5uZXJSYWRpdXMiLCJzdHJva2VXaWR0aCIsInciLCJoIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJucyIsInByZWZpeCIsInZpcyIsInNlbGVjdCIsImF0dHIiLCJhcmNzIiwic2VsZWN0QWxsIiwiZW50ZXIiLCJhcHBlbmQiLCJ0ZXh0IiwiaSIsImNvdW50IiwidG9TdHJpbmciLCJYTUxTZXJpYWxpemVyIiwic2VyaWFsaXplVG9TdHJpbmciLCJ4bWwiLCJnZXRNYXAiLCJjbHVzdGVySWNvbiIsImNsdXN0ZXIiLCJjaGlsZHJlbiIsImdldEFsbENoaWxkTWFya2VycyIsInRvdGFsIiwiY2x1c3Rlck1hcmtlcnMiLCJjb3VudHMiLCJjb3VudEJ5IiwiaWNvbkRpbSIsImh0bWwiLCJEaXZJY29uIiwiY2xhc3NOYW1lIiwiaWNvblNpemUiLCJvdXRlckxvb3AiLCJpbm5lckxvb3AiLCJtIiwibWFya2VyIiwiaWNvbiIsIm1hcmtlckljb24iLCJ0aXRsZSIsIm1lc3NhZ2UiLCJtYXJrZXJzIiwiYWRkTGF5ZXIiLCJvbkxvY2F0aW9uRXJyb3IiLCJsZWFmbGV0RXJyb3IiLCJmaWx0ZXJlZEVudGl0aWVzIiwiaW52YWxpZGF0ZVNpemUiLCJDb250cm9sIiwiWm9vbSIsInBvc2l0aW9uIiwiYWRkVG8iLCJjb250cm9sIiwibG9jYXRlIiwic2hvd1BvcHVwIiwiaWNvblVybCIsIm1hcmtlckNsdXN0ZXJHcm91cCIsInNwaWRlcmZ5T25NYXhab29tIiwic2hvd0NvdmVyYWdlT25Ib3ZlciIsImljb25DcmVhdGVGdW5jdGlvbiIsIm1heENsdXN0ZXJSYWRpdXMiLCJzcGlkZXJmeURpc3RhbmNlTXVsdGlwbGllciIsIm9uIiwibGF5ZXIiLCJzYWZlQXBwbHkiLCJzZXRWaWV3IiwiUlRQIiwibmV0d29ya0N0cmwiLCJpc0xvYWRpbmciLCJmbiIsInBoYXNlIiwiJHJvb3QiLCIkJHBoYXNlIiwiJGFwcGx5IiwidGFyZ2V0U2NvcGUiLCJmaWx0ZXJlZENvbm5lY3Rpb25zIiwic291cmNlTm9kZSIsInNvdXJjZSIsInRhcmdldE5vZGUiLCJ0YXJnZXQiLCJ0b3A1IiwidGFrZVJpZ2h0Iiwic29ydEJ5Iiwid2VsbGNvbm5lY3RlZCIsImUiLCJkcmF3TmV0d29ya01vYmlsZSIsImRyYXdOZXR3b3JrIiwidmlld09iaiIsImVudGl0eUFycmF5IiwibGlua3MiLCJ2YWx1ZXMiLCJjb2xvcnMiLCJmb2N1c2VkIiwidW5mb2N1c2VkIiwiY2FudmFzRm9yY2UiLCJ3aWR0aCIsImhlaWdodCIsIm9mZnNldHMiLCJpc0luc2lkZUNpcmNsZSIsIngiLCJ5IiwiY3giLCJjeSIsInJhZGl1cyIsImR4IiwiZHkiLCJzY2FsZSIsImZvbGxvd2VycyIsImYiLCJjYW52YXMiLCJjb250ZXh0Iiwibm9kZSIsImdldENvbnRleHQiLCJkZXZpY2VQaXhlbFJhdGlvIiwiYmFja2luZ1N0b3JlUmF0aW8iLCJ3ZWJraXRCYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwibW96QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyIsIm1zQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyIsIm9CYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwiYmFja2luZ1N0b3JlUGl4ZWxSYXRpbyIsInJhdGlvIiwiY2FudmFzRWwiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwibG9hZGluZyIsInNjYWxlem9vbSIsIm9YIiwib2Zmc2V0WCIsIm9ZIiwib2Zmc2V0WSIsInNob3dMaWNlbnNlIiwiZW50aXR5Rm91bmQiLCJrIiwiZm9jdXMiLCJ0aWNrIiwic2hvd0VudGl0aWVzIiwiaW5pdGlhbExvYWQiLCJkcmF3T25Ub3AiLCJhbGxOb2RlcyIsInBpbmNoWm9vbSIsImZvcmNlIiwic3RvcCIsIlBpbmNoWm9vbSIsImNsZWFyUmVjdCIsInN0cm9rZVN0eWxlIiwiaXNDb25UeXBlRGVmaW5lZCIsImlzRW50aXR5VGFyZ2V0VHlwZURlZmluZWQiLCJpc0VudGl0eVNvdXJjZVR5cGVEZWZpbmVkIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibWF4IiwibWluIiwibGluZVRvIiwic3Ryb2tlIiwiY2xvc2VQYXRoIiwiZW50aXR5TmFtZXMiLCJmaWxsU3R5bGUiLCJQSSIsImZpbGwiLCJsaW5lV2lkdGgiLCJmb250Iiwic3Ryb2tlVGV4dCIsInNpemUiLCJjaGFyZ2UiLCJsaW5rU3RyZW5ndGgiLCJsaW5rRGlzdGFuY2UiLCJzdGFydCIsImNvbm5lY3Rpb25BcnJheSIsInJlbW92ZSIsImJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm9mZnNldFNjYWxlIiwiZGVmYXVsdE5vZGVTaXplIiwibG93ZXJCb3VuZFJhZGl1cyIsInVwcGVyQm91bmRSYWRpdXMiLCJtYXhFbXBsb3llZXMiLCJlbCIsIm1heEZvbGxvd2VycyIsInNxcnQiLCJkb21haW4iLCJyYW5nZSIsImNhbGwiLCJkcmFnIiwiZ2V0Q29tcHV0ZWRUZXh0TGVuZ3RoIiwicGFyZW50Tm9kZSIsImdldEJCb3giLCJhbHBoYSIsInNwZWVkQW5pbWF0ZSIsInRpY2tzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicmVuZGVyIiwibGlua2VkQnlJbmRleCIsImwiLCJfX2RhdGFfXyIsImluZGV4IiwiaG92ZXJUaW1lciIsIm5laWdoYm9yaW5nIiwiYiIsImZvY3VzbmVpZ2hib3JzIiwiY2xhc3NlZCIsIm4iLCJ1bmZvY3VzIiwiZml4ZWQiLCJyZXN1bWUiLCJob3ZlciIsInVuaG92ZXIiLCJjbGVhclRpbWVvdXQiLCJmb2N1c0xvY2F0aW9uIiwidW5mb2N1c0xvY2F0aW9uIiwiaGlnaGxpZ2h0TG9jYXRpb24iLCJzdG9wUHJvcGFnYXRpb24iLCJiYWNrZ3JvdW5kY2xpY2siLCJkYmxjbGljayIsInB4IiwicHkiLCJ0cmFuc2l0aW9uIiwiZHVyYXRpb24iLCJ2YWwiLCJ2aXNpYmxlIiwiaGlkZGVuIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFVQSxHQUVOLFlBRUEsSUFBSUMsSUFDQSxlQUNBLG9CQUNBLFlBQ0EsZ0JBR0pELEdBQVFFLE9BQU8sY0FBZUQsSUFFL0JEO0NDUkgsU0FBV0EsR0FFUCxZQUlBLFNBQVNHLEtBQ0wsT0FDSUMsWUFBYSw2QkFDYkMsU0FBYSxJQUNiQyxTQUNBQyxXQUFlLGlCQVB2QixHQUFJQyxJQUF5QkwsRUFXN0JILEdBQVFFLE9BQU8sZUFDVk8sVUFBVSxZQUFhRCxJQUU3QlI7Q0Nu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bmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgbWFpbkRlcGVuZGVuY2llcyA9IFtcbiAgICAgICAgJ3VpLmJvb3RzdHJhcCcsXG4gICAgICAgICdsZWFmbGV0LWRpcmVjdGl2ZScsXG4gICAgICAgICduZ0FuaW1hdGUnLFxuICAgICAgICAndGVtcGxhdGVDYWNoZSdcbiAgICBdO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJywgbWFpbkRlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA3LzEvMTYuXG4gKi9cblxuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBhbmFseXRpY3NEZXBlbmRlbmNpZXMgPSBbYW5hbHl0aWNzRGlyZWN0aXZlXTtcblxuICAgIGZ1bmN0aW9uIGFuYWx5dGljc0RpcmVjdGl2ZSgpe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9hbmFseXRpYy9hbmFseXRpY3MuaHRtbCcsXG4gICAgICAgICAgICByZXN0cmljdCAgIDogJ0UnLFxuICAgICAgICAgICAgc2NvcGUgICAgICA6IHt9LFxuICAgICAgICAgICAgY29udHJvbGxlciAgIDogJ2FuYWx5dGljc0N0cmwnXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnYW5hbHl0aWNzJywgYW5hbHl0aWNzRGVwZW5kZW5jaWVzKTtcblxufSkoYW5ndWxhcik7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDcvMTAvMTYuXG4gKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgY29udHJvbERlcGVuZGVuY2llcyA9IFtjb250cm9sRGlyZWN0aXZlXTtcblxuICAgIGZ1bmN0aW9uIGNvbnRyb2xEaXJlY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2pzL2NvbnRyb2wvY29udHJvbHMuaHRtbCcsXG4gICAgICAgICAgICByZXN0cmljdCAgIDogJ0UnLFxuICAgICAgICAgICAgc2NvcGUgICAgICA6IHtcbiAgICAgICAgICAgICAgICB0b2dnbGVOZXR3b3JrIDogJz0nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgICA6ICdjb250cm9sQ3RybCcsXG4gICAgICAgICAgICBjb250cm9sbGVyQXMgOiAnY29udHJvbCcsXG4gICAgICAgICAgICBiaW5kVG9Db250cm9sbGVyIDoge1xuICAgICAgICAgICAgICAgIG1pbkNvbm5lY3Rpb25zIDogXCI9XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuZGlyZWN0aXZlKCdjb250cm9sJywgY29udHJvbERlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uIChhbmd1bGFyLCAkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBmdW5jdGlvbiBsaW5rRnVuY3Rpb24oc2NvcGUpIHtcblxuICAgICAgICBmdW5jdGlvbiBzY3JvbGwoKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9ICQodGhpcyk7XG4gICAgICAgICAgICBzZWxmLmNzcygnaGVpZ2h0JywgJzU1dmgnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNsaWNrKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSAkKHRoaXMpO1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5pbm5lckhlaWdodCAvIDMgPiBwYXJzZUludChzZWxmLmNzcygnaGVpZ2h0JykpKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5jc3MoJ2hlaWdodCcsICc1NXZoJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGYuY3NzKCdoZWlnaHQnLCAnMzB2aCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRldGFpbHNQYW5lbDtcbiAgICAgICAgaWYgKHNjb3BlLm1vYmlsZSkge1xuICAgICAgICAgICAgZGV0YWlsc1BhbmVsID0gJChcIiNkZXRhaWxzLXBhbmVsXCIpO1xuICAgICAgICAgICAgZGV0YWlsc1BhbmVsLmNzcyhcImhlaWdodFwiLCBcIjMwdmhcIik7XG4gICAgICAgICAgICBkZXRhaWxzUGFuZWwuc2Nyb2xsVG9wKDApO1xuICAgICAgICAgICAgZGV0YWlsc1BhbmVsLnNjcm9sbChzY3JvbGwpO1xuICAgICAgICAgICAgZGV0YWlsc1BhbmVsLmNsaWNrKGNsaWNrKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZE1vYmlsZUV2ZW50cygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICAgICBsaW5rOiBsaW5rRnVuY3Rpb25cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuZGlyZWN0aXZlKCdhZGRNb2JpbGVFdmVudHMnLCBbYWRkTW9iaWxlRXZlbnRzXSk7XG59KShhbmd1bGFyLCAkKTtcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBmdW5jdGlvbiBtb2RhbEN0cmwoJHNjb3BlLCAkbW9kYWxJbnN0YW5jZSkge1xuICAgICAgICAkc2NvcGUuY2xvc2VXaW5kb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdtb2RhbEN0cmwnLCBbJyRzY29wZScsICckbW9kYWxJbnN0YW5jZScsIG1vZGFsQ3RybF0pO1xuXG59KShhbmd1bGFyKTsiLCIvKipcbiAqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI3LzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGVkaXRFbnRpdHlEZXBlbmRlbmNpZXMgPSBbZWRpdEVudGl0eURpcmVjdGl2ZV07XG5cbiAgICBmdW5jdGlvbiBlZGl0RW50aXR5RGlyZWN0aXZlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9lZGl0LWVudGl0eS9lZGl0Lmh0bWwnLFxuICAgICAgICAgICAgcmVzdHJpY3QgICA6ICdFJyxcbiAgICAgICAgICAgIHNjb3BlICAgICAgOiB7XG4gICAgICAgICAgICAgICAgJ2VudGl0eScgIDogXCI9XCIsXG4gICAgICAgICAgICAgICAgJ2VudGl0aWVzJzogXCI9XCIsXG4gICAgICAgICAgICAgICAgJ2lzT3BlbicgIDogXCI9XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb250cm9sbGVyIDogJ2VkaXRDdHJsJ1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2VkaXRFbnRpdHknLCBlZGl0RW50aXR5RGVwZW5kZW5jaWVzKTtcblxufSkoYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5jb25zdGFudCgnXycsIHdpbmRvdy5fKVxuICAgICAgICAuY29uc3RhbnQoJ2NvbmZpZycsIHtcbiAgICAgICAgICAgIGFwaUhvc3Q6ICdodHRwczovL2FwaS5jaXZpY2dyYXBoLmlvLydcbiAgICAgICAgfSlcbiAgICAgICAgLmNvbmZpZyhbJyRsb2NhdGlvblByb3ZpZGVyJywgJyRodHRwUHJvdmlkZXInLCAnJGNvbXBpbGVQcm92aWRlcicsXG4gICAgICAgICAgICBmdW5jdGlvbiAoJGxvY2F0aW9uUHJvdmlkZXIsICRodHRwUHJvdmlkZXIsICRjb21waWxlUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1SZXF1ZXN0ZWQtV2l0aCddID0gJ1hNTEh0dHBSZXF1ZXN0JztcbiAgICAgICAgICAgICAgICAvLyAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydFdmVudC1OYW1lJ10gPSAnVGVzdF9FdmVudCc7XG4gICAgICAgICAgICAgICAgJGNvbXBpbGVQcm92aWRlci5kZWJ1Z0luZm9FbmFibGVkKHRydWUpO1xuICAgICAgICAgICAgfV0pXG4gICAgICAgIC5maWx0ZXIoJ3Rob3VzYW5kU3VmZml4JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpbnB1dCwgZGVjaW1hbHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXhwLFxuICAgICAgICAgICAgICAgICAgICBzdWZmaXhlcyA9IFsnaycsICdNJywgJ0cnLCAnVCcsICdQJywgJ0UnXTtcblxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuaXNOYU4oaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpbnB1dCA8IDEwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGV4cCA9IE1hdGguZmxvb3IoTWF0aC5sb2coaW5wdXQpIC8gTWF0aC5sb2coMTAwMCkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIChpbnB1dCAvIE1hdGgucG93KDEwMDAsIGV4cCkpLnRvRml4ZWQoZGVjaW1hbHMpICsgc3VmZml4ZXNbZXhwIC0gMV07XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxufSkoYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBob21lRGVwZW5kZW5jaWVzID0gW1xuICAgICAgICAnJHNjb3BlJyxcbiAgICAgICAgJyRodHRwJyxcbiAgICAgICAgJ18nLFxuICAgICAgICAnZW50aXR5U2VydmljZScsXG4gICAgICAgICdjb25uZWN0aW9uU2VydmljZScsXG4gICAgICAgICdjb25maWcnLFxuICAgICAgICBob21lQ3RybFxuICAgIF07XG5cbiAgICBmdW5jdGlvbiBob21lQ3RybCgkc2NvcGUsICRodHRwLCBfLCBlbnRpdHlTZXJ2aWNlLCBjb25uZWN0aW9uU2VydmljZSwgY29uZmlnKSB7XG4gICAgICAgICRzY29wZS5lbnRpdGllcyAgICAgICAgICAgICAgICAgPSBbXTtcbiAgICAgICAgJHNjb3BlLnNlYXJjaEl0ZW1zICAgICAgICAgICAgICA9IG51bGw7XG4gICAgICAgICRzY29wZS5jYXRlZ29yaWVzICAgICAgICAgICAgICAgPSBbXTtcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRMb2NhdGlvbiAgICAgICAgICA9IG51bGw7XG4gICAgICAgICRzY29wZS5jbGlja2VkTG9jYXRpb24gICAgICAgICAgPSB7fTtcbiAgICAgICAgJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbiA9IG51bGw7XG4gICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5ICAgICAgICAgICAgPSB7fTtcbiAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ICAgICA9IG51bGw7XG4gICAgICAgICRzY29wZS5lZGl0aW5nICAgICAgICAgICAgICAgICAgPSBmYWxzZTtcbiAgICAgICAgJHNjb3BlLmFjdGlvbnMgICAgICAgICAgICAgICAgICA9IHsnaW50ZXJhY3RlZCc6IGZhbHNlfTtcbiAgICAgICAgJHNjb3BlLnNob3dzZWFyY2hNQiAgICAgICAgICAgICA9IGZhbHNlO1xuICAgICAgICAkc2NvcGUuc2hvd0FuYWx5dGljcyAgICAgICAgICAgID0gZmFsc2U7XG4gICAgICAgICRzY29wZS5lbnRpdHlUeXBlcyAgICAgICAgICAgICAgPSBlbnRpdHlTZXJ2aWNlLmdldEVudGl0eVR5cGVzKCk7XG4gICAgICAgICRzY29wZS5jb25uZWN0aW9uVHlwZXMgICAgICAgICAgPSBjb25uZWN0aW9uU2VydmljZS5nZXRDb25uZWN0aW9uVHlwZXMoKTtcbiAgICAgICAgJHNjb3BlLnN0YXR1cyAgICAgICAgICAgICAgICAgICA9IHtcbiAgICAgICAgICAgIFwiaXNOZXR3b3JrU2hvd25cIjogdHJ1ZSxcbiAgICAgICAgICAgIFwibGljZW5zZVwiICAgICAgIDogdHJ1ZSxcbiAgICAgICAgICAgIFwibmV0d29ya0xvYWRpbmdcIjogdHJ1ZVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS50b2dnbGVBbmFseXRpY3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2hvd0FuYWx5dGljcyA9ICEkc2NvcGUuc2hvd0FuYWx5dGljcztcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm1pbkNvbm5lY3Rpb25zID0gJHNjb3BlLm1pbkNvbm5lY3Rpb25zID0gMjtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ21pbkNvbm5lY3Rpb25zJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnZW50aXRpZXNMb2FkZWQnKTtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICAkc2NvcGUuY29ubmVjdGlvbkNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHNlbGYubWluQ29ubmVjdGlvbnMpO1xuICAgICAgICAgICAgJHNjb3BlLm1pbkNvbm5lY3Rpb25zID0gc2VsZi5taW5Db25uZWN0aW9ucztcbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdlbnRpdGllc0xvYWRlZCcpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5oeWRlUGFydGlhbHMgPSBmdW5jdGlvbiAoZXhjZXB0KSB7XG4gICAgICAgICAgICBpZiAoZXhjZXB0ID09PSBcInNlYXJjaFwiKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmVkaXRpbmcgICAgICAgICA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zZXR0aW5nc0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhjZXB0ID09PSBcInNldHRpbmdzXCIpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdGluZyAgICAgID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dzZWFyY2hNQiA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChleGNlcHQgPT09IFwiZWRpdFwiKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zaG93c2VhcmNoTUIgICAgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmVkaXRpbmcgICAgICAgICA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zZXR0aW5nc0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd3NlYXJjaE1CICAgID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2hvd1NlYXJjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRzY29wZS5oeWRlUGFydGlhbHMoXCJzZWFyY2hcIik7XG4gICAgICAgICAgICAkc2NvcGUuc2hvd3NlYXJjaE1CICAgPSAkc2NvcGUuc2hvd3NlYXJjaE1CID8gZmFsc2UgOiB0cnVlO1xuICAgICAgICAgICAgLy8gJHNjb3BlLiRicm9hZGNhc3QoJ2hpZGVMaWNlbnNlJyk7XG4gICAgICAgICAgICAkc2NvcGUuc3RhdHVzLmxpY2Vuc2UgPSBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUudG9nZ2xlU2V0dGluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkc2NvcGUuaHlkZVBhcnRpYWxzKFwic2V0dGluZ3NcIik7XG4gICAgICAgICAgICAkc2NvcGUuc2V0dGluZ3NFbmFibGVkID0gISRzY29wZS5zZXR0aW5nc0VuYWJsZWQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnN0YXJ0RWRpdCA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50RW50aXR5ID0gZW50aXR5O1xuICAgICAgICAgICAgaWYgKCRzY29wZS5tb2JpbGUpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHlkZVBhcnRpYWxzKFwiZWRpdFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS5lZGl0aW5nID0gdHJ1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc3dpdGNoVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRzY29wZS5jaGFuZ2VWaWV3KCRzY29wZS5zdGF0dXMuaXNOZXR3b3JrU2hvd24gPyAnTWFwJyA6ICdOZXR3b3JrJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgd2luZG93Lm1vYmlsZWNoZWNrICAgICA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjaGVjayAgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICByZWdleCAgPSAvKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vL2ksXG4gICAgICAgICAgICAgICAgcmVnZXgyID0gLzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2k7XG4gICAgICAgICAgICAoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVnZXgudGVzdChhKSB8fCByZWdleDIudGVzdChhLnN1YnN0cigwLCA0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKG5hdmlnYXRvci51c2VyQWdlbnQgfHwgbmF2aWdhdG9yLnZlbmRvciB8fCB3aW5kb3cub3BlcmEpO1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUubW9iaWxlICAgICAgICAgID0gd2luZG93Lm1vYmlsZWNoZWNrKCk7XG4gICAgICAgICRzY29wZS5zZXR0aW5nc0VuYWJsZWQgPSAhJHNjb3BlLm1vYmlsZTtcblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRodHRwLmdldChjb25maWcuYXBpSG9zdCArICdhcGkvZW50aXRpZXMnKVxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5lbnRpdGllcyA9IGRhdGEubm9kZXM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvbnMgICA9IF8udW5pcShcbiAgICAgICAgICAgICAgICAgICAgICAgIF8ucGx1Y2soXy5mbGF0dGVuKF8ucGx1Y2soJHNjb3BlLmVudGl0aWVzLCAnbG9jYXRpb25zJykpLCAnbG9jYWxpdHknKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGVudGl0aWVzQnlMb2NhdGlvbiA9IF8ubWFwKGxvY2F0aW9ucywgZnVuY3Rpb24gKGxvYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbmRpbmdzID0gXy5maWx0ZXIoJHNjb3BlLmVudGl0aWVzLCBfLmZsb3coXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5wcm9wZXJ0eSgnbG9jYXRpb25zJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5wYXJ0aWFsUmlnaHQoXy5hbnksIHtsb2NhbGl0eTogbG9jfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgICAgOiBsb2MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSAgICA6ICdsb2NhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXRpZXM6IGZpbmRpbmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpY3QgICAgOiBfLnppcE9iamVjdChfLnBsdWNrKGZpbmRpbmdzLCAnbmFtZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLnBsdWNrKGZpbmRpbmdzLCAnaW5kZXgnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZWFyY2hJdGVtcyA9IGVudGl0aWVzQnlMb2NhdGlvbi5jb25jYXQoJHNjb3BlLmVudGl0aWVzKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBpZiAoJHNjb3BlLmdldFVSTElEKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIC8vIFNldCB0aGUgZW50aXR5IHRvIHRoZSBJRCBpbiB0aGUgVVJMIGlmIGl0IGV4aXN0cy5cbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICRzY29wZS5zZXRFbnRpdHlJRCgkc2NvcGUuZ2V0VVJMSUQoKSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm92ZXJ2aWV3VXJsID0gJ2pzL292ZXJ2aWV3L292ZXJ2aWV3Lmh0bWwnO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnZW50aXRpZXNMb2FkZWQnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMTAwKTtcblxuICAgICAgICAkc2NvcGUub3ZlcnZpZXdVcmwgPSBudWxsO1xuXG4gICAgICAgICRzY29wZS5zZXRFbnRpdHkgICA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50TG9jYXRpb24gPSBudWxsO1xuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRFbnRpdHkgICA9IGVudGl0eTtcbiAgICAgICAgICAgIGlmICgkc2NvcGUuZWRpdGluZykge1xuICAgICAgICAgICAgICAgICRzY29wZS5zdG9wRWRpdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ2VudGl0eUNoYW5nZScpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zZXRFbnRpdHlJRCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgJHNjb3BlLnNldEVudGl0eShfLmZpbmQoJHNjb3BlLmVudGl0aWVzLCB7J2lkJzogaWR9KSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnNldExvY2F0aW9uID0gZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICBpZiAoJHNjb3BlLmVkaXRpbmcpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RvcEVkaXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdpdGVtQ2hhbmdlJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnNlbGVjdEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2xvY2F0aW9uJykge1xuICAgICAgICAgICAgICAgICRzY29wZS5zZXRMb2NhdGlvbihpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICRzY29wZVtpdGVtICUgMSA9PT0gMCA/ICdzZXRFbnRpdHlJRCcgOiAnc2V0RW50aXR5J10oaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnc2VsZWN0SXRlbScsIGl0ZW0pO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS4kb24oJ3NldEN1cnJlbnRFbnRpdHknLCBmdW5jdGlvbiAoZXZlbnQsIGFyZ3MpIHtcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50RW50aXR5ID0gYXJncy52YWx1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLiRvbignc2V0Q3VycmVudExvY2F0aW9uJywgZnVuY3Rpb24gKGV2ZW50LCBhcmdzKSB7XG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudExvY2F0aW9uID0gYXJncy52YWx1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLnNldEVudGl0aWVzID0gZnVuY3Rpb24gKGVudGl0aWVzKSB7XG4gICAgICAgICAgICAkc2NvcGUuZW50aXRpZXMgPSBlbnRpdGllcztcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc3RvcEVkaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkc2NvcGUuZWRpdGluZyA9IGZhbHNlO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS4kb24oXCJlZGl0RW50aXR5U3VjY2Vzc1wiLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICRzY29wZS5zZXRFbnRpdGllcyhyZXNwb25zZS5ub2Rlcyk7XG4gICAgICAgICAgICAvLyAkc2NvcGUuc2V0RW50aXR5SUQoJHNjb3BlLmN1cnJlbnRFbnRpdHkuaWQpO1xuICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ2VudGl0aWVzTG9hZGVkJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS5hbmltYXRpb25zRW5hYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2hvbWVDdHJsJywgaG9tZURlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA3LzE0LzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IFtdO1xuXG4gICAgZnVuY3Rpb24gZGlyZWN0aXZlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgXCJyZXN0cmljdFwiOiBcIkVcIixcbiAgICAgICAgICAgIFwidGVtcGxhdGVVcmxcIjogXCIvbWFwL21hcC5odG1sXCIsXG4gICAgICAgICAgICBcImNvbnRyb2xsZXJcIjogXCJtYXBDdHJsXCJcbiAgICAgICAgfTtcbiAgICB9XG4gICAgICAgIGFuZ3VsYXIubW9kdWxlKFwiY2l2aWMtZ3JhcGhcIilcbiAgICAgICAgICAgIC5kaXJlY3RpdmUoXCJtYXBcIiwgZGVwZW5kZW5jaWVzKTtcblxufSkoYW5ndWxhcik7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA3LzExLzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IFtcbiAgICAgICAgZGlyZWN0aXZlXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIGRpcmVjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFwicmVzdHJpY3RcIjogXCJFXCIsXG4gICAgICAgICAgICBcInRlbXBsYXRlVXJsXCI6IFwianMvbmV0d29yay9uZXR3b3JrLmh0bWxcIixcbiAgICAgICAgICAgIFwiY29udHJvbGxlclwiOiBcIm5ldHdvcmtDdHJsXCJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImNpdmljLWdyYXBoXCIpXG4gICAgICAgIC5kaXJlY3RpdmUoXCJuZXR3b3JrXCIsIGRlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI2LzE2LlxuICovXG4oZnVuY3Rpb24oYW5ndWxhcikge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2lucHV0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdGljdDogJ0UnLFxuICAgICAgICAgICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xuICAgICAgICAgICAgICAgIGlmICggJ3R5cGUnIGluIGF0dHJzICYmIGF0dHJzLnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ3JhbmdlJyApIHtcbiAgICAgICAgICAgICAgICAgICAgbmdNb2RlbC4kcGFyc2Vycy5wdXNoKHBhcnNlRmxvYXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcbn0pKGFuZ3VsYXIpOyIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZnVuY3Rpb24gb3ZlcnZpZXdDdHJsKCRzY29wZSwgXykge1xuICAgICAgICAkc2NvcGUuY2F0ZWdvcml6ZWRFbnRpdGllcyA9IHt9O1xuICAgICAgICBfLmZvckVhY2goXy5rZXlzKCRzY29wZS5lbnRpdHlUeXBlcyksIGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAkc2NvcGUuY2F0ZWdvcml6ZWRFbnRpdGllc1t0eXBlXSA9IF8uZmlsdGVyKCRzY29wZS5lbnRpdGllcywgeyd0eXBlJzogdHlwZX0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuY29udHJvbGxlcignb3ZlcnZpZXdDdHJsJywgWyckc2NvcGUnLCAnXycsIG92ZXJ2aWV3Q3RybF0pO1xufSkoYW5ndWxhcik7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDcvMS8xNi5cbiAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGZ1bmN0aW9uIGFuYWx5dGljc0N0cmwoJHNjb3BlKSB7XG5cbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuY29udHJvbGxlcignYW5hbHl0aWNzQ3RybCcsIFsnJHNjb3BlJywgYW5hbHl0aWNzQ3RybF0pO1xufSkoYW5ndWxhcik7IiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBmdW5jdGlvbiBkZXRhaWxzQ3RybCgkc2NvcGUsIF8pIHtcbiAgICAgICAgJHNjb3BlLml0ZW1zU2hvd25EZWZhdWx0ID0ge1xuICAgICAgICAgICAgJ2tleV9wZW9wbGUnOiAzLFxuICAgICAgICAgICAgJ2dyYW50c19naXZlbic6IDMsXG4gICAgICAgICAgICAnZ3JhbnRzX3JlY2VpdmVkJzogMyxcbiAgICAgICAgICAgICdpbnZlc3RtZW50c19tYWRlJzogMyxcbiAgICAgICAgICAgICdpbnZlc3RtZW50c19yZWNlaXZlZCc6IDMsXG4gICAgICAgICAgICAnY29sbGFib3JhdGlvbnMnOiAzLFxuICAgICAgICAgICAgJ2VtcGxveW1lbnRzJzogMyxcbiAgICAgICAgICAgICdyZWxhdGlvbnMnOiAzLFxuICAgICAgICAgICAgJ2RhdGFfZ2l2ZW4nOiAzLFxuICAgICAgICAgICAgJ2RhdGFfcmVjZWl2ZWQnOiAzLFxuICAgICAgICAgICAgJ3JldmVudWVzJzogMyxcbiAgICAgICAgICAgICdleHBlbnNlcyc6IDNcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuaXRlbXNTaG93biA9IF8uY2xvbmUoJHNjb3BlLml0ZW1zU2hvd25EZWZhdWx0KTtcblxuICAgICAgICAkc2NvcGUuJG9uKCdlbnRpdHlDaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBSZXNldCBpdGVtcyBzaG93biBpbiBkZXRhaWxzIGxpc3QuXG4gICAgICAgICAgICAkc2NvcGUuaXRlbXNTaG93biA9IF8uY2xvbmUoJHNjb3BlLml0ZW1zU2hvd25EZWZhdWx0KTtcbiAgICAgICAgfSk7XG4gICAgICAgICRzY29wZS5zaG93TW9yZSA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAkc2NvcGUuaXRlbXNTaG93blt0eXBlXSA9ICRzY29wZS5jdXJyZW50RW50aXR5W3R5cGVdLmxlbmd0aDtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLnNob3dMZXNzID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICRzY29wZS5pdGVtc1Nob3duW3R5cGVdID0gJHNjb3BlLml0ZW1zU2hvd25EZWZhdWx0W3R5cGVdO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdkZXRhaWxzQ3RybCcsIFsnJHNjb3BlJywgXCJfXCIsIGRldGFpbHNDdHJsXSk7XG59KShhbmd1bGFyKTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNy8xMC8xNi5cbiAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBjb250cm9sRGVwcyA9IFtcbiAgICAgICAgJ2VudGl0eVNlcnZpY2UnLFxuICAgICAgICAnY29ubmVjdGlvblNlcnZpY2UnLFxuICAgICAgICAnJHJvb3RTY29wZScsXG4gICAgICAgICdfJyxcbiAgICAgICAgJyRtb2RhbCcsXG4gICAgICAgIGNvbnRyb2xDdHJsXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIGNvbnRyb2xDdHJsKGVudGl0eVNlcnZpY2UsIGNvbm5lY3Rpb25TZXJ2aWNlLCAkcm9vdFNjb3BlLCBfLCAkbW9kYWwpIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgdm0uZW50aXR5VHlwZXMgPSBlbnRpdHlTZXJ2aWNlLmdldEVudGl0eVR5cGVzKCk7XG4gICAgICAgIHZtLmNvbm5lY3Rpb25UeXBlcyA9IGNvbm5lY3Rpb25TZXJ2aWNlLmdldENvbm5lY3Rpb25UeXBlcygpO1xuICAgICAgICB2bS5zaXplQnlMaXN0ID0gW1xuICAgICAgICAgICAgeyduYW1lJzogJ0VtcGxveWVlcycsICd2YWx1ZSc6ICdlbXBsb3llZXMnfSxcbiAgICAgICAgICAgIHsnbmFtZSc6ICdUd2l0dGVyIEZvbGxvd2VycycsICd2YWx1ZSc6ICdmb2xsb3dlcnMnfVxuICAgICAgICBdO1xuICAgICAgICB2bS5zaXplQnkgPSAnZW1wbG95ZWVzJztcbiAgICAgICAgdm0uc2hvd1ZpZXcgPSB7XG4gICAgICAgICAgICAnTmV0d29yayc6IHRydWUsXG4gICAgICAgICAgICAnTWFwJzogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgdm0uc3dpdGNoVmlldyA9IHN3aXRjaFZpZXc7XG4gICAgICAgIHZtLmNoYW5nZVZpZXcgPSBmdW5jdGlvbiAodmlldykge1xuICAgICAgICAgICAgXy5mb3JFYWNoKF8ua2V5cyh2bS5zaG93VmlldyksIGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgdm0uc2hvd1ZpZXdbbmFtZV0gPSB2aWV3ID09PSBuYW1lO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygndGhpcyBoYXBwZW5lZCcpO1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCd2aWV3Q2hhbmdlJywgdm0uc2hvd1ZpZXcpO1xuICAgICAgICB9O1xuICAgICAgICB2bS5zaG93QWJvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkbW9kYWwub3Blbih7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbnRyb2wvYWJvdXQuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21vZGFsQ3RybCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB2bS50b2dnbGVOb2RlID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgndG9nZ2xlTm9kZScsIHsnbmFtZSc6IHR5cGUsICdlbmFibGVkJzogdm0uZW50aXR5VHlwZXNbdHlwZV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB2bS50b2dnbGVMaW5rID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgndG9nZ2xlTGluaycsIHsnbmFtZSc6IHR5cGUsICdlbmFibGVkJzogdm0uY29ubmVjdGlvblR5cGVzW3R5cGVdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdm0uY2hhbmdlU2l6ZUJ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdjaGFuZ2VTaXplQnknLCB2bS5zaXplQnkpO1xuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBzd2l0Y2hWaWV3KCkge1xuICAgICAgICAgICAgdm0uY2hhbmdlVmlldyghdm0udG9nZ2xlTmV0d29yayA/ICdNYXAnIDogJ05ldHdvcmsnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZtLmNoYW5nZVNpemVCeSgpO1xuXG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2NvbnRyb2xDdHJsJywgY29udHJvbERlcHMpO1xuXG59KShhbmd1bGFyKTtcbiIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGVkaXRDb250cm9sbGVyRGVwcyA9IFtcbiAgICAgICAgJyRzY29wZScsXG4gICAgICAgICckaHR0cCcsXG4gICAgICAgICckdGltZW91dCcsXG4gICAgICAgICdfJyxcbiAgICAgICAgJ2VudGl0eVNlcnZpY2UnLFxuICAgICAgICAnbG9jYXRpb25TZXJ2aWNlJyxcbiAgICAgICAgJ2NvbmZpZycsXG4gICAgICAgIGVkaXRDdHJsXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIGlzRGVmKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICE9PSB1bmRlZmluZWQgJiYgb2JqICE9PSBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGVkaXRDdHJsKCRzY29wZSwgJGh0dHAsICR0aW1lb3V0LCBfLCBlbnRpdHlTZXJ2aWNlLCBsb2NhdGlvblNlcnZpY2UsIGNvbmZpZykge1xuICAgICAgICAkc2NvcGUuaXNFZGl0aW5nID0gZmFsc2U7XG4gICAgICAgICRzY29wZS5lZGl0RW50aXR5ID0gZW50aXR5U2VydmljZS5nZXRFbnRpdHlNb2RlbCgkc2NvcGUuZW50aXR5KTtcbiAgICAgICAgJHNjb3BlLmVudGl0eVR5cGVzID0gZW50aXR5U2VydmljZS5nZXRFbnRpdHlUeXBlcygpO1xuICAgICAgICAkc2NvcGUuaW5mbHVlbmNlVHlwZXMgPSBlbnRpdHlTZXJ2aWNlLmdldEluZmx1ZW5jZVR5cGVzKCk7XG5cbiAgICAgICAgdmFyIGNhdGVnb3J5QmFja3VwO1xuXG4gICAgICAgICRzY29wZS5jYXRlZ29yaWVzID0gW107XG5cbiAgICAgICAgJHNjb3BlLmFkZHJlc3NTZWFyY2ggPSBmdW5jdGlvbiAoc2VhcmNoKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuanNvbnAoJ2h0dHBzOi8vZGV2LnZpcnR1YWxlYXJ0aC5uZXQvUkVTVC92MS9Mb2NhdGlvbnMnLCB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBzZWFyY2gsXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ0FpNTg1ODF5Qy1TcjdtY0ZiWVR0VWtTM2l4RTdmNlp1Sm5iRkpDVkk0aEF0VzFYb0RFZVp5aWRRejJnTENDeUQnLFxuICAgICAgICAgICAgICAgICAgICAnanNvbnAnOiAnSlNPTl9DQUxMQkFDSycsXG4gICAgICAgICAgICAgICAgICAgICdpbmNsdWRlJzogJ2Npc28yJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0RlZihyZXNwb25zZS5kYXRhLnJlc291cmNlU2V0cykgJiYgcmVzcG9uc2UuZGF0YS5yZXNvdXJjZVNldHMubGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLnJlc291cmNlU2V0c1swXS5yZXNvdXJjZXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUudG9nZ2xlQ2F0ZWdvcnkgPSBmdW5jdGlvbiAoY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUuZWRpdEVudGl0eS5jYXRlZ29yaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5lZGl0RW50aXR5LmNhdGVnb3JpZXMucHVzaChjYXRlZ29yeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGNhdGVnb3J5SW5kZXggaW4gJHNjb3BlLmVkaXRFbnRpdHkuY2F0ZWdvcmllcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoISRzY29wZS5lZGl0RW50aXR5LmNhdGVnb3JpZXMuaGFzT3duUHJvcGVydHkoY2F0ZWdvcnlJbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbnRpdHlDYXRlZ29yeSA9ICRzY29wZS5lZGl0RW50aXR5LmNhdGVnb3JpZXNbY2F0ZWdvcnlJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRpdHlDYXRlZ29yeS5pZCA9PT0gY2F0ZWdvcnkuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eUNhdGVnb3J5LmVuYWJsZWQgPSBjYXRlZ29yeS5lbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdEVudGl0eS5jYXRlZ29yaWVzLnB1c2goY2F0ZWdvcnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2V0TG9jYXRpb24gPSBmdW5jdGlvbiAobG9jYXRpb24sIGlzTGFzdCkge1xuICAgICAgICAgICAgJHNjb3BlLmFkZHJlc3NTZWFyY2gobG9jYXRpb24uZm9ybWF0dGVkQWRkcmVzcylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoYXBpQ2FsbFJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXBpQ2FsbFJlc3VsdFswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MgPSByZXN1bHQuYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ID0gcmVzdWx0LnBvaW50O1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTG9jYXRpb24oaXNMYXN0KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBQYXJzZXMgQVBJIGNhbGwgcmVzdWx0XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmFkZHJlc3NfbGluZSA9IGlzRGVmKGFkZHJlc3MuYWRkcmVzc0xpbmUpID8gYWRkcmVzcy5hZGRyZXNzTGluZSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5sb2NhbGl0eSA9IGlzRGVmKGFkZHJlc3MubG9jYWxpdHkpID8gYWRkcmVzcy5sb2NhbGl0eSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5kaXN0cmljdCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0RlZihhZGRyZXNzLmFkbWluRGlzdHJpY3QpID8gYWRkcmVzcy5hZG1pbkRpc3RyaWN0IDogJyc7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmNvdW50cnkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEZWYoYWRkcmVzcy5jb3VudHJ5UmVnaW9uKSA/IGFkZHJlc3MuY291bnRyeVJlZ2lvbiA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmNvdW50cnlfY29kZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0RlZihhZGRyZXNzLmNvdW50cnlSZWdpb25Jc28yKSA/IGFkZHJlc3MuY291bnRyeVJlZ2lvbklzbzIgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uY29vcmRpbmF0ZXMgPSBpc0RlZihwb2ludC5jb29yZGluYXRlcykgPyBwb2ludC5jb29yZGluYXRlcyA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnBvc3RhbF9jb2RlID0gaXNEZWYoYWRkcmVzcy5wb3N0YWxDb2RlKSA/IGFkZHJlc3MucG9zdGFsQ29kZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmFkZExvY2F0aW9uID0gZnVuY3Rpb24gKGlzTGFzdCkge1xuICAgICAgICAgICAgaWYgKGlzTGFzdCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5lZGl0RW50aXR5LmxvY2F0aW9ucy5wdXNoKGxvY2F0aW9uU2VydmljZS5nZXRMb2NhdGlvbk1vZGVsKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5hZGRLZXlQZXJzb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBBZGQgYmxhbmsgZmllbGQgdG8gZWRpdCBpZiB0aGVyZSBhcmUgbm9uZS5cbiAgICAgICAgICAgIC8vIFdBVENIIE9VVCEgVE9ETzogSWYgc29tZW9uZSBkZWxldGVzIGFuIG9sZCBwZXJzb24sIGRlbGV0ZSB0aGVpciBpZCB0b28uXG4gICAgICAgICAgICAvLyBpLmUuIG1ha2Ugc3VyZSBvbGQvY2xlYXJlZCBmb3JtIGZpZWxkcyBhcmVuJ3QgYmVpbmcgZWRpdGVkIGludG8gbmV3IHBlb3BsZS5cbiAgICAgICAgICAgIGlmICghKF8uc29tZSgkc2NvcGUuZWRpdEVudGl0eS5rZXlfcGVvcGxlLCB7J25hbWUnOiAnJywgJ2lkJzogbnVsbH0pKSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5lZGl0RW50aXR5LmtleV9wZW9wbGUucHVzaCh7J25hbWUnOiAnJywgJ2lkJzogbnVsbH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zZXRGdW5kaW5nQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIChlbnRpdHksIGZ1bmRpbmcpIHtcbiAgICAgICAgICAgIC8vIEFkZCBvdGhlciBlbnRpdHkncyBpZCB0byB0aGlzIGZpbmFuY2UgY29ubmVjdGlvbi5cbiAgICAgICAgICAgIGZ1bmRpbmcuZW50aXR5X2lkID0gZW50aXR5LmlkO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5hZGRGdW5kaW5nQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIChmdW5kaW5nKSB7XG4gICAgICAgICAgICBpZiAoIV8uc29tZShmdW5kaW5nLCB7J2VudGl0eSc6ICcnfSkpIHtcbiAgICAgICAgICAgICAgICAvLyBNYXliZSBzZXQgYW1vdW50IHRvIDAgaW5zdGVhZCBvZiBudWxsP1xuICAgICAgICAgICAgICAgIGZ1bmRpbmcucHVzaCh7J2VudGl0eSc6ICcnLCAnYW1vdW50JzogbnVsbCwgJ3llYXInOiBudWxsLCAnaWQnOiBudWxsfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnNldENvbm5lY3Rpb24gPSBmdW5jdGlvbiAoZW50aXR5LCBjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICBjb25uZWN0aW9uLmVudGl0eV9pZCA9IGVudGl0eS5pZDtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuYWRkQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIChjb25uZWN0aW9ucykge1xuICAgICAgICAgICAgLy8gQWRkIGFuIGVtcHR5IGNvbm5lY3Rpb24gdG8gZWRpdCBpZiBub25lIGV4aXN0LlxuICAgICAgICAgICAgaWYgKCFfLnNvbWUoY29ubmVjdGlvbnMsIHsnZW50aXR5JzogJycsICdpZCc6IG51bGx9KSkge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zLnB1c2goeydlbnRpdHknOiAnJywgJ2lkJzogbnVsbCwgJ2RldGFpbHMnOiBudWxsfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmFkZEZpbmFuY2UgPSBmdW5jdGlvbiAocmVjb3Jkcykge1xuICAgICAgICAgICAgLy8gQWRkIG5ldyBmaW5hbmNlIGZpZWxkIGlmIGFsbCBjdXJyZW50IGZpZWxkcyBhcmUgdmFsaWQuXG4gICAgICAgICAgICBpZiAoXy5ldmVyeShyZWNvcmRzLCBmdW5jdGlvbiAocikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gci5hbW91bnQgPiAwICYmIHIueWVhciA+IDE3NTA7XG4gICAgICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgICAgICByZWNvcmRzLnB1c2goeydhbW91bnQnOiBudWxsLCAneWVhcic6IG51bGwsICdpZCc6IG51bGx9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRzY29wZS5pc1NhdmluZyA9IHRydWU7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuZWRpdEVudGl0eS5nZW5lcmF0ZURCTW9kZWwoKSk7XG5cbiAgICAgICAgICAgICRodHRwLnBvc3QoY29uZmlnLmFwaUhvc3QgKyAnYXBpL3NhdmUnLCB7J2VudGl0eSc6ICRzY29wZS5lZGl0RW50aXR5LmdlbmVyYXRlREJNb2RlbCgpfSlcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzU2F2aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdChcImVkaXRFbnRpdHlTdWNjZXNzXCIsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FsbCB0byBob21lQ3RybCdzIHBhcmVudCBzdG9wRWRpdCgpIHRvIGNoYW5nZSB2aWV3IGJhY2sgYW5kIGFueSBvdGhlclxuICAgICAgICAgICAgICAgICAgICAvLyBoaWdoLWxldmVsIGNoYW5nZXMuXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWxFZGl0KCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pc0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5jYW5jZWxFZGl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ2VudGl0eScsIGZ1bmN0aW9uIChuZXdWYWwsIG9sZFZhbCkge1xuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuZXF1YWxzKG5ld1ZhbCwgb2xkVmFsKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLmVudGl0eSk7XG5cbiAgICAgICAgICAgICRzY29wZS5lZGl0RW50aXR5ID0gZW50aXR5U2VydmljZS5nZXRFbnRpdHlNb2RlbChuZXdWYWwpO1xuICAgICAgICAgICAgJHNjb3BlLmNhdGVnb3JpZXMgPSBhbmd1bGFyLmNvcHkoY2F0ZWdvcnlCYWNrdXApO1xuXG4gICAgICAgICAgICBpbml0Q2F0ZWdvcnlBcnJheSgpO1xuXG4gICAgICAgICAgICAkc2NvcGUuaXNFZGl0aW5nID0gaXNEZWYoJHNjb3BlLmVkaXRFbnRpdHkuaWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5pdGlhbGl6ZXMgY2F0ZWdvcnkgZmllbGRzIHdpdGggZW50aXR5IHZhbHVlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogTG9vcHMgdGhyb3VnaCBjYXRlZ29yeSBpbiBjYXRlZ29yaWVzIGFuZCBsb29wcyB0aHJvdWdoIGNhdGVnb3J5IGluIGVudGl0eS4gSWRlbnRpZmllc1xuICAgICAgICAgKiBjYXRlZ29yaWVzIGVuYWJsZWQgaW4gdGhlIGVudGl0eSBhbmQgc2V0cyBsb2NhbCBkaXNwbGF5IGRhdGEuIFRoaXMgaXMgYmVjYXVzZSB3ZSBjcmVhdGVkXG4gICAgICAgICAqIGEgYmFja3VwIG9mIGVudGl0eSBkYXRhIHNvIHRoYXQgdGhlIGFwaSBkYXRhIGlzIG5vdCB0YW1wZXJlZCB3aXRoIGRpcmVjdGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUT0RPOiByZXBsYWNlIHdpdGggYmV0dGVyIGRhdGEgc3RydWN0dXJlIGZvciBjYXRlZ29yaWVzLlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaW5pdENhdGVnb3J5QXJyYXkoKSB7XG4gICAgICAgICAgICB2YXIgY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlJbmRleCxcbiAgICAgICAgICAgICAgICBlbnRpdHlDYXRlZ29yeUluZGV4LFxuICAgICAgICAgICAgICAgIGVudGl0eUNhdGVnb3J5O1xuXG4gICAgICAgICAgICBmb3IgKGNhdGVnb3J5SW5kZXggaW4gJHNjb3BlLmNhdGVnb3JpZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoISRzY29wZS5jYXRlZ29yaWVzLmhhc093blByb3BlcnR5KGNhdGVnb3J5SW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRlZ29yeSA9ICRzY29wZS5jYXRlZ29yaWVzW2NhdGVnb3J5SW5kZXhdO1xuICAgICAgICAgICAgICAgIGZvciAoZW50aXR5Q2F0ZWdvcnlJbmRleCBpbiAkc2NvcGUuZWRpdEVudGl0eS5jYXRlZ29yaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghJHNjb3BlLmVkaXRFbnRpdHkuY2F0ZWdvcmllcy5oYXNPd25Qcm9wZXJ0eShlbnRpdHlDYXRlZ29yeUluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZW50aXR5Q2F0ZWdvcnkgPSAkc2NvcGUuZWRpdEVudGl0eS5jYXRlZ29yaWVzW2VudGl0eUNhdGVnb3J5SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcnkuaWQgPT09IGVudGl0eUNhdGVnb3J5LmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeS5lbmFibGVkID0gZW50aXR5Q2F0ZWdvcnkuZW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJldHJpZXZlIENhdGVnb3JpZXMgZnJvbSBEQlxuICAgICAgICAkaHR0cC5nZXQoY29uZmlnLmFwaUhvc3QgKyAnYXBpL2NhdGVnb3JpZXMnKVxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeUJhY2t1cCA9IGRhdGEuY2F0ZWdvcmllcztcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGVzIGJhY2t1cCBvZiBkYXRhIHVzaW5nIEFuZ3VsYXIgdG8gcHJldmVudCBhcGkgZGF0YSBmcm9tIGJlaW5nIHRhbXBlcmVkXG4gICAgICAgICAgICAgICAgLy8gZGlyZWN0bHlcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2F0ZWdvcmllcyA9IGFuZ3VsYXIuY29weShjYXRlZ29yeUJhY2t1cCk7XG4gICAgICAgICAgICAgICAgLy8gJHNjb3BlLmNhdGVnb3JpZXMgPSBkYXRhLmNhdGVnb3JpZXM7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuY29udHJvbGxlcignZWRpdEN0cmwnLCBlZGl0Q29udHJvbGxlckRlcHMpO1xuXG59KShhbmd1bGFyKTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNi8yOC8xNi5cbiAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBjYXRlZ29yeVNlcnZpY2VEZXBlbmRlbmNpZXMgPSBbXG4gICAgICAgIENhdGVnb3J5U2VydmljZVxuICAgIF07XG5cbiAgICBmdW5jdGlvbiBDYXRlZ29yeVNlcnZpY2UoKSB7XG5cbiAgICAgICAgZnVuY3Rpb24gaXNEZWYobykgeyByZXR1cm4gbyAhPT0gdW5kZWZpbmVkICYmIG8gIT09IG51bGw7IH1cblxuICAgICAgICBmdW5jdGlvbiBDYXRlZ29yeShvYmopIHtcbiAgICAgICAgICAgIHZhciBkZWZPYmogPSBpc0RlZihvYmopID8gb2JqIDoge307XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSAoaXNEZWYoZGVmT2JqLm5hbWUpID8gZGVmT2JqLm5hbWUgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlZCA9IChpc0RlZihkZWZPYmouZW5hYmxlKSA/IGRlZk9iai5lbmFibGVkIDogdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmlkID0gKGlzRGVmKGRlZk9iai5pZCkgPyBkZWZPYmouaWQgOiBudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2V0Q2F0ZWdvcnlNb2RlbCA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDYXRlZ29yeShvYmopO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5zZXJ2aWNlKCdjYXRlZ29yeVNlcnZpY2UnLCBjYXRlZ29yeVNlcnZpY2VEZXBlbmRlbmNpZXMpO1xuXG59KShhbmd1bGFyKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDYvMjcvMTYuXG4gKi9cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGNvbm5lY3Rpb25TZXJ2aWNlID0gW0Nvbm5lY3Rpb25zXTtcbiAgICB2YXIgY29ubmVjdGlvblR5cGVzID0ge1xuICAgICAgICAnRnVuZGluZyc6IHRydWUsXG4gICAgICAgICdEYXRhJzogdHJ1ZSxcbiAgICAgICAgJ0VtcGxveW1lbnQnOiB0cnVlLFxuICAgICAgICAnQ29sbGFib3JhdGlvbic6IHRydWVcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaXNEZWYobykge1xuICAgICAgICByZXR1cm4gbyAhPT0gdW5kZWZpbmVkICYmIG8gIT09IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gQ29ubmVjdGlvbnMoKSB7XG4gICAgICAgIGZ1bmN0aW9uIENvbm5lY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICB2YXIgb2JqSXNEZWYgPSBpc0RlZihvYmopO1xuICAgICAgICAgICAgdGhpcy5lbnRpdHkgPSAob2JqSXNEZWYgJiYgaXNEZWYob2JqLmVudGl0eSkgPyBvYmouZW50aXR5IDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmlkID0gKG9iaklzRGVmICYmIGlzRGVmKG9iai5pZCkgPyBvYmouaWQgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuZGV0YWlscyA9IChvYmpJc0RlZiAmJiBpc0RlZihvYmouZGV0YWlscykgPyBvYmouZGV0YWlscyA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gKG9iaklzRGVmICYmIGlzRGVmKG9iai5uYW1lKSA/IG9iai5uYW1lOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5X2lkID0gKG9iaklzRGVmICYmIGlzRGVmKG9iai5lbnRpdHlfaWQpID8gb2JqLmVudGl0eV9pZDogbnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdldENvbm5lY3Rpb25Nb2RlbCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29ubmVjdGlvbihvYmopO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuZ2V0Q29ubmVjdGlvblR5cGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb25UeXBlcztcbiAgICAgICAgfTtcbiAgICB9XG5cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5zZXJ2aWNlKCdjb25uZWN0aW9uU2VydmljZScsIGNvbm5lY3Rpb25TZXJ2aWNlKTtcblxufSkoYW5ndWxhcik7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI3LzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGVudGl0eVNlcnZpY2VEZXBlbmRlbmNpZXMgPSBbXG4gICAgICAgICdmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2UnLFxuICAgICAgICAnY29ubmVjdGlvblNlcnZpY2UnLFxuICAgICAgICAnZmluYW5jZVNlcnZpY2UnLFxuICAgICAgICAnbG9jYXRpb25TZXJ2aWNlJyxcbiAgICAgICAgJ2NhdGVnb3J5U2VydmljZScsXG4gICAgICAgIEVudGl0eVNlcnZpY2VcbiAgICBdO1xuXG4gICAgZnVuY3Rpb24gRW50aXR5U2VydmljZShmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2UsIGNvbm5lY3Rpb25TZXJ2aWNlLCBmaW5hbmNlU2VydmljZSwgbG9jYXRpb25TZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlTZXJ2aWNlXG4gICAgKSB7XG5cbiAgICAgICAgdmFyIGVudGl0eVR5cGVzID0ge1xuICAgICAgICAgICAgJ0dvdmVybm1lbnQnOiB0cnVlLFxuICAgICAgICAgICAgJ0Zvci1Qcm9maXQnOiB0cnVlLFxuICAgICAgICAgICAgJ05vbi1Qcm9maXQnOiB0cnVlLFxuICAgICAgICAgICAgJ0luZGl2aWR1YWwnOiB0cnVlXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGluZmx1ZW5jZVR5cGVzID0gW1xuICAgICAgICAgICAgJ0xvY2FsJyxcbiAgICAgICAgICAgICdOYXRpb25hbCcsXG4gICAgICAgICAgICAnR2xvYmFsJ1xuICAgICAgICBdO1xuXG4gICAgICAgIGZ1bmN0aW9uIGlzRGVmKG8pIHtcbiAgICAgICAgICAgIHJldHVybiBvICE9PSB1bmRlZmluZWQgJiYgbyAhPT0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGxvb3BBbmRJbml0KG1vZGVsQXJyYXksIGluaXRNb2RlbEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICBpZiggISggaXNEZWYobW9kZWxBcnJheSkgfHwgYW5ndWxhci5pc0FycmF5KG1vZGVsQXJyYXkpICkgKSByZXR1cm4gW2luaXRNb2RlbEZ1bmN0aW9uKCldO1xuICAgICAgICAgICAgdmFyIGFycmF5SW5kZXgsXG4gICAgICAgICAgICAgICAgYXJyYXlWYWx1ZSxcbiAgICAgICAgICAgICAgICBuZXdNb2RlbEFycmF5ID0gW107XG5cbiAgICAgICAgICAgIGZvciAoIGFycmF5SW5kZXggaW4gbW9kZWxBcnJheSApIHtcbiAgICAgICAgICAgICAgICBpZighbW9kZWxBcnJheS5oYXNPd25Qcm9wZXJ0eShhcnJheUluZGV4KSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgYXJyYXlWYWx1ZSA9IG1vZGVsQXJyYXlbYXJyYXlJbmRleF07XG5cbiAgICAgICAgICAgICAgICBpZighYW5ndWxhci5pc09iamVjdChhcnJheVZhbHVlKSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBuZXdNb2RlbEFycmF5LnB1c2goaW5pdE1vZGVsRnVuY3Rpb24oYXJyYXlWYWx1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3TW9kZWxBcnJheS5wdXNoKGluaXRNb2RlbEZ1bmN0aW9uKCkpO1xuXG4gICAgICAgICAgICByZXR1cm4gbmV3TW9kZWxBcnJheTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIEVudGl0eShvYmopIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHZhciBkZWZPYmogPSBpc0RlZihvYmopID8gb2JqIDoge307XG4gICAgICAgICAgICAvLyBUT0RPOiBEbyBhIGxvb3AgdG8gZ2VuZXJhdGUgdGhlc2UgbG9jYXRpb25zIGFzIG1vZGVscywgaW4gb3JkZXIgdG8gdXNlIHRoZSBmdW5jdGlvbnMgaW4gbW9kZWxcbiAgICAgICAgICAgIC8vIHRoaXMubG9jYXRpb25zID0gKGlzRGVmKGRlZk9iai5sb2NhdGlvbnMpID8gZGVmT2JqLmxvY2F0aW9ucyA6IFtsb2NhdGlvblNlcnZpY2UuZ2V0TG9jYXRpb25Nb2RlbCgpXSk7XG4gICAgICAgICAgICAvLyBUT0RPOiBEbyB0aGlzIGZvciBldmVyeSBhcnJheSBpbiB0aGlzIG1vZGVsXG4gICAgICAgICAgICB0aGlzLmlkID0gKGlzRGVmKGRlZk9iai5pZCkgPyBkZWZPYmouaWQgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IChpc0RlZihkZWZPYmoubmFtZSkgPyBkZWZPYmoubmFtZSA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5sb2NhdGlvbnMgPSBsb29wQW5kSW5pdChkZWZPYmoubG9jYXRpb25zLCBsb2NhdGlvblNlcnZpY2UuZ2V0TG9jYXRpb25Nb2RlbCk7XG4gICAgICAgICAgICB0aGlzLmluZmx1ZW5jZSA9IChpc0RlZihkZWZPYmouaW5mbHVlbmNlKSA/IGRlZk9iai5pbmZsdWVuY2UgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuZ3JhbnRzX3JlY2VpdmVkID0gbG9vcEFuZEluaXQoZGVmT2JqLmdyYW50c19yZWNlaXZlZCwgZnVuZGluZ0Nvbm5lY3Rpb25TZXJ2aWNlLmdldEZ1bmRpbmdDb25uZWN0aW9uTW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5pbnZlc3RtZW50c19yZWNlaXZlZCA9IGxvb3BBbmRJbml0KGRlZk9iai5pbnZlc3RtZW50c19yZWNlaXZlZCwgZnVuZGluZ0Nvbm5lY3Rpb25TZXJ2aWNlLmdldEZ1bmRpbmdDb25uZWN0aW9uTW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5ncmFudHNfZ2l2ZW4gPSBsb29wQW5kSW5pdChkZWZPYmouZ3JhbnRzX2dpdmVuLCBmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2UuZ2V0RnVuZGluZ0Nvbm5lY3Rpb25Nb2RlbCk7XG4gICAgICAgICAgICB0aGlzLmludmVzdG1lbnRzX21hZGUgPSBsb29wQW5kSW5pdChkZWZPYmouaW52ZXN0bWVudHNfbWFkZSwgZnVuZGluZ0Nvbm5lY3Rpb25TZXJ2aWNlLmdldEZ1bmRpbmdDb25uZWN0aW9uTW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5kYXRhX2dpdmVuID0gbG9vcEFuZEluaXQoZGVmT2JqLmRhdGFfZ2l2ZW4sIGNvbm5lY3Rpb25TZXJ2aWNlLmdldENvbm5lY3Rpb25Nb2RlbCk7XG4gICAgICAgICAgICB0aGlzLmRhdGFfcmVjZWl2ZWQgPSBsb29wQW5kSW5pdChkZWZPYmouZGF0YV9yZWNlaXZlZCwgY29ubmVjdGlvblNlcnZpY2UuZ2V0Q29ubmVjdGlvbk1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMuY29sbGFib3JhdGlvbnMgPSBsb29wQW5kSW5pdChkZWZPYmouY29sbGFib3JhdGlvbnMsIGNvbm5lY3Rpb25TZXJ2aWNlLmdldENvbm5lY3Rpb25Nb2RlbCk7XG4gICAgICAgICAgICB0aGlzLmtleV9wZW9wbGUgPSBsb29wQW5kSW5pdChkZWZPYmoua2V5X3Blb3BsZSwgY29ubmVjdGlvblNlcnZpY2UuZ2V0Q29ubmVjdGlvbk1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMuZW1wbG95bWVudHMgPSBsb29wQW5kSW5pdChkZWZPYmouZW1wbG95bWVudHMsIGNvbm5lY3Rpb25TZXJ2aWNlLmdldENvbm5lY3Rpb25Nb2RlbCk7XG4gICAgICAgICAgICB0aGlzLnJldmVudWVzID0gbG9vcEFuZEluaXQoZGVmT2JqLnJldmVudWVzLCBmaW5hbmNlU2VydmljZS5nZXRGaW5hbmNlTW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5leHBlbnNlcyA9IGxvb3BBbmRJbml0KGRlZk9iai5leHBlbnNlcywgZmluYW5jZVNlcnZpY2UuZ2V0RmluYW5jZU1vZGVsKTtcbiAgICAgICAgICAgIHRoaXMuY2F0ZWdvcmllcyA9IGxvb3BBbmRJbml0KGRlZk9iai5jYXRlZ29yaWVzLCBjYXRlZ29yeVNlcnZpY2UuZ2V0Q2F0ZWdvcnlNb2RlbCk7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSAoaXNEZWYoZGVmT2JqLnR5cGUpID8gZGVmT2JqLnR5cGUgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMubmlja25hbWUgPSAoaXNEZWYoZGVmT2JqLm5pY2tuYW1lKSA/IGRlZk9iai5uaWNrbmFtZSA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy51cmwgPSAoaXNEZWYoZGVmT2JqLnVybCkgPyBkZWZPYmoudXJsIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLnR3aXR0ZXJfaGFuZGxlID0gKGlzRGVmKGRlZk9iai50d2l0dGVyX2hhbmRsZSkgPyBkZWZPYmoudHdpdHRlcl9oYW5kbGUgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuZW1wbG95ZWVzID0gKGlzRGVmKGRlZk9iai5lbXBsb3llZXMpID8gZGVmT2JqLmVtcGxveWVlcyA6IG51bGwpO1xuICAgICAgICAgICAgLy8gdGhpcy5yZWxhdGlvbnMgPSBsb29wQW5kSW5pdChkZWZPYmoucmVsYXRpb25zLCBjb25uZWN0aW9uU2VydmljZS5nZXRDb25uZWN0aW9uTW9kZWwpO1xuXG5cbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVEQk1vZGVsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRiTW9kZWwgPSBuZXcgRW50aXR5KHNlbGYpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwubG9jYXRpb25zLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwubG9jYXRpb25zLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZ3JhbnRzX3JlY2VpdmVkLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZ3JhbnRzX3JlY2VpdmVkLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZ3JhbnRzX2dpdmVuLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZ3JhbnRzX2dpdmVuLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuaW52ZXN0bWVudHNfcmVjZWl2ZWQucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5pbnZlc3RtZW50c19yZWNlaXZlZC5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmludmVzdG1lbnRzX21hZGUucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5pbnZlc3RtZW50c19tYWRlLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZGF0YV9naXZlbi5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmRhdGFfZ2l2ZW4ucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5kYXRhX3JlY2VpdmVkLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZGF0YV9yZWNlaXZlZC5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmNvbGxhYm9yYXRpb25zLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuY29sbGFib3JhdGlvbnMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5rZXlfcGVvcGxlLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwua2V5X3Blb3BsZS5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmVtcGxveW1lbnRzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZW1wbG95bWVudHMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5yZXZlbnVlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLnJldmVudWVzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZXhwZW5zZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5leHBlbnNlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmNhdGVnb3JpZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgZGJNb2RlbC5jYXRlZ29yaWVzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGRiTW9kZWwuZGVzY3JpcHRpb24gPSAnJztcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYk1vZGVsKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBkYk1vZGVsO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nZXRFbnRpdHlNb2RlbCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRW50aXR5KG9iaik7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5nZXRFbnRpdHlUeXBlcyA9IGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgcmV0dXJuIGVudGl0eVR5cGVzO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuZ2V0SW5mbHVlbmNlVHlwZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5mbHVlbmNlVHlwZXM7XG4gICAgICAgIH07XG5cbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuc2VydmljZSgnZW50aXR5U2VydmljZScsIGVudGl0eVNlcnZpY2VEZXBlbmRlbmNpZXMpO1xuXG5cbn0pKGFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI3LzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGZpbmFuY2VTZXJ2aWNlID0gW0ZpbmFuY2VTZXJ2aWNlXTtcblxuICAgIGZ1bmN0aW9uIGlzRGVmKG8pIHtcbiAgICAgICAgcmV0dXJuIG8gIT09IHVuZGVmaW5lZCAmJiBvICE9PSBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIEZpbmFuY2VTZXJ2aWNlKCkge1xuICAgICAgICBmdW5jdGlvbiBGaW5hbmNlKG9iaikge1xuICAgICAgICAgICAgdmFyIGRlZk9iaiA9IGlzRGVmKG9iaikgPyBvYmogOiB7fTtcbiAgICAgICAgICAgIHRoaXMuYW1vdW50ID0gKGlzRGVmKGRlZk9iai5hbW91bnQpICYmIGRlZk9iai5hbW91bnQgPj0gMCA/IGRlZk9iai5hbW91bnQgOiAwKTtcbiAgICAgICAgICAgIHRoaXMueWVhciA9IChpc0RlZihkZWZPYmoueWVhcikgJiYgZGVmT2JqLnllYXIgPj0gMTc1MCA/IGRlZk9iai55ZWFyIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmlkID0gKGlzRGVmKGRlZk9iai5pZCkgPyBkZWZPYmouaWQgOiBudWxsKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nZXRGaW5hbmNlTW9kZWwgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZpbmFuY2Uob2JqKTtcbiAgICAgICAgfTtcbiAgICB9XG5cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5zZXJ2aWNlKCdmaW5hbmNlU2VydmljZScsIGZpbmFuY2VTZXJ2aWNlKTtcblxufSkoYW5ndWxhcik7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI3LzE2LlxuICovXG5cbihmdW5jdGlvbihhbmd1bGFyKXtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBmdW5kaW5nQ29ubmVjdGlvblNlcnZpY2VEZXBlbmRlbmNpZXMgPSBbRnVuZGluZ0Nvbm5lY3Rpb25zXTtcblxuICAgIGZ1bmN0aW9uIGlzRGVmKG8pIHsgcmV0dXJuIG8gIT09IHVuZGVmaW5lZCAmJiBvICE9PSBudWxsOyB9XG5cbiAgICBmdW5jdGlvbiBGdW5kaW5nQ29ubmVjdGlvbnMoKSB7XG4gICAgICAgIGZ1bmN0aW9uIEZ1bmRpbmdDb25uZWN0aW9uKG9iaikge1xuICAgICAgICAgICAgdmFyIG9iaklzRGVmID0gaXNEZWYob2JqKTtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5ID0gKG9iaklzRGVmICYmIGlzRGVmKG9iai5lbnRpdHkpID8gb2JqLmVudGl0eSA6ICcnKTtcbiAgICAgICAgICAgIHRoaXMuYW1vdW50ID0gKG9iaklzRGVmICYmIGlzRGVmKG9iai5hbW91bnQpID8gb2JqLmFtb3VudDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLnllYXIgPSAob2JqSXNEZWYgJiYgaXNEZWYob2JqLnllYXIpID8gb2JqLnllYXIgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuaWQgPSAob2JqSXNEZWYgJiYgaXNEZWYob2JqLmlkKSA/IG9iai5pZCA6IG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nZXRGdW5kaW5nQ29ubmVjdGlvbk1vZGVsID0gZnVuY3Rpb24ob2JqKXtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRnVuZGluZ0Nvbm5lY3Rpb24ob2JqKTtcbiAgICAgICAgfTtcblxuXG5cbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxuICAgICAgICAuc2VydmljZSgnZnVuZGluZ0Nvbm5lY3Rpb25TZXJ2aWNlJywgZnVuZGluZ0Nvbm5lY3Rpb25TZXJ2aWNlRGVwZW5kZW5jaWVzKTtcblxuXG5cbn0pKGFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI3LzE2LlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGxvY2F0aW9uU2VydmljZURlcGVuZGVuY2llcyA9IFtMb2NhdGlvblNlcnZpY2VdO1xuXG5cblxuICAgIGZ1bmN0aW9uIExvY2F0aW9uU2VydmljZSgpe1xuXG4gICAgICAgIGZ1bmN0aW9uIGlzRGVmKG8pIHtcbiAgICAgICAgICAgIHJldHVybiBvICE9PSB1bmRlZmluZWQgJiYgbyAhPT0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIExvY2F0aW9uKG9iaikge1xuICAgICAgICAgICAgdmFyIGRlZk9iaiA9IGlzRGVmKG9iaikgPyBvYmogOiB7fTtcbiAgICAgICAgICAgIHRoaXMuYWRkcmVzc19saW5lID0gKGlzRGVmKGRlZk9iai5hZGRyZXNzX2xpbmUpID8gZGVmT2JqLmFkZHJlc3NfbGluZSA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5sb2NhbGl0eSA9IChpc0RlZihkZWZPYmoubG9jYWxpdHkpID8gZGVmT2JqLmxvY2FsaXR5IDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmRpc3RyaWN0ID0gKGlzRGVmKGRlZk9iai5kaXN0cmljdCkgPyBkZWZPYmouZGlzdHJpY3QgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMucG9zdGFsX2NvZGUgPSAoaXNEZWYoZGVmT2JqLnBvc3RhbF9jb2RlKSA/IGRlZk9iai5wb3N0YWxfY29kZSA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5jb3VudHJ5ID0gKGlzRGVmKGRlZk9iai5jb3VudHJ5KSA/IGRlZk9iai5jb3VudHJ5IDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmNvdW50cnlfY29kZSA9IChpc0RlZihkZWZPYmouY291bnRyeV9jb2RlKSA/IGRlZk9iai5jb3VudHJ5X2NvZGUgOiBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZXMgPSAoaXNEZWYoZGVmT2JqLmNvb3JkaW5hdGVzKSA/IGRlZk9iai5jb29yZGluYXRlcyA6IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5pZCA9IChpc0RlZihkZWZPYmouaWQpID8gZGVmT2JqLmlkIDogbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmZvcm1hdHRlZEFkZHJlc3MgPSAoaXNEZWYodGhpcy5hZGRyZXNzX2xpbmUpID8gdGhpcy5hZGRyZXNzX2xpbmUgKyAgJyAnIDogJycpXG4gICAgICAgICAgICAgICAgKyAoaXNEZWYodGhpcy5sb2NhbGl0eSkgPyB0aGlzLmxvY2FsaXR5ICsgJywgJyA6ICcnKVxuICAgICAgICAgICAgICAgICsgKGlzRGVmKHRoaXMuY291bnRyeV9jb2RlKSA/IHRoaXMuY291bnRyeV9jb2RlICsgJyAnIDogJycpXG4gICAgICAgICAgICAgICAgKyAoaXNEZWYodGhpcy5wb3N0YWxfY29kZSkgPyB0aGlzLnBvc3RhbF9jb2RlIDogJycpO1xuICAgICAgICAgICAgdGhpcy5mb3JtYXR0ZWRBZGRyZXNzID0gdGhpcy5mb3JtYXR0ZWRBZGRyZXNzLnRyaW0oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2V0TG9jYXRpb25Nb2RlbCA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBMb2NhdGlvbihvYmopO1xuICAgICAgICB9O1xuXG4gICAgfVxuXG5cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5zZXJ2aWNlKCdsb2NhdGlvblNlcnZpY2UnLCBsb2NhdGlvblNlcnZpY2VEZXBlbmRlbmNpZXMpO1xuXG59KShhbmd1bGFyKTsiLCIoZnVuY3Rpb24gKGFuZ3VsYXIsIGQzLCBMKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IFtcbiAgICAgICAgJyRzY29wZScsXG4gICAgICAgICckdGltZW91dCcsXG4gICAgICAgICdsZWFmbGV0RGF0YScsXG4gICAgICAgICdfJyxcbiAgICAgICAgJyRmaWx0ZXInLFxuICAgICAgICBtYXBDdHJsXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIG1hcEN0cmwoJHNjb3BlLCAkdGltZW91dCwgbGVhZmxldERhdGEsIF8sICRmaWx0ZXIpIHtcblxuICAgICAgICAkc2NvcGUub3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGNlbnRlciAgOiB7XG4gICAgICAgICAgICAgICAgbGF0IDogMjAuMDAsXG4gICAgICAgICAgICAgICAgbG5nIDogLTQwLjAwLFxuICAgICAgICAgICAgICAgIHpvb206IDNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgICAgIHRpbGVMYXllciAgICAgICAgIDogJ2h0dHBzOi8vYXBpLnRpbGVzLm1hcGJveC5jb20vdjQvbWFwYm94LmxpZ2h0L3t6fS97eH0ve3l9LnBuZz9hY2Nlc3NfdG9rZW49cGsuZXlKMUlqb2laR0YyYVdSc2NtNTBJaXdpWVNJNklqQTBNMlJrTnpNelpXSm1OekV6TkdZek1UZGhZVEV4WXpBeVptVTRaVEUxSW4wLlROWWxGdGEyVkl0cmtuNEwwWjlCSlEnLFxuICAgICAgICAgICAgICAgIHRpbGVMYXllck9wdGlvbnMgIDoge1xuICAgICAgICAgICAgICAgICAgICBkZXRlY3RSZXRpbmE6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHJldXNlVGlsZXMgIDogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHpvb21Db250cm9sICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRpb25Db250cm9sOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjcmVhdGVQaWVDaGFydCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgICA9IG9wdGlvbnMuZGF0YTtcbiAgICAgICAgICAgICAgICB2YXIgcGllICAgID0gZDMubGF5b3V0LnBpZSgpLnNvcnQobnVsbCkudmFsdWUoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQudmFsdWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGFyYyAgICA9IGQzLnN2Zy5hcmMoKS5vdXRlclJhZGl1cyhvcHRpb25zLnIpLmlubmVyUmFkaXVzKG9wdGlvbnMuciAtIDEwKTtcbiAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gb3B0aW9ucy5yICsgb3B0aW9ucy5zdHJva2VXaWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgdyAgICAgID0gY2VudGVyICogMjtcbiAgICAgICAgICAgICAgICB2YXIgaCAgICAgID0gdztcbiAgICAgICAgICAgICAgICB2YXIgc3ZnICAgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGQzLm5zLnByZWZpeC5zdmcsICdzdmcnKTtcbiAgICAgICAgICAgICAgICB2YXIgdmlzICAgID0gZDMuc2VsZWN0KHN2ZylcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEoZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3BpZWNoYXJ0JylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgdylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGFyY3MgPSB2aXMuc2VsZWN0QWxsKCcuYXJjJylcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEocGllKGRhdGEpKVxuICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnYXJjJylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIGNlbnRlciArICcsJyArIGNlbnRlciArICcpJyk7XG5cbiAgICAgICAgICAgICAgICAvLyB2YXIgbWFwID0gTC5tYXBib3gubWFwKCdtYXAnLCAnZXhhbXBsZXMubWFwLTlpanVrMjR5Jywge1xuICAgICAgICAgICAgICAgIC8vICAgICBtaW5ab29tOiAxLFxuICAgICAgICAgICAgICAgIC8vICAgICBtYXhab29tOiAyXG4gICAgICAgICAgICAgICAgLy8gfSkuc2V0VmlldyhbNDAsIC03NC41MF0sIDkpO1xuXG4gICAgICAgICAgICAgICAgYXJjcy5hcHBlbmQoJ3BhdGgnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZCcsIGFyYylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmRhdGEudHlwZSArICctYXJjJztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBhcmNzLmFwcGVuZChcInN2Zzp0ZXh0XCIpXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcInhcIiwgLTQgKiBvcHRpb25zLmNvdW50LnRvU3RyaW5nKCkubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImR5XCIsIDUpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJhcmNUZXh0XCIpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5YTUxTZXJpYWxpemVyID8gKG5ldyB3aW5kb3cuWE1MU2VyaWFsaXplcigpKS5zZXJpYWxpemVUb1N0cmluZyhzdmcpXG4gICAgICAgICAgICAgICAgICAgIDogc3ZnLnhtbCA/IHN2Zy54bWwgOiAnJztcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJlZEVudGl0aWVzID0gJGZpbHRlcignZmlsdGVyJykoJHNjb3BlLmVudGl0aWVzLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRpdHkuY29sbGFib3JhdGlvbnMubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBtYXAuaW52YWxpZGF0ZVNpemUoKTtcblxuICAgICAgICAgICAgICAgIG5ldyBMLkNvbnRyb2wuWm9vbSh7cG9zaXRpb246ICd0b3ByaWdodCd9KS5hZGRUbyhtYXApO1xuICAgICAgICAgICAgICAgIEwuY29udHJvbC5sb2NhdGUoXG4gICAgICAgICAgICAgICAgICAgIHtwb3NpdGlvbjogJ3RvcHJpZ2h0Jywgc2hvd1BvcHVwOiBmYWxzZSwgaWNvbjogJ2ZhIGZhLWxvY2F0aW9uLWFycm93J31cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC5hZGRUbyhtYXApO1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY2x1c3Rlckljb24oY2x1c3Rlcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gICAgICAgPSBjbHVzdGVyLmdldEFsbENoaWxkTWFya2VycygpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG90YWwgICAgICAgICAgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjbHVzdGVyTWFya2VycyA9IF8ucGx1Y2soY2hpbGRyZW4sICdvcHRpb25zJyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudHMgICAgICAgICA9IF8ubWFwKF8uY291bnRCeShjbHVzdGVyTWFya2VycywgJ3R5cGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGNvdW50LCB0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyd0eXBlJzogdHlwZSwgJ3ZhbHVlJzogY291bnR9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgICAgICAgICAgICAgID0gMjg7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHJva2VXaWR0aCAgICA9IDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpY29uRGltICAgICAgICA9IChyICsgc3Ryb2tlV2lkdGgpICogMjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGh0bWwgICAgICAgICAgID0gY3JlYXRlUGllQ2hhcnQoXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZGF0YTogY291bnRzLCByOiByLCBzdHJva2VXaWR0aDogc3Ryb2tlV2lkdGgsIGNvdW50OiB0b3RhbH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEwuRGl2SWNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sICAgICA6IGh0bWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdtYXJrZXItY2x1c3RlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZSA6IG5ldyBMLnBvaW50KGljb25EaW0sIGljb25EaW0pXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbWFya2VySWNvbiAgPSB7XG4gICAgICAgICAgICAgICAgICAgICdOb24tUHJvZml0JzogTC5pY29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25VcmwgOiAnaW1nL21hcmtlci1ub25wcm9mLnN2ZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzYwLCA2MF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICdGb3ItUHJvZml0JzogTC5pY29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25VcmwgOiAnaW1nL21hcmtlci1wcm9mLnN2ZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzYwLCA2MF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICdJbmRpdmlkdWFsJzogTC5pY29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25VcmwgOiAnaW1nL21hcmtlci1pbmQuc3ZnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbNjAsIDYwXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgJ0dvdmVybm1lbnQnOiBMLmljb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVybCA6ICdpbWcvbWFya2VyLWdvdi5zdmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFs2MCwgNjBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBtYXJrZXJzID0gTC5tYXJrZXJDbHVzdGVyR3JvdXAoe1xuXG4gICAgICAgICAgICAgICAgICAgIHNwaWRlcmZ5T25NYXhab29tOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzaG93Q292ZXJhZ2VPbkhvdmVyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaWNvbkNyZWF0ZUZ1bmN0aW9uOiBjbHVzdGVySWNvbixcbiAgICAgICAgICAgICAgICAgICAgbWF4Q2x1c3RlclJhZGl1czogMzAsXG4gICAgICAgICAgICAgICAgICAgIHNwaWRlcmZ5RGlzdGFuY2VNdWx0aXBsaWVyOiAxLjNcbiAgICAgICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gb3V0ZXJMb29wKGVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBpbm5lckxvb3AobG9jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV8uZXZlcnkobG9jLmNvb3JkaW5hdGVzKSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvYy5jb29yZGluYXRlc1swXS50b0ZpeGVkKDUpID09PSAnNDAuNzgyMDAnICYmIGxvYy5jb29yZGluYXRlc1sxXS50b0ZpeGVkKDUpID09PSAnLTczLjgzMTcwJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYy5jb29yZGluYXRlc1swXSA9IDQwLjc3MDY1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYy5jb29yZGluYXRlc1sxXSA9IC03My45NzQwNjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtID0gTC5tYXJrZXIobG9jLmNvb3JkaW5hdGVzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogbWFya2VySWNvbltlbnRpdHkudHlwZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RpdGxlJzogZW50aXR5Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VudGl0eV9pZCc6IGVudGl0eS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWVzc2FnZSc6IGVudGl0eS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0eXBlJzogZW50aXR5LnR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2Vycy5hZGRMYXllcihtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaChlbnRpdHkubG9jYXRpb25zLCBpbm5lckxvb3ApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiT3JpZ2luYWw6ICVPXCIsICRzY29wZS5lbnRpdGllcyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGaWx0ZXJlZDogJU9cIiwgZmlsdGVyZWRFbnRpdGllcyk7XG5cbiAgICAgICAgICAgICAgICBfLmZvckVhY2goZmlsdGVyZWRFbnRpdGllcywgb3V0ZXJMb29wKTtcbiAgICAgICAgICAgICAgICBtYXAuYWRkTGF5ZXIobWFya2Vycyk7XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBvbkxvY2F0aW9uRXJyb3IobGVhZmxldEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobGVhZmxldEVycm9yLm1lc3NhZ2UgKyBcIiAgJU9cIiwgbGVhZmxldEVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBtYXAub24oJ2xvY2F0aW9uZXJyb3InLCBvbkxvY2F0aW9uRXJyb3IpO1xuICAgICAgICAgICAgICAgIC8vIG1hcC5sb2NhdGUoe3NldFZpZXc6IHRydWUsIG1heFpvb206IDExfSk7XG4gICAgICAgICAgICAgICAgbWFya2Vycy5vbignY2xpY2snLCBmdW5jdGlvbiAobWFya2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXRFbnRpdHlJRChtYXJrZXIubGF5ZXIub3B0aW9ucy5lbnRpdHlfaWQpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPSAkc2NvcGUuY3VycmVudEVudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCAgID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zZXR0aW5nc0VuYWJsZWQgJiYgJHNjb3BlLm1vYmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvZ2dsZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbWFwLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCAgID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICRzY29wZS4kb24oJ3NlbGVjdEl0ZW0nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb29yZGluYXRlcyA9ICRzY29wZS5jdXJyZW50RW50aXR5LmxvY2F0aW9ucy5sZW5ndGggPiAwID8gXy5wbHVjayhcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jdXJyZW50RW50aXR5LmxvY2F0aW9ucywgJ2Nvb3JkaW5hdGVzJykgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29vcmRpbmF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnNldFZpZXcoY29vcmRpbmF0ZXNbMF0sIDExKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG5cbiAgICAgICAgLmNvbnRyb2xsZXIoJ21hcEN0cmwnLCBkZXBlbmRlbmNpZXMpO1xufSkoYW5ndWxhciwgZDMsIEwpO1xuIiwiKGZ1bmN0aW9uIChhbmd1bGFyLCBSVFApIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBkZXBlbmRlbmNpZXMgPSBbXG4gICAgICAgICckc2NvcGUnLFxuICAgICAgICAnJGh0dHAnLFxuICAgICAgICAnXycsXG4gICAgICAgICckZmlsdGVyJyxcbiAgICAgICAgJ2NvbmZpZycsXG4gICAgICAgIG5ldHdvcmtDdHJsXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIGlzRGVmKG8pIHtcbiAgICAgICAgcmV0dXJuIG8gIT09IHVuZGVmaW5lZCAmJiBvICE9PSBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5ldHdvcmtDdHJsKCRzY29wZSwgJGh0dHAsIF8sICRmaWx0ZXIsIGNvbmZpZykge1xuICAgICAgICAvLyBUT0RPOiBNYWtlIGEgaGFzaG1hcCBvbiB0aGUgYmFja2VuZCBvZiBpZCAtPiBwb3NpdGlvbiwgdGhlbiB1c2Ugc291cmNlOlxuICAgICAgICAvLyBlbnRpdGllc1ttYXBbc291cmNlaWRdXSB0byBnZXQgbm9kZXMuIFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8xNjgyNDMwOFxuICAgICAgICAkc2NvcGUuaXNMb2FkaW5nICAgPSB0cnVlO1xuICAgICAgICAkc2NvcGUuY29ubmVjdGlvbnMgPSB7fTtcblxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9jb2RlcndhbGwuY29tL3Avbmdpc21hL3NhZmUtYXBwbHktaW4tYW5ndWxhci1qc1xuICAgICAgICAkc2NvcGUuc2FmZUFwcGx5ID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICB2YXIgcGhhc2UgPSB0aGlzLiRyb290LiQkcGhhc2U7XG4gICAgICAgICAgICBpZiAocGhhc2UgPT09ICckYXBwbHknIHx8IHBoYXNlID09PSAnJGRpZ2VzdCcpIHtcbiAgICAgICAgICAgICAgICBpZiAoZm4gJiYgKHR5cGVvZihmbikgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRhcHBseShmbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLiRvbignZW50aXRpZXNMb2FkZWQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRTY29wZSA9IGV2ZW50LnRhcmdldFNjb3BlO1xuICAgICAgICAgICAgJGh0dHAuZ2V0KGNvbmZpZy5hcGlIb3N0ICsgJ2FwaS9jb25uZWN0aW9ucycpLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyZWRFbnRpdGllcyAgICA9ICRmaWx0ZXIoJ2ZpbHRlcicpKCRzY29wZS5lbnRpdGllcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW50aXR5LmNvbGxhYm9yYXRpb25zLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PSAkc2NvcGUubWluQ29ubmVjdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyZWRDb25uZWN0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChfLmtleXMoZGF0YS5jb25uZWN0aW9ucyksIGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICRzY29wZS5jb25uZWN0aW9uc1t0eXBlXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZENvbm5lY3Rpb25zW3R5cGVdID0gW107XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGRhdGEuY29ubmVjdGlvbnMsIGZ1bmN0aW9uIChjb25uZWN0aW9ucywgdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBfLmZvckVhY2goY29ubmVjdGlvbnMsIGZ1bmN0aW9uIChjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlTm9kZSA9IF8uZmluZChmaWx0ZXJlZEVudGl0aWVzLCB7J2lkJzogY29ubmVjdGlvbi5zb3VyY2V9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXROb2RlID0gXy5maW5kKGZpbHRlcmVkRW50aXRpZXMsIHsnaWQnOiBjb25uZWN0aW9uLnRhcmdldH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoIGlzRGVmKHNvdXJjZU5vZGUpICYmIGlzRGVmKHRhcmdldE5vZGUpICkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkQ29ubmVjdGlvbnNbdHlwZV0ucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7J3NvdXJjZSc6IHNvdXJjZU5vZGUsICd0YXJnZXQnOiB0YXJnZXROb2RlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAkc2NvcGUuY29ubmVjdGlvbnNbdHlwZV0ucHVzaCh7J3NvdXJjZSc6IHNvdXJjZU5vZGUsICd0YXJnZXQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGFyZ2V0Tm9kZX0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHNob3cgbGFiZWxzIG9uIHRvcCA1IG1vc3QgY29ubmVjdGVkIGVudGl0aWVzIGluaXRpYWxseS5cbiAgICAgICAgICAgICAgICBfLmZvckVhY2goXy5rZXlzKCRzY29wZS5lbnRpdHlUeXBlcyksIGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIHRvcCA1IG1vc3QtY29ubmVjdGVkIGVudGl0aWVzLlxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9wNSA9IF8udGFrZVJpZ2h0KF8uc29ydEJ5KF8uZmlsdGVyKCRzY29wZS5lbnRpdGllcywgeyd0eXBlJzogdHlwZX0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjb2xsYWJvcmF0aW9ucy5sZW5ndGgnKSwgNSk7XG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaCh0b3A1LCBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkud2VsbGNvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRFbnRpdGllcyA9IF8uc29ydEJ5KGZpbHRlcmVkRW50aXRpZXMsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoZS53ZWxsY29ubmVjdGVkKSA/IDEgOiAwO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5tb2JpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhd05ldHdvcmtNb2JpbGUoZmlsdGVyZWRFbnRpdGllcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhd05ldHdvcmsoZmlsdGVyZWRFbnRpdGllcywgZmlsdGVyZWRDb25uZWN0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS4kb24oJ3ZpZXdDaGFuZ2UnLCBmdW5jdGlvbiAodmlld09iaikge1xuICAgICAgICAgICAgY29uc29sZS5sb2codmlld09iaik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBkcmF3TmV0d29ya01vYmlsZSA9IGZ1bmN0aW9uIChlbnRpdHlBcnJheSkge1xuICAgICAgICAgICAgdmFyIGRhdGEgICAgICAgID0ge1xuICAgICAgICAgICAgICAgIG5vZGVzOiAkc2NvcGUuZW50aXRpZXMsXG4gICAgICAgICAgICAgICAgbGlua3M6IF8uZmxhdHRlbihfLnZhbHVlcygkc2NvcGUuY29ubmVjdGlvbnMpKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBjb2xvcnMgICAgICA9IHtcbiAgICAgICAgICAgICAgICAnR292ZXJubWVudCcgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2ZvY3VzZWQnICA6ICdyZ2JhKDI0MiwgODAsIDM0LCAxKScsXG4gICAgICAgICAgICAgICAgICAgICd1bmZvY3VzZWQnOiAncmdiYSgyNDIsIDgwLCAzNCwgMC4xKSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdOb24tUHJvZml0JyAgIDoge1xuICAgICAgICAgICAgICAgICAgICAnZm9jdXNlZCcgIDogJ3JnYmEoMzAsIDE0NCwgMjU1LCAxKScsXG4gICAgICAgICAgICAgICAgICAgICd1bmZvY3VzZWQnOiAncmdiYSgzMCwgMTQ0LCAyNTUsIDAuMSknXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnRm9yLVByb2ZpdCcgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2ZvY3VzZWQnICA6ICdyZ2JhKDEyNywgMTg2LCAwLCAxKScsXG4gICAgICAgICAgICAgICAgICAgICd1bmZvY3VzZWQnOiAncmdiYSgxMjcsIDE4NiwgMCwgMC4xKSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdJbmRpdmlkdWFsJyAgIDoge1xuICAgICAgICAgICAgICAgICAgICAnZm9jdXNlZCcgIDogJ3JnYmEoMjU1LCAxNzUsIDQ0LCAxKScsXG4gICAgICAgICAgICAgICAgICAgICd1bmZvY3VzZWQnOiAncmdiYSgyNTUsIDE3NSwgNDQsIDAuMSknXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnRnVuZGluZycgICAgICA6IHsnZm9jdXNlZCc6ICcjRkY3NDYwJywgJ3VuZm9jdXNlZCc6ICcjRTNERkU0J30sXG4gICAgICAgICAgICAgICAgJ0RhdGEnICAgICAgICAgOiB7J2ZvY3VzZWQnOiAnIzg0QzJGRicsICd1bmZvY3VzZWQnOiAnI0UzREZFNCd9LFxuICAgICAgICAgICAgICAgICdFbXBsb3ltZW50JyAgIDogeydmb2N1c2VkJzogJyNFRTczRkYnLCAndW5mb2N1c2VkJzogJyNFM0RGRTQnfSxcbiAgICAgICAgICAgICAgICAnQ29sbGFib3JhdGlvbic6IHsnZm9jdXNlZCc6ICcjRkZEOTU1JywgJ3VuZm9jdXNlZCc6ICcjRTNERkU0J31cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgY2FudmFzRm9yY2UgPSAkKCcjY2FudmFzLWZvcmNlJyksXG4gICAgICAgICAgICAgICAgd2lkdGggICAgICAgPSBjYW52YXNGb3JjZS53aWR0aCgpLFxuICAgICAgICAgICAgICAgIGhlaWdodCAgICAgID0gY2FudmFzRm9yY2UuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgIHZhciBvZmZzZXRzICAgICAgICA9IHtcbiAgICAgICAgICAgICAgICAnR292ZXJubWVudCc6IFstOTAsIC05MCAtIChoZWlnaHQgLyA3KV0sXG4gICAgICAgICAgICAgICAgJ05vbi1Qcm9maXQnOiBbLTkwLCA5MCAtIChoZWlnaHQgLyA3KV0sXG4gICAgICAgICAgICAgICAgJ0Zvci1Qcm9maXQnOiBbOTAsIC05MCAtIChoZWlnaHQgLyA3KV0sXG4gICAgICAgICAgICAgICAgJ0luZGl2aWR1YWwnOiBbOTAsIDkwIC0gKGhlaWdodCAvIDcpXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBpc0luc2lkZUNpcmNsZSA9IGZ1bmN0aW9uICh4LCB5LCBjeCwgY3ksIHJhZGl1cykge1xuICAgICAgICAgICAgICAgIHZhciBkeCA9IHggLSBjeCxcbiAgICAgICAgICAgICAgICAgICAgZHkgPSB5IC0gY3k7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5IDw9IHJhZGl1cyAqIHJhZGl1cztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgc2NhbGUgICAgICAgICAgPSB7XG4gICAgICAgICAgICAgICAgJ2VtcGxveWVlcyc6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlID4gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmxvZyhlKSAvIDM7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMS41O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnZm9sbG93ZXJzJzogZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGYgPiAwICYmIGYgPD0gNTAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMS41O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGYgPiA1MDAgJiYgZiA8PSA1MDAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMS44O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGYgPiA1MDAwICYmIGYgPD0gMTAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGYgPiAxMDAwMCAmJiBmIDw9IDI1MDAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMi41O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGYgPiAyNTAwMCAmJiBmIDw9IDkwMDAwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZiA+IDkwMDAwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBjYW52YXMgICAgICAgICAgICA9IGQzLnNlbGVjdCgnZGl2I2NhbnZhcy1mb3JjZScpLmFwcGVuZCgnY2FudmFzJyk7XG4gICAgICAgICAgICB2YXIgY29udGV4dCAgICAgICAgICAgPSBjYW52YXMubm9kZSgpLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICB2YXIgZGV2aWNlUGl4ZWxSYXRpbyAgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxLFxuICAgICAgICAgICAgICAgIGJhY2tpbmdTdG9yZVJhdGlvID0gY29udGV4dC53ZWJraXRCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm9CYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgMSxcbiAgICAgICAgICAgICAgICByYXRpbyAgICAgICAgICAgICA9IGRldmljZVBpeGVsUmF0aW8gLyBiYWNraW5nU3RvcmVSYXRpbztcblxuICAgICAgICAgICAgY2FudmFzXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgd2lkdGggKiByYXRpbylcbiAgICAgICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgaGVpZ2h0ICogcmF0aW8pXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ25ldHdvcmtDYW52YXMnKTtcblxuICAgICAgICAgICAgdmFyIGNhbnZhc0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ldHdvcmtDYW52YXMnKTtcblxuICAgICAgICAgICAgY2FudmFzRWwuc3R5bGUud2lkdGggID0gd2lkdGggKyAncHgnO1xuICAgICAgICAgICAgY2FudmFzRWwuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgICAgIGNvbnRleHQuc2NhbGUocmF0aW8sIHJhdGlvKTtcbiAgICAgICAgICAgICRzY29wZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgc2NhbGV6b29tICA9IDE7XG4gICAgICAgICAgICAkKCcjbmV0d29ya0NhbnZhcycpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9YICAgICAgICAgICAgICAgICAgICAgID0gZS5vZmZzZXRYIC8gc2NhbGV6b29tLFxuICAgICAgICAgICAgICAgICAgICBvWSAgICAgICAgICAgICAgICAgICAgICA9IGUub2Zmc2V0WSAvIHNjYWxlem9vbTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xpY2Vuc2UgICAgICAgICAgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciBlbnRpdHlGb3VuZCAgICAgICAgICAgICA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGRhdGEubm9kZXMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgayA9IHNjYWxlWyRzY29wZS5zaXplQnldKGRbJHNjb3BlLnNpemVCeV0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJbnNpZGVDaXJjbGUob1gsIG9ZLCBkLnggKyBvZmZzZXRzW2QudHlwZV1bMF0sIGQueSArIG9mZnNldHNbZC50eXBlXVsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQuNSAqIGspKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHlkZVBhcnRpYWxzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ3NldEN1cnJlbnRFbnRpdHknLCB7dmFsdWU6IGR9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eUZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXRFbnRpdHkoZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPSBkO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXMoZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIWVudGl0eUZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnc2V0Q3VycmVudExvY2F0aW9uJywge3ZhbHVlOiBudWxsfSk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnc2V0Q3VycmVudEVudGl0eScsIHt2YWx1ZTogbnVsbH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aWNrKCk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgICQoXCIjZGV0YWlscy1wYW5lbFwiKS5zY3JvbGxUb3AoMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBjb3VudCAgICAgICA9IDA7XG4gICAgICAgICAgICB2YXIgaW5pdGlhbExvYWQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIGRyYXdPblRvcCAgID0gW107XG4gICAgICAgICAgICB2YXIgYWxsTm9kZXMgICAgPSBbXTtcbiAgICAgICAgICAgIHZhciBzaG93RW50aXRpZXM7XG4gICAgICAgICAgICBkYXRhLm5vZGVzLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNEZWYoZW50aXR5QXJyYXlbZC50eXBlXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jdXJyZW50TG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkLm5hbWUgaW4gJHNjb3BlLmN1cnJlbnRMb2NhdGlvbi5kaWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhd09uVG9wLnB1c2goZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoISRzY29wZS5jdXJyZW50RW50aXR5IHx8IHNob3dFbnRpdGllc1tkLmlkXSB8fCBkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9PT0gJHNjb3BlLmN1cnJlbnRFbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY3VycmVudEVudGl0eSB8fCBkLndlbGxjb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3T25Ub3AucHVzaChkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsTm9kZXMucHVzaChkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhbGxOb2RlcyAgPSBhbGxOb2Rlcy5jb25jYXQoZHJhd09uVG9wKTtcbiAgICAgICAgICAgIHZhciB0aWNrICA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHZhciBwaW5jaFpvb207XG5cbiAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgICAgIGlmIChjb3VudCA+IDcwICYmIGluaXRpYWxMb2FkKSB7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxMb2FkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGZvcmNlLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgcGluY2hab29tID0gbmV3IFJUUC5QaW5jaFpvb20oJCgnI25ldHdvcmtDYW52YXMnKSwge30pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBzaG93RW50aXRpZXMgICAgICAgID0ge307XG4gICAgICAgICAgICAgICAgLy8gRHJhdyBsaW5rcy5cbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJyNjY2MnO1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaCgkc2NvcGUuY29ubmVjdGlvbnMsIGZ1bmN0aW9uIChjb25uZWN0aW9ucywgdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNDb25UeXBlRGVmaW5lZCAgICAgICAgICA9IGlzRGVmKCRzY29wZS5jb25uZWN0aW9uVHlwZXNbdHlwZV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRW50aXR5VGFyZ2V0VHlwZURlZmluZWQgPSBpc0RlZigkc2NvcGUuZW50aXR5VHlwZXNbZC50YXJnZXQudHlwZV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRW50aXR5U291cmNlVHlwZURlZmluZWQgPSBpc0RlZigkc2NvcGUuZW50aXR5VHlwZXNbZC5zb3VyY2UudHlwZV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGlzQ29uVHlwZURlZmluZWQgJiYgaXNFbnRpdHlUYXJnZXRUeXBlRGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgaXNFbnRpdHlTb3VyY2VUeXBlRGVmaW5lZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0RlZigkc2NvcGUuY3VycmVudExvY2F0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkLnNvdXJjZS5uYW1lIGluICRzY29wZS5jdXJyZW50TG9jYXRpb24uZGljdCAmJiBkLnRhcmdldC5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluICRzY29wZS5jdXJyZW50TG9jYXRpb24uZGljdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBNb2RpZmljYXRpb24gLSBCb3VuZGFyaWVzICAgICAgdmFyIGsgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzY2FsZVskc2NvcGUuc2l6ZUJ5XShkWyRzY29wZS5zaXplQnldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgayA9IHNjYWxlWyRzY29wZS5zaXplQnldKChkLnNvdXJjZSlbJHNjb3BlLnNpemVCeV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhNYXRoLm1heCg0LjUgKiBrLCBNYXRoLm1pbih3aWR0aCAtIDQuNSAqIGssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQuc291cmNlLnhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBvZmZzZXRzW2Quc291cmNlLnR5cGVdWzBdKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KDQuNSAqIGssIE1hdGgubWluKGhlaWdodCAtIDQuNSAqIGssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQuc291cmNlLnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBvZmZzZXRzW2Quc291cmNlLnR5cGVdWzFdKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhNYXRoLm1heCg0LjUgKiBrLCBNYXRoLm1pbih3aWR0aCAtIDQuNSAqIGssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQudGFyZ2V0LnhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBvZmZzZXRzW2QudGFyZ2V0LnR5cGVdWzBdKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KDQuNSAqIGssIE1hdGgubWluKGhlaWdodCAtIDQuNSAqIGssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQudGFyZ2V0LnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBvZmZzZXRzW2QudGFyZ2V0LnR5cGVdWzFdKSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBjb2xvcnNbdHlwZV1bJ2ZvY3VzZWQnXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRGVmKCRzY29wZS5jdXJyZW50RW50aXR5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBkLnNvdXJjZSA9PT0gJHNjb3BlLmN1cnJlbnRFbnRpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgZC50YXJnZXQgPT09ICRzY29wZS5jdXJyZW50RW50aXR5KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgTW9kaWZpY2F0aW9uIC0gQm91bmRhcmllc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrID0gc2NhbGVbJHNjb3BlLnNpemVCeV0oKGQuc291cmNlKVskc2NvcGUuc2l6ZUJ5XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKE1hdGgubWF4KDQuNSAqIGssIE1hdGgubWluKHdpZHRoIC0gNC41ICogayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5zb3VyY2UueFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIG9mZnNldHNbZC5zb3VyY2UudHlwZV1bMF0pKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoNC41ICogaywgTWF0aC5taW4oaGVpZ2h0IC0gNC41ICogayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5zb3VyY2UueVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIG9mZnNldHNbZC5zb3VyY2UudHlwZV1bMV0pKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKE1hdGgubWF4KDQuNSAqIGssIE1hdGgubWluKHdpZHRoIC0gNC41ICogayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC50YXJnZXQueFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIG9mZnNldHNbZC50YXJnZXQudHlwZV1bMF0pKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoNC41ICogaywgTWF0aC5taW4oaGVpZ2h0IC0gNC41ICogayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC50YXJnZXQueVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIG9mZnNldHNbZC50YXJnZXQudHlwZV1bMV0pKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGNvbG9yc1t0eXBlXVsnZm9jdXNlZCddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93RW50aXRpZXNbZC5zb3VyY2UuaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0VudGl0aWVzW2QudGFyZ2V0LmlkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgZW50aXR5TmFtZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBhbGxOb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZW50aXR5VHlwZXNbZC50eXBlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZvY3VzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmN1cnJlbnRMb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkLm5hbWUgaW4gJHNjb3BlLmN1cnJlbnRMb2NhdGlvbi5kaWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzICAgICAgICAgICAgICAgPSAnZm9jdXNlZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHlOYW1lcy5wdXNoKGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSknO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1cyAgICAgICAgICAgICAgID0gJ3VuZm9jdXNlZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuY3VycmVudEVudGl0eSB8fCBzaG93RW50aXRpZXNbZC5pZF0gfHwgZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID09PSAkc2NvcGUuY3VycmVudEVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1cyAgICAgICAgICAgICAgID0gJ2ZvY3VzZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jdXJyZW50RW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHlOYW1lcy5wdXNoKGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQud2VsbGNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eU5hbWVzLnB1c2goZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzICAgICAgICAgICAgICAgPSAndW5mb2N1c2VkJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgayA9IHNjYWxlWyRzY29wZS5zaXplQnldKGRbJHNjb3BlLnNpemVCeV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gY29sb3JzW2QudHlwZV1bZm9jdXNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5hcmMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoNC41ICogaywgTWF0aC5taW4od2lkdGggLSA0LjUgKiBrLCBkLnggKyBvZmZzZXRzW2QudHlwZV1bMF0pKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCg0LjUgKiBrLCBNYXRoLm1pbihoZWlnaHQgLSA0LjUgKiBrLCBkLnkgKyBvZmZzZXRzW2QudHlwZV1bMV0pKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0LjUgKiBrLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGVudGl0eU5hbWVzLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgayAgICAgICAgICAgICAgID0gc2NhbGVbJHNjb3BlLnNpemVCeV0oZFskc2NvcGUuc2l6ZUJ5XSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIzMzMzMzMyc7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuYW1lICAgICAgICAgICAgPSBkLm5pY2tuYW1lID8gZC5uaWNrbmFtZSA6IGQubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5mb250ICAgICAgICA9XG4gICAgICAgICAgICAgICAgICAgICAgICAnbGlnaHRlciAxMXB4IFNlZ29lIFVJLCBIZWx2ZXRpY2FOZXVlLUxpZ2h0LCBzYW5zLXNlcmlmLWxpZ2h0LCBzYW5zLXNlcmlmJztcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KG5hbWUsIE1hdGgubWF4KDQuNSAqIGssIE1hdGgubWluKHdpZHRoIC0gNC41ICogayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQueCArIG9mZnNldHNbZC50eXBlXVswXSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIG5hbWUubGVuZ3RoICogMiwgTWF0aC5tYXgoNC41ICogayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihoZWlnaHQgLSA0LjUgKiBrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQueSArIG9mZnNldHNbZC50eXBlXVsxXSkpICsgMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMDApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBmb3JjZSA9IGQzLmxheW91dC5mb3JjZSgpXG4gICAgICAgICAgICAgICAgLnNpemUoW3dpZHRoLCBoZWlnaHRdKVxuICAgICAgICAgICAgICAgIC5ub2RlcyhkYXRhLm5vZGVzKVxuICAgICAgICAgICAgICAgIC5saW5rcyhkYXRhLmxpbmtzKVxuICAgICAgICAgICAgICAgIC5vbihcInRpY2tcIiwgdGljaylcbiAgICAgICAgICAgICAgICAuY2hhcmdlKC0yKVxuICAgICAgICAgICAgICAgIC5saW5rU3RyZW5ndGgoMC4xKVxuICAgICAgICAgICAgICAgIC5saW5rRGlzdGFuY2UoNTApXG4gICAgICAgICAgICAgICAgLnN0YXJ0KCk7XG5cbiAgICAgICAgICAgICRzY29wZS4kb24oJ3RvZ2dsZU5vZGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGljaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkc2NvcGUuJG9uKCd0b2dnbGVMaW5rJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRpY2soKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbmV0d29yayBmb3VuZCcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkc2NvcGUuJG9uKCdjaGFuZ2VTaXplQnknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGljaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkc2NvcGUuJG9uKCdzZWxlY3RJdGVtJywgZnVuY3Rpb24gKGV2ZW50LCBpdGVtKSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2xvY2F0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uID0gJHNjb3BlLmN1cnJlbnRMb2NhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdzZXRDdXJyZW50RW50aXR5Jywge3ZhbHVlOiBudWxsfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPSAkc2NvcGUuY3VycmVudEVudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdzZXRDdXJyZW50TG9jYXRpb24nLCB7dmFsdWU6IG51bGx9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgIHRpY2soKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBkcmF3TmV0d29yayA9IGZ1bmN0aW9uIChlbnRpdHlBcnJheSwgY29ubmVjdGlvbkFycmF5KSB7XG4gICAgICAgICAgICAkc2NvcGUuaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoJyNuZXR3b3JrJyk7XG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIHZhciBib3VuZHMgICAgICAgICAgID0gc3ZnLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgICAgICAgICAgID0gYm91bmRzLmhlaWdodDtcbiAgICAgICAgICAgIHZhciB3aWR0aCAgICAgICAgICAgID0gYm91bmRzLndpZHRoO1xuICAgICAgICAgICAgdmFyIG9mZnNldFNjYWxlICAgICAgPSA2O1xuICAgICAgICAgICAgdmFyIGRlZmF1bHROb2RlU2l6ZSAgPSA3O1xuICAgICAgICAgICAgdmFyIG9mZnNldHMgICAgICAgICAgPSB7XG4gICAgICAgICAgICAgICAgJ0luZGl2aWR1YWwnOiB7J3gnOiAxLCAneSc6IDF9LFxuICAgICAgICAgICAgICAgICdGb3ItUHJvZml0Jzogeyd4JzogMSwgJ3knOiAtMX0sXG4gICAgICAgICAgICAgICAgJ05vbi1Qcm9maXQnOiB7J3gnOiAtMSwgJ3knOiAxfSxcbiAgICAgICAgICAgICAgICAnR292ZXJubWVudCc6IHsneCc6IC0xLCAneSc6IC0xfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBsb3dlckJvdW5kUmFkaXVzID0gMTA7XG4gICAgICAgICAgICB2YXIgdXBwZXJCb3VuZFJhZGl1cyA9IDUwO1xuICAgICAgICAgICAgdmFyIG1heEVtcGxveWVlcyAgICAgPSBkMy5tYXgoZW50aXR5QXJyYXksIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChlbC5lbXBsb3llZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgbWF4Rm9sbG93ZXJzICAgICA9IGQzLm1heChlbnRpdHlBcnJheSwgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGVsLmZvbGxvd2Vycyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBzY2FsZSAgICAgICAgICAgID0ge1xuICAgICAgICAgICAgICAgICdlbXBsb3llZXMnOiBkMy5zY2FsZS5zcXJ0KCkuZG9tYWluKFsxMCwgbWF4RW1wbG95ZWVzXSlcbiAgICAgICAgICAgICAgICAgICAgLnJhbmdlKFtsb3dlckJvdW5kUmFkaXVzLCB1cHBlckJvdW5kUmFkaXVzXSksXG4gICAgICAgICAgICAgICAgJ2ZvbGxvd2Vycyc6IGQzLnNjYWxlLnNxcnQoKS5kb21haW4oWzEwLCBtYXhGb2xsb3dlcnNdKVxuICAgICAgICAgICAgICAgICAgICAucmFuZ2UoW2xvd2VyQm91bmRSYWRpdXMsIHVwcGVyQm91bmRSYWRpdXNdKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBsaW5rcyAgICAgICAgICAgID0ge307XG4gICAgICAgICAgICB2YXIgZm9yY2UgICAgICAgICAgICA9IGQzLmxheW91dC5mb3JjZSgpXG4gICAgICAgICAgICAgICAgLnNpemUoW3dpZHRoLCBoZWlnaHRdKVxuICAgICAgICAgICAgICAgIC5ub2RlcyhlbnRpdHlBcnJheSlcbiAgICAgICAgICAgICAgICAubGlua3MoXy5mbGF0dGVuKF8udmFsdWVzKGNvbm5lY3Rpb25BcnJheSkpKVxuICAgICAgICAgICAgICAgIC5jaGFyZ2UoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuZW1wbG95ZWVzID8gLTIgKiBzY2FsZS5lbXBsb3llZXMoZC5lbXBsb3llZXMpIDogLTIwO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmxpbmtTdHJlbmd0aCgwKVxuICAgICAgICAgICAgICAgIC5saW5rRGlzdGFuY2UoNTApO1xuXG4gICAgICAgICAgICBfLmZvckVhY2goY29ubmVjdGlvbkFycmF5LCBmdW5jdGlvbiAoY29ubmVjdGlvbnMsIHR5cGUpIHtcbiAgICAgICAgICAgICAgICBsaW5rc1t0eXBlXSA9IHN2Zy5zZWxlY3RBbGwoJy5saW5rIC4nICsgdHlwZSArICctbGluaycpXG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKGNvbm5lY3Rpb25zKVxuICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2xpbmUnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0RlZihkLnNvdXJjZSkgfHwgIWlzRGVmKGQudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZC50eXBlID0gdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnbGluayAnICsgdHlwZSArICctbGluayAnICsgZC5zb3VyY2UudHlwZSArICctbGluayAnICsgZC50YXJnZXQudHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgJy1saW5rJztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIG5vZGUgPSBzdmcuc2VsZWN0QWxsKCcubm9kZScpXG4gICAgICAgICAgICAgICAgLmRhdGEoZW50aXR5QXJyYXkpXG4gICAgICAgICAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdnJylcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ25vZGUgJyArIGQudHlwZSArICctbm9kZSc7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2FsbChmb3JjZS5kcmFnKTtcblxuICAgICAgICAgICAgbm9kZS5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3InLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5lbXBsb3llZXMgPyBzY2FsZVsnZW1wbG95ZWVzJ10oZC5lbXBsb3llZXMpIDogZGVmYXVsdE5vZGVTaXplO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBub2RlLmFwcGVuZCgndGV4dCcpXG4gICAgICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQubmlja25hbWUgPyBkLm5pY2tuYW1lIDogZC5uYW1lO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2R4JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKC0wLjA2NSAqIHRoaXMuZ2V0Q29tcHV0ZWRUZXh0TGVuZ3RoKCkgLyAyKSArICdlbSc7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYXR0cignZHknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoMC4wOCAqIHRoaXMucGFyZW50Tm9kZS5nZXRCQm94KCkuaGVpZ2h0IC8gMiArIDAuNSkgKyAnZW0nO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBmb3JjZS5vbigndGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2x1c3RlciBpbiBmb3VyIGNvcm5lcnMgYmFzZWQgb24gb2Zmc2V0LlxuICAgICAgICAgICAgICAgIHZhciBrID0gb2Zmc2V0U2NhbGUgKiBlLmFscGhhO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGUuYWxwaGEpXG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGVudGl0eUFycmF5LCBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRpdHkueCAmJiBvZmZzZXRzW2VudGl0eS50eXBlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LnggKz0gb2Zmc2V0c1tlbnRpdHkudHlwZV0ueCAqIGs7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkueSArPSBvZmZzZXRzW2VudGl0eS50eXBlXS55ICogaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS54ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCh1cHBlckJvdW5kUmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKHdpZHRoIC0gdXBwZXJCb3VuZFJhZGl1cywgZW50aXR5LngpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS55ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCh1cHBlckJvdW5kUmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKGhlaWdodCAtIHVwcGVyQm91bmRSYWRpdXMsIGVudGl0eS55KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChsaW5rcywgZnVuY3Rpb24gKGxpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgbGlua1xuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5zb3VyY2UueDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnNvdXJjZS55O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQudGFyZ2V0Lng7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC50YXJnZXQueTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG5vZGUuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIGQueCArICcsJyArIGQueSArICcpJztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHNwZWVkQW5pbWF0ZSA9IGZ1bmN0aW9uICh0aWNrcykge1xuICAgICAgICAgICAgICAgIC8vIFNwZWVkIHVwIHRoZSBpbml0aWFsIGFuaW1hdGlvbi5cbiAgICAgICAgICAgICAgICAvLyBTZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjYxODkxMTBcbiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRpY2tzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlLnRpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZm9yY2UuYWxwaGEoKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKCEkc2NvcGUubW9iaWxlKSB7XG4gICAgICAgICAgICAgICAgc3BlZWRBbmltYXRlKDcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yY2Uuc3RhcnQoKTtcblxuICAgICAgICAgICAgLy8gSGFzaCBsaW5rZWQgbmVpZ2hib3JzIGZvciBlYXN5IGhvdmVyaW5nIGVmZmVjdHMuXG4gICAgICAgICAgICAvLyBTZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvODc4MDI3N1xuICAgICAgICAgICAgdmFyIGxpbmtlZEJ5SW5kZXggPSB7fTtcbiAgICAgICAgICAgIF8uZm9yRWFjaChsaW5rcywgZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgICAgICAgICBfLmZvckVhY2gobFswXSwgZnVuY3Rpb24gKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gY29ubmVjdGlvbi5fX2RhdGFfXy5zb3VyY2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9IGNvbm5lY3Rpb24uX19kYXRhX18udGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICBsaW5rZWRCeUluZGV4W3NvdXJjZS5pbmRleCArICcsJyArIHRhcmdldC5pbmRleF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBsaW5rZWRCeUluZGV4W3RhcmdldC5pbmRleCArICcsJyArIHNvdXJjZS5pbmRleF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciBuZWlnaGJvcmluZyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpbmtlZEJ5SW5kZXhbYS5pbmRleCArICcsJyArIGIuaW5kZXhdIHx8IGEuaW5kZXggPT09IGIuaW5kZXg7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgZm9jdXNuZWlnaGJvcnMgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgJ3VuZm9jdXNlZCcgY2xhc3MgdG8gYWxsIG5vbi1uZWlnaGJvcnMuXG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgJ2ZvY3VzZWQnIGNsYXNzIHRvIGFsbCBuZWlnaGJvcnMuXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogU2VlIGlmIGl0IGNhbiBiZSBkb25lIHdpdGgganVzdCBvbmUgY2xhc3MgYW5kIDpub3QoLmZvY3VzZWQpIENTUyBzZWxlY3RvcnMuXG4gICAgICAgICAgICAgICAgbm9kZVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgnZm9jdXNlZCcsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmVpZ2hib3JpbmcoZW50aXR5LCBuKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ3VuZm9jdXNlZCcsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIW5laWdoYm9yaW5nKGVudGl0eSwgbik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGxpbmtzLCBmdW5jdGlvbiAobGluaykge1xuICAgICAgICAgICAgICAgICAgICBsaW5rXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgnZm9jdXNlZCcsIGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVudGl0eS5pbmRleCA9PT0gby5zb3VyY2UuaW5kZXggfHwgZW50aXR5LmluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPT09IG8udGFyZ2V0LmluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCd1bmZvY3VzZWQnLCBmdW5jdGlvbiAobykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhKGVudGl0eS5pbmRleCA9PT0gby5zb3VyY2UuaW5kZXggfHwgZW50aXR5LmluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9PT0gby50YXJnZXQuaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgZm9jdXMgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jdXJyZW50RW50aXR5ICE9PSBlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNldEVudGl0eShlbnRpdHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XG4gICAgICAgICAgICAgICAgZm9jdXNuZWlnaGJvcnMoZW50aXR5KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciB1bmZvY3VzICAgICAgID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgICAgICAgIC8vdmFyIHRyYW5zaXRpb25kZWxheSA9IDc1O1xuICAgICAgICAgICAgICAgIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2ZvY3VzZWQnLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ3VuZm9jdXNlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBfLmZvckVhY2gobGlua3MsIGZ1bmN0aW9uIChsaW5rKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdmb2N1c2VkJywgZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGVudGl0eS5maXhlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIC8vIFJlc3RhcnQgZDMgYW5pbWF0aW9ucy5cbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcmNlLnJlc3VtZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL1RPRE86IFNob3cgZ2VuZXJpYyBkZXRhaWxzIGFuZCBub3QgaW5kaXZpZHVhbCBlbnRpdHkgZGV0YWlscz9cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgaG92ZXJUaW1lcjtcbiAgICAgICAgICAgIHZhciBob3ZlciAgICAgICAgID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgICAgICAgIGlmICghJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ICYmICEkc2NvcGUuZWRpdGluZyAmJiAhJHNjb3BlLmN1cnJlbnRMb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBob3ZlclRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1cyhlbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHVuaG92ZXIgICAgICAgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgJiYgISRzY29wZS5jdXJyZW50TG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdW5mb2N1cyhlbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoaG92ZXJUaW1lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRzY29wZS5hY3Rpb25zLmludGVyYWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgZm9jdXNMb2NhdGlvbiA9IGZ1bmN0aW9uIChsb2NhdGlvbikge1xuICAgICAgICAgICAgICAgIC8vICBJZiB0aGUgY3VycmVudCBlbnRpdHkgaXMgc2hvd24gYW5kIGl0IGRvZXNuJ3QgbWF0Y2ggdGhlIGNsaWNrZWQgbm9kZSwgdGhlbiBzZXRcbiAgICAgICAgICAgICAgICAvLyB0aGUgbmV3IG5vZGUgdG8gY2xpY2tlZC5cbiAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XG5cbiAgICAgICAgICAgICAgICBub2RlLmNsYXNzZWQoJ2ZvY3VzZWQnLCBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4ubmFtZSBpbiBsb2NhdGlvbi5kaWN0O1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhKG4ubmFtZSBpbiBsb2NhdGlvbi5kaWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBfLmZvckVhY2gobGlua3MsIGZ1bmN0aW9uIChsaW5rKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdmb2N1c2VkJywgZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG8uc291cmNlLm5hbWUgaW4gbG9jYXRpb24uZGljdCAmJiBvLnRhcmdldC5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW4gbG9jYXRpb24uZGljdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ3VuZm9jdXNlZCcsIGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEoby5zb3VyY2UubmFtZSBpbiBsb2NhdGlvbi5kaWN0KSB8fCAhKG8udGFyZ2V0Lm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW4gbG9jYXRpb24uZGljdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciB1bmZvY3VzTG9jYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbm9kZVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgnZm9jdXNlZCcsIGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChsaW5rcywgZnVuY3Rpb24gKGxpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgbGlua1xuICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2ZvY3VzZWQnLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCd1bmZvY3VzZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBmb3JjZS5yZXN1bWUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgaGlnaGxpZ2h0TG9jYXRpb24gPSBmdW5jdGlvbiAobG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xpY2Vuc2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHVuZm9jdXMoJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jbGlja2VkTG9jYXRpb24ubG9jYXRpb24gIT09IGxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuZm9jdXNMb2NhdGlvbigkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICAgICAgICAgICAgICBmb2N1c0xvY2F0aW9uKGxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGQzLmV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGQzLmV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGNsaWNrICAgICAgICAgICAgID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5zaG93TGljZW5zZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzRGVmKCRzY29wZS5jbGlja2VkTG9jYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0RlZigkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5mb2N1c0xvY2F0aW9uKCRzY29wZS5jbGlja2VkTG9jYXRpb24uZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkTG9jYXRpb24ubG9jYXRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vICBJZiB0aGUgcHJldmlvdXMgbm9kZSBpcyBlcXVhbCB0byB0aGUgbmV3IG5vZGUsIGRvIG5vdGhpbmcuXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPT09IGVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICBVbmZvY3VzIG9uIHByZXZpb3VzIG5vZGUgYW5kIGZvY3VzIG9uIG5ldyBub2RlLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZm9jdXMoJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSA9IGVudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBTdG9wIGV2ZW50IHNvIHdlIGRvbid0IGRldGVjdCBhIGNsaWNrIG9uIHRoZSBiYWNrZ3JvdW5kLlxuICAgICAgICAgICAgICAgIC8vIFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8yMjk0MTc5NlxuICAgICAgICAgICAgICAgIGlmIChkMy5ldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBkMy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGJhY2tncm91bmRjbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNEZWYoJHNjb3BlLmNsaWNrZWRMb2NhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRGVmKCRzY29wZS5jbGlja2VkTG9jYXRpb24ubG9jYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1bmZvY3VzKCRzY29wZS5jbGlja2VkTG9jYXRpb24ubG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRGVmKCRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZm9jdXMoJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xuICAgICAgICAgICAgICAgIC8vVE9ETzogU2hvdyBnZW5lcmljIGRldGFpbHMgYW5kIG5vdCBpbmRpdmlkdWFsIGVudGl0eSBkZXRhaWxzLlxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBkYmxjbGljayAgICAgICAgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbnRpdHkuZml4ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LnggICAgICAgICAgICAgICAgICAgID0gd2lkdGggLyAyO1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkueSAgICAgICAgICAgICAgICAgICAgPSBoZWlnaHQgLyAyO1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkucHggICAgICAgICAgICAgICAgICAgPSB3aWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5weSAgICAgICAgICAgICAgICAgICA9IGhlaWdodCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5maXhlZCAgICAgICAgICAgICAgICA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSA9IGVudGl0eTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1bmZvY3VzKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRzY29wZS5hY3Rpb25zLmludGVyYWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIG5vZGUub24oJ21vdXNlb3ZlcicsIGhvdmVyKTtcbiAgICAgICAgICAgIG5vZGUub24oJ21vdXNlb3V0JywgdW5ob3Zlcik7XG4gICAgICAgICAgICBub2RlLm9uKCdjbGljaycsIGNsaWNrKTtcbiAgICAgICAgICAgIG5vZGUub24oJ2RibGNsaWNrJywgZGJsY2xpY2spO1xuICAgICAgICAgICAgc3ZnLm9uKCdjbGljaycsIGJhY2tncm91bmRjbGljayk7XG5cbiAgICAgICAgICAgIG5vZGVcbiAgICAgICAgICAgICAgICAuY2xhc3NlZCgnd2VsbGNvbm5lY3RlZCcsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmhhc093blByb3BlcnR5KCd3ZWxsY29ubmVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRzY29wZS4kb24oJ2NoYW5nZVNpemVCeScsIGZ1bmN0aW9uIChldmVudCwgc2l6ZUJ5KSB7XG4gICAgICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnY2lyY2xlJylcbiAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oMjUwKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cigncicsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZFtzaXplQnldID8gc2NhbGVbc2l6ZUJ5XShkW3NpemVCeV0pIDogZGVmYXVsdE5vZGVTaXplO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJHNjb3BlLiRvbigndG9nZ2xlTGluaycsIGZ1bmN0aW9uIChldmVudCwgbGluaykge1xuICAgICAgICAgICAgICAgIC8vIGxpbmtzW2xpbmsubmFtZV1cbiAgICAgICAgICAgICAgICAvLyAuY2xhc3NlZCh7J3Zpc2libGUnOiBsaW5rLmVuYWJsZWQsICdoaWRkZW4nOiAhbGluay5lbmFibGVkfSk7XG4gICAgICAgICAgICAgICAgXy5tYXAoJHNjb3BlLmVudGl0eVR5cGVzLCBmdW5jdGlvbiAodmFsLCBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCcuJyArIGtleSArICctbGluaycpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Zpc2libGUnOiBmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb25uZWN0aW9uVHlwZSBlbmFibGVkLCBjb25uZWN0aW9uIHNvdXJjZSBlbnRpdHkgdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpcyBlbmFibGVkLCBjb25uZWN0aW9uIHRhcmdldCBlbnRpdHkgdHlwZSBpcyBlbmFibGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gISRzY29wZS5jb25uZWN0aW9uVHlwZXNbbC50eXBlXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKCRzY29wZS5lbnRpdHlUeXBlc1tsLnNvdXJjZS50eXBlXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICRzY29wZS5lbnRpdHlUeXBlc1tsLnRhcmdldC50eXBlXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGlkZGVuJyA6IGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGFueSBvZiBDb25uZWN0aW9uVHlwZSwgc291cmNlIGVudGl0eSB0eXBlLCBvciB0YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW50aXR5IHR5cGUgYXJlIGRpc2FibGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gISRzY29wZS5jb25uZWN0aW9uVHlwZXNbbC50eXBlXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKCEkc2NvcGUuZW50aXR5VHlwZXNbbC5zb3VyY2UudHlwZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICEkc2NvcGUuZW50aXR5VHlwZXNbbC50YXJnZXQudHlwZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICRzY29wZS4kb24oJ3RvZ2dsZU5vZGUnLCBmdW5jdGlvbiAoZXZlbnQsIHR5cGUpIHtcbiAgICAgICAgICAgICAgICBzdmdcbiAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnLicgKyB0eXBlLm5hbWUgKyAnLW5vZGUnKVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCh7J3Zpc2libGUnOiB0eXBlLmVuYWJsZWQsICdoaWRkZW4nOiAhdHlwZS5lbmFibGVkfSk7XG5cbiAgICAgICAgICAgICAgICBzdmdcbiAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnLicgKyB0eXBlLm5hbWUgKyAnLWxpbmsnKVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmlzaWJsZSc6IGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29ubmVjdGlvblR5cGUgZW5hYmxlZCwgY29ubmVjdGlvbiBzb3VyY2UgZW50aXR5IHR5cGUgaXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbmFibGVkLCBjb25uZWN0aW9uIHRhcmdldCBlbnRpdHkgdHlwZSBpcyBlbmFibGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuY29ubmVjdGlvblR5cGVzW2wudHlwZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgKCRzY29wZS5lbnRpdHlUeXBlc1tsLnNvdXJjZS50eXBlXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAkc2NvcGUuZW50aXR5VHlwZXNbbC50YXJnZXQudHlwZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoaWRkZW4nIDogZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBhbnkgb2YgQ29ubmVjdGlvblR5cGUsIHNvdXJjZSBlbnRpdHkgdHlwZSwgb3IgdGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW50aXR5IHR5cGUgYXJlIGRpc2FibGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhJHNjb3BlLmNvbm5lY3Rpb25UeXBlc1tsLnR5cGVdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICghJHNjb3BlLmVudGl0eVR5cGVzW2wuc291cmNlLnR5cGVdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICEkc2NvcGUuZW50aXR5VHlwZXNbbC50YXJnZXQudHlwZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRzY29wZS4kb24oJ3NlbGVjdEl0ZW0nLCBmdW5jdGlvbiAoZXZlbnQsIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbG9jYXRpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodExvY2F0aW9uKCRzY29wZS5jdXJyZW50TG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2soJHNjb3BlLmN1cnJlbnRFbnRpdHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXG4gICAgICAgIC5jb250cm9sbGVyKCduZXR3b3JrQ3RybCcsIGRlcGVuZGVuY2llcyk7XG5cbn0pKGFuZ3VsYXIsIFJUUCk7XG4iXX0=
