!function(i){"use strict";var a=["ui.bootstrap","leaflet-directive","ngAnimate","templateCache","civic-graph.api","civic-graph.util"],c=["civic-graph.util"];i.module("civic-graph.util",[]),i.module("civic-graph.api",c),i.module("civic-graph",a)}(angular);
!function(t){"use strict";function a(){return{templateUrl:"js/analytic/analytics.html",restrict:"E",scope:{},controller:"analyticsCtrl"}}var c=[a];t.module("civic-graph").directive("analytics",c)}(angular);
!function(o){"use strict";function r(){return{templateUrl:"js/control/controls.html",restrict:"E",scope:{toggleNetwork:"="},controller:"controlCtrl",controllerAs:"control",bindToController:{minConnections:"="}}}var t=[r];o.module("civic-graph").directive("control",t)}(angular);
!function(e){"use strict";function t(e,t){function i(e){var i=t.getPropertyFromObj(e);this.id=i("id"),this.name=i("name"),this.enabled=i("enable",!0)}function n(e){return new i(e)}function r(){return e.get("/categories")}return{getCategoryModel:n,getAll:r}}t.$inject=["cgApiCaller","cgUtilService"],e.module("civic-graph.api").factory("categoryService",t)}(angular);
!function(t){"use strict";function n(){return{Funding:!0,Data:!0,Employment:!0,Collaboration:!0}}function i(t,i){function o(t){var n=i.getPropertyFromObj(t);this.id=n("id"),this.name=n("name"),this.details=n("details"),this.entity=n("entity"),this.entity_id=n("entity_id")}function c(t){return new o(t)}function r(){return t.get(e)}return{getAll:r,getConnectionTypes:n,getConnectionModel:c}}var e="/connections";i.$inject=["cgApiCaller","cgUtilService"],t.module("civic-graph.api").factory("connectionService",i)}(angular);
!function(i){"use strict";function n(i){function n(n){var t=i.getPropertyFromObj(n);this.id=t("id"),this.year=t("year"),this.amount=t("amount",0)}function t(i){return new n(i)}return{getFinanceModel:t}}n.$inject=["cgUtilService"],i.module("civic-graph.api").factory("financeService",n)}(angular);
!function(n){"use strict";function t(n){function t(t){var i=n.getPropertyFromObj(t);this.id=i("id"),this.year=i("year"),this.amount=i("amount"),this.entity=i("entity","")}function i(n){return new t(n)}return{getFundingConnectionModel:i}}t.$inject=["cgUtilService"],n.module("civic-graph.api").factory("fundingConnectionService",t)}(angular);
!function(e){"use strict";function t(t,i,n,o,s,d,c,a){function r(){var e,i,n,o;for(i in t.categories)if(t.categories.hasOwnProperty(i)){e=t.categories[i];for(n in t.editEntity.categories)t.editEntity.categories.hasOwnProperty(n)&&(o=t.editEntity.categories[n],e.id===o.id&&(e.enabled=o.enabled))}}t.isEditing=!1,t.editEntity=s.getEntityModel(t.entity),t.entityTypes=s.getEntityTypes(),t.influenceTypes=s.getInfluenceTypes();var u;t.categories=[],t.addressSearch=function(e){return i.jsonp("https://dev.virtualearth.net/REST/v1/Locations",{params:{query:e,key:"Ai58581yC-Sr7mcFbYTtUkS3ixE7f6ZuJnbFJCVI4hAtW1XoDEeZyidQz2gLCCyD",jsonp:"JSON_CALLBACK",include:"ciso2"}}).then(function(e){if(a.isDefined(e.data.resourceSets)&&e.data.resourceSets.length>0)return e.data.resourceSets[0].resources})},t.toggleCategory=function(e){if(0===t.editEntity.categories.length)t.editEntity.categories.push(e);else{var i=!1;for(var n in t.editEntity.categories)if(t.editEntity.categories.hasOwnProperty(n)){var o=t.editEntity.categories[n];if(o.id===e.id){i=!0,o.enabled=e.enabled;break}}i||t.editEntity.categories.push(e)}},t.setLocation=function(e,i){t.addressSearch(e.formattedAddress).then(function(n){if(a.isDefined(n[0])){var o=n[0],s=o.address,d=o.point;t.addLocation(i),e.address_line=a.isDefined(s.addressLine)?s.addressLine:"",e.locality=a.isDefined(s.locality)?s.locality:"",e.district=a.isDefined(s.adminDistrict)?s.adminDistrict:"",e.country=a.isDefined(s.countryRegion)?s.countryRegion:null,e.country_code=a.isDefined(s.countryRegionIso2)?s.countryRegionIso2:"",e.coordinates=a.isDefined(d.coordinates)?d.coordinates:null,e.postal_code=a.isDefined(s.postalCode)?s.postalCode:null}})},t.addLocation=function(e){e&&t.editEntity.locations.push(c.getLocationModel())},t.addKeyPerson=function(){o.some(t.editEntity.key_people,{name:"",id:null})||t.editEntity.key_people.push({name:"",id:null})},t.setFundingConnection=function(e,t){t.entity_id=e.id},t.addFundingConnection=function(e){o.some(e,{entity:""})||e.push({entity:"",amount:null,year:null,id:null})},t.setConnection=function(e,t){t.entity_id=e.id},t.addConnection=function(e){o.some(e,{entity:"",id:null})||e.push({entity:"",id:null,details:null})},t.addFinance=function(e){o.every(e,function(e){return e.amount>0&&e.year>1750})&&e.push({amount:null,year:null,id:null})},t.save=function(){function e(e){t.isSaving=!1,t.$emit("editEntitySuccess",e),t.cancelEdit()}function i(){t.isError=!0,n(function(){t.isError=!1},2e3)}t.isSaving=!0,s.saveEntity(t.editEntity.generateDBModel()).then(e,i)},t.cancelEdit=function(){t.isOpen=!1},t.$watch("entity",function(i,n){e.equals(i,n)||(t.editEntity=s.getEntityModel(i),t.categories=e.copy(u),r(),t.isEditing=a.isDefined(t.editEntity.id))}),d.getAll().then(function(i){u=i.categories,t.categories=e.copy(u)})}t.$inject=["$scope","$http","$timeout","_","entityService","categoryService","locationService","cgUtilService"],e.module("civic-graph").controller("editCtrl",t)}(angular);
!function(t){"use strict";function e(){return{templateUrl:"js/edit-entity/edit.html",restrict:"E",scope:{entity:"=",entities:"=",isOpen:"="},controller:"editCtrl"}}var i=[e];t.module("civic-graph").directive("editEntity",i)}(angular);
!function(i,t){"use strict";function s(i){function s(){var i=t(this);i.css("height","55vh")}function c(){var i=t(this);window.innerHeight/3>parseInt(i.css("height"))?i.css("height","55vh"):i.css("height","30vh")}var e;i.mobile&&(e=t("#details-panel"),e.css("height","30vh"),e.scrollTop(0),e.scroll(s),e.click(c))}function c(){return{restrict:"A",link:s}}i.module("civic-graph").directive("addMobileEvents",[c])}(angular,$);
!function(o){"use strict";function c(o,c){o.closeWindow=function(){c.close()}}o.module("civic-graph").controller("modalCtrl",["$scope","$modalInstance",c])}(angular);
!function(o){"use strict";o.module("civic-graph").constant("_",window._).config(["$locationProvider","$compileProvider",function(o,n){o.html5Mode(!0),n.debugInfoEnabled(!0)}]).filter("thousandSuffix",function(){return function(o,n){var t,i=["k","M","G","T","P","E"];return window.isNaN(o)?null:o<1e3?o:(t=Math.floor(Math.log(o)/Math.log(1e3)),(o/Math.pow(1e3,t)).toFixed(n)+i[t-1])}})}(angular);
!function(t){"use strict";function e(t,e,i,n,o){function a(){t.$broadcast("triggerNetworkDraw")}t.entities=[],t.searchItems=null,t.categories=[],t.currentLocation=null,t.clickedLocation={},t.clickedLocation.location=null,t.clickedEntity={},t.clickedEntity.entity=null,t.editing=!1,t.actions={interacted:!1},t.showsearchMB=!1,t.showAnalytics=!1,t.entityTypes=n.getEntityTypes(),t.connectionTypes=o.getConnectionTypes(),t.status={isNetworkShown:!0,license:!0,networkLoading:!0},t.toggleAnalytics=function(){t.showAnalytics=!t.showAnalytics},this.minConnections=t.minConnections=2;var c=this;t.$watch("minConnections",a),t.connectionChange=function(){console.log(c.minConnections),t.minConnections=c.minConnections,t.$broadcast("triggerNetworkDraw")},t.hydePartials=function(e){"search"===e?(t.editing=!1,t.settingsEnabled=!1):"settings"===e?(t.editing=!1,t.showsearchMB=!1):"edit"===e?(t.settingsEnabled=!1,t.showsearchMB=!1):(t.editing=!1,t.settingsEnabled=!1,t.showsearchMB=!1)},t.showSearch=function(){t.hydePartials("search"),t.showsearchMB=!t.showsearchMB,t.status.license=!1},t.toggleSettings=function(){t.hydePartials("settings"),t.settingsEnabled=!t.settingsEnabled},t.startEdit=function(e){t.currentEntity=e,t.mobile&&t.hydePartials("edit"),t.editing=!0},t.switchView=function(){t.status.isNetworkShown=!t.status.isNetworkShown,t.status.isNetworkShown&&t.$broadcast("triggerNetworkDraw")},window.mobilecheck=function(){var t=!1,e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,i=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;return function(n){(e.test(n)||i.test(n.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t},t.mobile=window.mobilecheck(),t.settingsEnabled=!t.mobile,e(function(){n.getAll().then(function(e){t.entities=e.nodes;var n=i.uniq(i.pluck(i.flatten(i.pluck(t.entities,"locations")),"locality")),o=i.map(n,function(e){var n=i.filter(t.entities,i.flow(i.property("locations"),i.partialRight(i.any,{locality:e})));return{name:e,type:"location",entities:n,dict:i.zipObject(i.pluck(n,"name"),i.pluck(n,"index"))}});t.searchItems=o.concat(t.entities),t.overviewUrl="js/overview/overview.html",t.$broadcast("triggerNetworkDraw")})},100),t.overviewUrl=null,t.setEntity=function(e){t.currentLocation=null,t.currentEntity=e,t.editing&&t.stopEdit(),t.$broadcast("entityChange")},t.setEntityID=function(e){t.setEntity(i.find(t.entities,{id:e}))},t.setLocation=function(e){t.currentLocation=e,t.editing&&t.stopEdit(),t.$broadcast("itemChange")},t.selectItem=function(e){"location"===e.type?t.setLocation(e):t[e%1===0?"setEntityID":"setEntity"](e),t.$broadcast("selectItem",e)},t.$on("setCurrentEntity",function(e,i){t.currentEntity=i.value}),t.$on("setCurrentLocation",function(e,i){t.currentLocation=i.value}),t.setEntities=function(e){t.entities=e},t.stopEdit=function(){t.editing=!1},t.$on("editEntitySuccess",function(e){t.setEntities(e.nodes),t.$broadcast("triggerNetworkDraw")}),t.animationsEnabled=!0,t.toggleNode=function(e){t.$broadcast("toggleNode",{name:e,enabled:t.entityTypes[e]})},t.toggleLink=function(e){t.$broadcast("toggleLink",{name:e,enabled:t.connectionTypes[e]})},t.changeSizeBy=function(){t.$broadcast("changeSizeBy",t.sizeBy)}}var i=["$scope","$timeout","_","entityService","connectionService",e];t.module("civic-graph").controller("homeCtrl",i)}(angular);
!function(e){"use strict";function t(e,t){e.categorizedEntities={},t.forEach(t.keys(e.entityTypes),function(i){e.categorizedEntities[i]=t.filter(e.entities,{type:i})})}e.module("civic-graph").controller("overviewCtrl",["$scope","_",t])}(angular);
!function(e){"use strict";function n(e,n,t,i,c){function o(){function o(i){var o=n("filter")(e.entities,function(n){return n.collaborations.length>=e.minConnections}),a={};t.forEach(t.keys(i.connections),function(e){a[e]=[]}),t.forEach(i.connections,function(e,n){t.forEach(e,function(e){var i=t.find(o,{id:e.source}),r=t.find(o,{id:e.target});c.isDefined(i)&&c.isDefined(r)&&a[n].push({source:i,target:r})})}),t.forEach(t.keys(e.entityTypes),function(n){var i=t.takeRight(t.sortBy(t.filter(e.entities,{type:n}),"collaborations.length"),5);t.forEach(i,function(e){e.wellconnected=!0})}),o=t.sortBy(o,function(e){return e.wellconnected?1:0}),r(o,a)}i.getAll().then(o)}e.isLoading=!0,e.connections={},o(),e.safeApply=function(e){var n=this.$root.$$phase;"$apply"===n||"$digest"===n?e&&"function"==typeof e&&e():this.$apply(e)},e.$on("triggerNetworkDraw",o),e.$on("viewChange",function(e){console.log(e)});var a,r=function(n,i){e.isLoading=!1;var o=d3.select("#network");o.selectAll("*").remove();var r=o.node().getBoundingClientRect(),s=r.height,l=r.width;a=6;var u=7,d={Individual:{x:1,y:1},"For-Profit":{x:1,y:-1},"Non-Profit":{x:-1,y:1},Government:{x:-1,y:-1}},f=10,y=50,p=d3.max(n,function(e){return parseInt(e.employees)}),k=d3.max(n,function(e){return parseInt(e.followers)}),g={employees:d3.scale.sqrt().domain([10,p]).range([f,y]),followers:d3.scale.sqrt().domain([10,k]).range([f,y])},m={},h=d3.layout.force().size([l,s]).nodes(n).links(t.flatten(t.values(i))).charge(function(e){return e.employees?-2*g.employees(e.employees):-20}).linkStrength(0).linkDistance(50);t.forEach(i,function(e,n){m[n]=o.selectAll(".link ."+n+"-link").data(e).enter().append("line").attr("class",function(e){return c.isDefined(e.source)&&c.isDefined(e.target)?(e.type=n,"link "+n+"-link "+e.source.type+"-link "+e.target.type+"-link"):""})});var x=o.selectAll(".node").data(n).enter().append("g").attr("class",function(e){return"node "+e.type+"-node"}).call(h.drag);x.append("circle").attr("r",function(e){return e.employees?g.employees(e.employees):u}),x.append("text").text(function(e){return e.nickname?e.nickname:e.name}).attr("dx",function(){return-.065*this.getComputedTextLength()/2+"em"}).attr("dy",function(){return.08*this.parentNode.getBBox().height/2+.5+"em"}),h.on("tick",function(e){var i=a*e.alpha;t.forEach(n,function(e){e.x&&d[e.type]&&(e.x+=d[e.type].x*i,e.y+=d[e.type].y*i,e.x=Math.max(y,Math.min(l-y,e.x)),e.y=Math.max(y,Math.min(s-y,e.y)))}),t.forEach(m,function(e){e.attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y})}),x.attr("transform",function(e){return"translate("+e.x+","+e.y+")"})});var E=function(e){requestAnimationFrame(function n(){for(var t=0;t<e;t++)h.tick();h.alpha()>0&&requestAnimationFrame(n)})};e.mobile&&(a=2,console.log("in mobile")),E(7),h.start();var v={};t.forEach(m,function(e){t.forEach(e[0],function(e){var n=e.__data__.source,t=e.__data__.target;v[n.index+","+t.index]=!0,v[t.index+","+n.index]=!0})});var L,T=function(e,n){return v[e.index+","+n.index]||e.index===n.index},A=function(e){x.classed("focused",function(n){return T(e,n)}).classed("unfocused",function(n){return!T(e,n)}),t.forEach(m,function(n){n.classed("focused",function(n){return e.index===n.source.index||e.index===n.target.index}).classed("unfocused",function(n){return!(e.index===n.source.index||e.index===n.target.index)})})},w=function(n){e.currentEntity!==n&&e.setEntity(n),e.safeApply(),A(n)},$=function(n){x.classed("focused",!1).classed("unfocused",!1),t.forEach(m,function(e){e.classed("focused",!1).classed("unfocused",!1)}),n.fixed=!1,e.clickedEntity.entity&&h.resume()},b=function(n){e.clickedEntity.entity||e.editing||e.currentLocation||(L=setTimeout(function(){w(n)},500)),e.actions.interacted=!0,e.safeApply()},D=function(n){e.clickedEntity.entity||e.currentLocation||($(n),clearTimeout(L)),e.actions.interacted=!0,e.safeApply()},_=function(n){e.safeApply(),x.classed("focused",function(e){return e.name in n.dict}).classed("unfocused",function(e){return!(e.name in n.dict)}),t.forEach(m,function(e){e.classed("focused",function(e){return e.source.name in n.dict&&e.target.name in n.dict}).classed("unfocused",function(e){return!(e.source.name in n.dict&&e.target.name in n.dict)})})},B=function(){x.classed("focused",!1).classed("unfocused",!1),t.forEach(m,function(e){e.classed("focused",!1).classed("unfocused",!1)}),e.clickedLocation.location&&h.resume()},P=function(n){e.showLicense=!1,e.clickedEntity.entity&&($(e.clickedEntity.entity),e.clickedEntity.entity=null),e.clickedLocation.location!==n?(B(e.clickedLocation.location),_(n)):e.clickedLocation.location===n&&(e.clickedLocation.location=n,_(n)),d3.event&&d3.event.stopPropagation(),e.actions.interacted=!0,e.safeApply()},C=function(n){e.showLicense=!1,c.isDefined(e.clickedLocation)&&(c.isDefined(e.clickedLocation.location)&&(B(e.clickedLocation.entity),e.clickedLocation.location=null),e.clickedEntity.entity===n?(e.clickedEntity.entity=null,w(n)):(e.clickedEntity.entity&&$(e.clickedEntity.entity),e.clickedEntity.entity=n,w(n))),d3.event&&d3.event.stopPropagation(),e.actions.interacted=!0,e.safeApply()},I=function(){c.isDefined(e.clickedLocation)&&(c.isDefined(e.clickedLocation.location)&&($(e.clickedLocation.location),e.clickedLocation.location=null),c.isDefined(e.clickedEntity.entity)&&($(e.clickedEntity.entity),e.clickedEntity.entity=null)),e.safeApply()},S=function(n){n.fixed?$(n):(n.x=l/2,n.y=s/2,n.px=l/2,n.py=s/2,n.fixed=!0,e.clickedEntity.entity=n),e.actions.interacted=!0,e.safeApply()};x.on("mouseover",b),x.on("mouseout",D),x.on("click",C),x.on("dblclick",S),o.on("click",I),x.classed("wellconnected",function(e){return e.hasOwnProperty("wellconnected")}),e.$on("changeSizeBy",function(e,n){o.selectAll("circle").transition().duration(250).attr("r",function(e){return e[n]?g[n](e[n]):u})}),e.$on("toggleLink",function(n,i){e.connectionTypes[i.name]=i.enabled,t.map(e.entityTypes,function(n,t){o.selectAll("."+t+"-link").classed({visible:function(n){return e.connectionTypes[n.type]&&e.entityTypes[n.source.type]&&e.entityTypes[n.target.type]},hidden:function(n){return!e.connectionTypes[n.type]||!e.entityTypes[n.source.type]||!e.entityTypes[n.target.type]}})})}),e.$on("toggleNode",function(n,t){e.entityTypes[t.name]=t.enabled,o.selectAll("."+t.name+"-node").classed({visible:t.enabled,hidden:!t.enabled}),o.selectAll("."+t.name+"-link").classed({visible:function(n){return e.connectionTypes[n.type]&&e.entityTypes[n.source.type]&&e.entityTypes[n.target.type]},hidden:function(n){return!e.connectionTypes[n.type]||!e.entityTypes[n.source.type]||!e.entityTypes[n.target.type]}})}),e.$on("selectItem",function(n,t){console.log("Select Item"),"location"===t.type?P(e.currentLocation):C(e.currentEntity)})}}n.$inject=["$scope","$filter","_","connectionService","cgUtilService"],e.module("civic-graph").controller("networkCtrl",n)}(angular,RTP);
!function(r){"use strict";function t(){return{restrict:"E",templateUrl:"js/network/network.html",controller:"networkCtrl"}}var e=[t];r.module("civic-graph").directive("network",e)}(angular);
!function(e){"use strict";e.module("civic-graph").directive("input",function(){return{restict:"E",require:"?ngModel",link:function(e,r,t,i){"type"in t&&"range"===t.type.toLowerCase()&&i.$parsers.push(parseFloat)}}})}(angular);
!function(i){"use strict";var a=[];i.module("civic-graph").directive("map",a)}(angular);
!function(r){"use strict";function n(r){return!("undefined"==typeof r||null===r)}function t(r){return n(r)&&!Array.isArray(r)&&"object"==typeof r}function e(r){var t=n(r)?r:{};return function(r,e){var i=n(e)?e:null;return n(t[r])?t[r]:i}}function i(r,n){var e=Array.isArray(r)?r.filter(t).map(n):[];return e.concat([n()])}function u(){return{isDefined:n,isObject:t,getPropertyFromObj:e,loopAndInit:i}}r.module("civic-graph.util").factory("cgUtilService",u)}(angular);
!function(c){"use strict";function n(c){}c.module("civic-graph").controller("analyticsCtrl",["$scope",n])}(angular);
!function(e){"use strict";function o(e,o,n,t,i){function l(){console.log("inside controlCtrl switch view"),c.changeView(c.toggleNetwork?"Network":"Map")}var c=this;c.entityTypes=e.getEntityTypes(),c.connectionTypes=o.getConnectionTypes(),c.sizeByList=[{name:"Employees",value:"employees"},{name:"Twitter Followers",value:"followers"}],c.sizeBy="employees",c.showView={Network:!0,Map:!1},c.switchView=l,c.changeView=function(e){console.log("inside controlCtrl changeview"),t.forEach(t.keys(c.showView),function(o){c.showView[o]=e===o}),n.$broadcast("viewChange",c.showView)},c.showAbout=function(){console.log("Inside the controlCtrl showAbout"),i.open({animation:!1,templateUrl:"control/about.html",controller:"modalCtrl"})},c.toggleNode=function(e){console.log("Inside the controlCtrl toggleNode"),n.$broadcast("toggleNode",{name:e,enabled:c.entityTypes[e]})},c.toggleLink=function(e){console.log("Inside the controlCtrl toggleLink"),n.$broadcast("toggleLink",{name:e,enabled:c.connectionTypes[e]})},c.changeSizeBy=function(){n.$broadcast("changeSizeBy",c.sizeBy)},c.changeSizeBy()}var n=["entityService","connectionService","$rootScope","_","$modal",o];e.module("civic-graph").controller("controlCtrl",n)}(angular);
!function(t){"use strict";function e(t){t.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}e.$inject=["$httpProvider"],t.module("civic-graph.api").config(e)}(angular);
!function(t){"use strict";function r(t,r){function a(t){return console.error("Recieved an error from API with this message: %O",t.data),r.reject(t)}function i(t){return t.data}function c(r,c){return t.get(e+r,{params:c,headers:n}).then(i,a)}function o(r,c){return t.post(e+r,c,{headers:n}).then(i,a)}return{get:c,post:o}}var e="https://api.civicgraph.io/api",n={};r.$inject=["$http","$q"],t.module("civic-graph.api").factory("cgApiCaller",r)}(angular);
!function(e){"use strict";function i(e){function i(i){function t(){var t=e.isDefined(i)?i:{},o=e.isDefined(t.address_line)?t.address_line+" ":"",c=e.isDefined(t.locality)?t.locality+", ":"",n=e.isDefined(t.country_code)?t.country_code+" ":"",r=e.isDefined(t.postal_code)?t.postal_code:"";return(o+c+n+r).trim()}var o=this,c=e.getPropertyFromObj(i);o.id=c("id"),o.address_line=c("address_line"),o.locality=c("locality"),o.district=c("district"),o.postal_code=c("postal_code"),o.country=c("country"),o.country_code=c("country_code"),o.coordinates=c("coordinates"),o.formattedAddress=t()}function t(e){return new i(e)}return{getLocationModel:t}}i.$inject=["cgUtilService"],e.module("civic-graph.api").factory("locationService",i)}(angular);
!function(e){"use strict";function n(){return{Government:!0,"For-Profit":!0,"Non-Profit":!0,Individual:!0}}function o(){return["Local","National","Global"]}function t(e,t,i,p,r,a,c){function l(e){function n(){var e=new l(o);return e.locations.pop(),e.locations.pop(),e.grants_received.pop(),e.grants_received.pop(),e.grants_given.pop(),e.grants_given.pop(),e.investments_received.pop(),e.investments_received.pop(),e.investments_made.pop(),e.investments_made.pop(),e.data_given.pop(),e.data_given.pop(),e.data_received.pop(),e.data_received.pop(),e.collaborations.pop(),e.collaborations.pop(),e.key_people.pop(),e.key_people.pop(),e.employments.pop(),e.employments.pop(),e.revenues.pop(),e.revenues.pop(),e.expenses.pop(),e.expenses.pop(),e.categories.pop(),e.categories.pop(),e.description="",e}var o=this,d=c.isDefined(e)?e:{},s=c.getPropertyFromObj(e);o.id=s("id"),o.name=s("name"),o.influence=s("influence"),o.type=s("type"),o.nickname=s("nickname"),o.url=s("url"),o.twitter_handle=s("twitter_handle"),o.employees=s("employees"),o.locations=c.loopAndInit(d.locations,r.getLocationModel),o.grants_received=c.loopAndInit(d.grants_received,t.getFundingConnectionModel),o.investments_received=c.loopAndInit(d.investments_received,t.getFundingConnectionModel),o.grants_given=c.loopAndInit(d.grants_given,t.getFundingConnectionModel),o.investments_made=c.loopAndInit(d.investments_made,t.getFundingConnectionModel),o.data_given=c.loopAndInit(d.data_given,i.getConnectionModel),o.data_received=c.loopAndInit(d.data_received,i.getConnectionModel),o.collaborations=c.loopAndInit(d.collaborations,i.getConnectionModel),o.key_people=c.loopAndInit(d.key_people,i.getConnectionModel),o.employments=c.loopAndInit(d.employments,i.getConnectionModel),o.revenues=c.loopAndInit(d.revenues,p.getFinanceModel),o.expenses=c.loopAndInit(d.expenses,p.getFinanceModel),o.categories=c.loopAndInit(d.categories,a.getCategoryModel),o.generateDBModel=n}function d(e){return new l(e)}function s(){return e.get("/entities")}function g(n){return e.post("/save",{entity:n})}return{getEntityModel:d,getEntityTypes:n,getInfluenceTypes:o,getAll:s,saveEntity:g}}t.$inject=["cgApiCaller","fundingConnectionService","connectionService","financeService","locationService","categoryService","cgUtilService"],e.module("civic-graph.api").factory("entityService",t)}(angular);
!function(e){"use strict";function n(e,n){e.itemsShownDefault={key_people:3,grants_given:3,grants_received:3,investments_made:3,investments_received:3,collaborations:3,employments:3,relations:3,data_given:3,data_received:3,revenues:3,expenses:3},e.itemsShown=n.clone(e.itemsShownDefault),e.$on("entityChange",function(){e.itemsShown=n.clone(e.itemsShownDefault)}),e.showMore=function(n){e.itemsShown[n]=e.currentEntity[n].length},e.showLess=function(n){e.itemsShown[n]=e.itemsShownDefault[n]}}e.module("civic-graph").controller("detailsCtrl",["$scope","_",n])}(angular);
!function(t,e,n){"use strict";function i(t,i,o,r,a){t.options={center:{lat:20,lng:-40,zoom:3},defaults:{tileLayer:"https://api.tiles.mapbox.com/v4/mapbox.light/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiZGF2aWRscm50IiwiYSI6IjA0M2RkNzMzZWJmNzEzNGYzMTdhYTExYzAyZmU4ZTE1In0.TNYlFta2VItrkn4L0Z9BJQ",tileLayerOptions:{detectRetina:!0,reuseTiles:!1},zoomControl:!1,attributionControl:!1}},t.safeApply=function(t){var e=this.$root.$$phase;"$apply"===e||"$digest"===e?t&&"function"==typeof t&&t():this.$apply(t)},i(function(){var i=function(t){var n=t.data,i=e.layout.pie().sort(null).value(function(t){return t.value}),o=e.svg.arc().outerRadius(t.r).innerRadius(t.r-10),r=t.r+t.strokeWidth,a=2*r,c=a,l=document.createElementNS(e.ns.prefix.svg,"svg"),s=e.select(l).data(n).attr("class","piechart").attr("width",a).attr("height",c),p=s.selectAll(".arc").data(i(n)).enter().append("g").attr("class","arc").attr("transform","translate("+r+","+r+")");return p.append("path").attr("d",o).attr("class",function(t){return t.data.type+"-arc"}),p.append("svg:text").text(function(e,n){if(0===n)return t.count}).attr("x",-4*t.count.toString().length).attr("dy",5).attr("class","arcText"),window.XMLSerializer?(new window.XMLSerializer).serializeToString(l):l.xml?l.xml:""};o.getMap().then(function(e){function o(t){var e=t.getAllChildMarkers(),o=e.length,a=r.pluck(e,"options"),c=r.map(r.countBy(a,"type"),function(t,e){return{type:e,value:t}}),l=28,s=1,p=2*(l+s),u=i({data:c,r:l,strokeWidth:s,count:o});return new n.DivIcon({html:u,className:"marker-cluster",iconSize:new n.point(p,p)})}function a(t){function e(e){if(r.every(e.coordinates)){"40.78200"===e.coordinates[0].toFixed(5)&&"-73.83170"===e.coordinates[1].toFixed(5)&&(e.coordinates[0]=40.77065,e.coordinates[1]=-73.97406);var i=n.marker(e.coordinates,{icon:s[t.type],title:t.name,entity_id:t.id,message:t.name,type:t.type});p.addLayer(i)}}r.forEach(t.locations,e)}function c(t){console.error(t.message+"  %O",t)}var l=t.entities;e.invalidateSize(),new n.Control.Zoom({position:"topright"}).addTo(e),n.control.locate({position:"topright",showPopup:!1,icon:"fa fa-location-arrow"}).addTo(e);var s={"Non-Profit":n.icon({iconUrl:"img/marker-nonprof.svg",iconSize:[60,60]}),"For-Profit":n.icon({iconUrl:"img/marker-prof.svg",iconSize:[60,60]}),Individual:n.icon({iconUrl:"img/marker-ind.svg",iconSize:[60,60]}),Government:n.icon({iconUrl:"img/marker-gov.svg",iconSize:[60,60]})},p=n.markerClusterGroup({spiderfyOnMaxZoom:!0,showCoverageOnHover:!1,iconCreateFunction:o,maxClusterRadius:30,spiderfyDistanceMultiplier:1.3});console.log("Original: %O",t.entities),console.log("Filtered: %O",l),r.forEach(l,a),e.addLayer(p),e.on("locationerror",c),p.on("click",function(e){t.setEntityID(e.layer.options.entity_id),t.clickedEntity.entity=t.currentEntity,t.actions.interacted=!0,t.settingsEnabled&&t.mobile&&t.toggleSettings(),t.safeApply()}),e.on("click",function(){t.clickedEntity.entity=null,t.actions.interacted=!0,t.safeApply()}),t.$on("selectItem",function(){var n=t.currentEntity.locations.length>0?r.pluck(t.currentEntity.locations,"coordinates"):null;n.length>0&&e.setView(n[0],11),t.actions.interacted=!0,t.safeApply()})})})}var o=["$scope","$timeout","leafletData","_","$filter",i];t.module("civic-graph").controller("mapCtrl",o)}(angular,d3,L);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNpdmljLWdyYXBoLm1vZHVsZS5qcyIsImFuYWx5dGljL2FuYWx5dGljc0RpcmVjdGl2ZS5qcyIsImNvbnRyb2wvY29udHJvbERpcmVjdGl2ZS5qcyIsImFwaS9jYXRlZ29yeS5zZXJ2aWNlLmpzIiwiYXBpL2Nvbm5lY3Rpb24uc2VydmljZS5qcyIsImFwaS9maW5hbmNlLnNlcnZpY2UuanMiLCJhcGkvZnVuZGluZ0Nvbm5lY3Rpb24uc2VydmljZS5qcyIsImVkaXQtZW50aXR5L2VkaXRDdHJsLmpzIiwiZWRpdC1lbnRpdHkvZWRpdEVudGl0eURpcmVjdGl2ZS5qcyIsImV4dHJhL2FkZE1vYmlsZUV2ZW50cy5qcyIsImV4dHJhL21vZGFsQ3RybC5qcyIsIm1haW4vYXBwLmpzIiwibWFpbi9ob21lQ3RybC5qcyIsIm92ZXJ2aWV3L292ZXJ2aWV3Q3RybC5qcyIsIm5ldHdvcmsvbmV0d29ya0N0cmwuanMiLCJuZXR3b3JrL25ldHdvcmtEaXJlY3RpdmUuanMiLCJuZXR3b3JrL3NsaWRlckJhci5qcyIsIm1hcC9tYXBEaXJlY3RpdmUuanMiLCJ1dGlsL3NlcnZpY2UuanMiLCJhbmFseXRpYy9jb250cm9sbGVyL2FuYWx5dGljc0N0cmwuanMiLCJjb250cm9sL2NvbnRyb2xsZXIvY29udHJvbEN0cmwuanMiLCJhcGkvYXBpQ2FsbGVyL2NvbmZpZy5qcyIsImFwaS9hcGlDYWxsZXIvc2VydmljZS5qcyIsImFwaS9lbnRpdHkvbG9jYXRpb24uc2VydmljZS5qcyIsImFwaS9lbnRpdHkvc2VydmljZS5qcyIsImRldGFpbC9jb250cm9sbGVyL2RldGFpbHNDdHJsLmpzIiwibWFwL2NvbnRyb2xsZXIvbWFwQ3RybC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibWFpbkRlcGVuZGVuY3lMaXN0IiwiYXBpRGVwZW5kZW5jeUxpc3QiLCJtb2R1bGUiLCJhbmFseXRpY3NEaXJlY3RpdmUiLCJ0ZW1wbGF0ZVVybCIsInJlc3RyaWN0Iiwic2NvcGUiLCJjb250cm9sbGVyIiwiYW5hbHl0aWNzRGVwZW5kZW5jaWVzIiwiZGlyZWN0aXZlIiwiY29udHJvbERpcmVjdGl2ZSIsInRvZ2dsZU5ldHdvcmsiLCJjb250cm9sbGVyQXMiLCJiaW5kVG9Db250cm9sbGVyIiwibWluQ29ubmVjdGlvbnMiLCJjb250cm9sRGVwZW5kZW5jaWVzIiwiU2VydmljZSIsImFwaUNhbGxlciIsInV0aWxzIiwiQ2F0ZWdvcnkiLCJvYmoiLCJnZXRQcm9wZXJ0eSIsImdldFByb3BlcnR5RnJvbU9iaiIsInRoaXMiLCJpZCIsIm5hbWUiLCJlbmFibGVkIiwiZ2V0Q2F0ZWdvcnlNb2RlbCIsImdldEFsbCIsImdldCIsIiRpbmplY3QiLCJmYWN0b3J5IiwiZ2V0Q29ubmVjdGlvblR5cGVzIiwiRnVuZGluZyIsIkRhdGEiLCJFbXBsb3ltZW50IiwiQ29sbGFib3JhdGlvbiIsIkNvbm5lY3Rpb24iLCJkZXRhaWxzIiwiZW50aXR5IiwiZW50aXR5X2lkIiwiZ2V0Q29ubmVjdGlvbk1vZGVsIiwidXJsIiwiRmluYW5jZSIsInllYXIiLCJhbW91bnQiLCJnZXRGaW5hbmNlTW9kZWwiLCJGdW5kaW5nQ29ubmVjdGlvbiIsImdldEZ1bmRpbmdDb25uZWN0aW9uTW9kZWwiLCJDb250cm9sbGVyIiwiJHNjb3BlIiwiJGh0dHAiLCIkdGltZW91dCIsIl8iLCJlbnRpdHlTZXJ2aWNlIiwiY2F0ZWdvcnlTZXJ2aWNlIiwibG9jYXRpb25TZXJ2aWNlIiwiaW5pdENhdGVnb3J5QXJyYXkiLCJjYXRlZ29yeSIsImNhdGVnb3J5SW5kZXgiLCJlbnRpdHlDYXRlZ29yeUluZGV4IiwiZW50aXR5Q2F0ZWdvcnkiLCJjYXRlZ29yaWVzIiwiaGFzT3duUHJvcGVydHkiLCJlZGl0RW50aXR5IiwiaXNFZGl0aW5nIiwiZ2V0RW50aXR5TW9kZWwiLCJlbnRpdHlUeXBlcyIsImdldEVudGl0eVR5cGVzIiwiaW5mbHVlbmNlVHlwZXMiLCJnZXRJbmZsdWVuY2VUeXBlcyIsImNhdGVnb3J5QmFja3VwIiwiYWRkcmVzc1NlYXJjaCIsInNlYXJjaCIsImpzb25wIiwicGFyYW1zIiwicXVlcnkiLCJrZXkiLCJpbmNsdWRlIiwidGhlbiIsInJlc3BvbnNlIiwiaXNEZWZpbmVkIiwiZGF0YSIsInJlc291cmNlU2V0cyIsImxlbmd0aCIsInJlc291cmNlcyIsInRvZ2dsZUNhdGVnb3J5IiwicHVzaCIsImZvdW5kIiwic2V0TG9jYXRpb24iLCJsb2NhdGlvbiIsImlzTGFzdCIsImZvcm1hdHRlZEFkZHJlc3MiLCJhcGlDYWxsUmVzdWx0IiwicmVzdWx0IiwiYWRkcmVzcyIsInBvaW50IiwiYWRkTG9jYXRpb24iLCJhZGRyZXNzX2xpbmUiLCJhZGRyZXNzTGluZSIsImxvY2FsaXR5IiwiZGlzdHJpY3QiLCJhZG1pbkRpc3RyaWN0IiwiY291bnRyeSIsImNvdW50cnlSZWdpb24iLCJjb3VudHJ5X2NvZGUiLCJjb3VudHJ5UmVnaW9uSXNvMiIsImNvb3JkaW5hdGVzIiwicG9zdGFsX2NvZGUiLCJwb3N0YWxDb2RlIiwibG9jYXRpb25zIiwiZ2V0TG9jYXRpb25Nb2RlbCIsImFkZEtleVBlcnNvbiIsInNvbWUiLCJrZXlfcGVvcGxlIiwic2V0RnVuZGluZ0Nvbm5lY3Rpb24iLCJmdW5kaW5nIiwiYWRkRnVuZGluZ0Nvbm5lY3Rpb24iLCJzZXRDb25uZWN0aW9uIiwiY29ubmVjdGlvbiIsImFkZENvbm5lY3Rpb24iLCJjb25uZWN0aW9ucyIsImFkZEZpbmFuY2UiLCJyZWNvcmRzIiwiZXZlcnkiLCJyIiwic2F2ZSIsInN1Y2Nlc3MiLCJpc1NhdmluZyIsIiRlbWl0IiwiY2FuY2VsRWRpdCIsImVycm9yIiwiaXNFcnJvciIsInNhdmVFbnRpdHkiLCJnZW5lcmF0ZURCTW9kZWwiLCJpc09wZW4iLCIkd2F0Y2giLCJuZXdWYWwiLCJvbGRWYWwiLCJlcXVhbHMiLCJjb3B5IiwiZWRpdEVudGl0eURpcmVjdGl2ZSIsImVudGl0aWVzIiwiZWRpdEVudGl0eURlcGVuZGVuY2llcyIsIiQiLCJsaW5rRnVuY3Rpb24iLCJzY3JvbGwiLCJzZWxmIiwiY3NzIiwiY2xpY2siLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsInBhcnNlSW50IiwiZGV0YWlsc1BhbmVsIiwibW9iaWxlIiwic2Nyb2xsVG9wIiwiYWRkTW9iaWxlRXZlbnRzIiwibGluayIsIm1vZGFsQ3RybCIsIiRtb2RhbEluc3RhbmNlIiwiY2xvc2VXaW5kb3ciLCJjbG9zZSIsImNvbnN0YW50IiwiY29uZmlnIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCIkY29tcGlsZVByb3ZpZGVyIiwiaHRtbDVNb2RlIiwiZGVidWdJbmZvRW5hYmxlZCIsImZpbHRlciIsImlucHV0IiwiZGVjaW1hbHMiLCJleHAiLCJzdWZmaXhlcyIsImlzTmFOIiwiTWF0aCIsImZsb29yIiwibG9nIiwicG93IiwidG9GaXhlZCIsImhvbWVDdHJsIiwiY29ubmVjdGlvblNlcnZpY2UiLCJ3YXRjaE1pbkNvbm5lY3Rpb24iLCIkYnJvYWRjYXN0Iiwic2VhcmNoSXRlbXMiLCJjdXJyZW50TG9jYXRpb24iLCJjbGlja2VkTG9jYXRpb24iLCJjbGlja2VkRW50aXR5IiwiZWRpdGluZyIsImFjdGlvbnMiLCJpbnRlcmFjdGVkIiwic2hvd3NlYXJjaE1CIiwic2hvd0FuYWx5dGljcyIsImNvbm5lY3Rpb25UeXBlcyIsInN0YXR1cyIsImlzTmV0d29ya1Nob3duIiwibGljZW5zZSIsIm5ldHdvcmtMb2FkaW5nIiwidG9nZ2xlQW5hbHl0aWNzIiwiY29ubmVjdGlvbkNoYW5nZSIsImNvbnNvbGUiLCJoeWRlUGFydGlhbHMiLCJleGNlcHQiLCJzZXR0aW5nc0VuYWJsZWQiLCJzaG93U2VhcmNoIiwidG9nZ2xlU2V0dGluZ3MiLCJzdGFydEVkaXQiLCJjdXJyZW50RW50aXR5Iiwic3dpdGNoVmlldyIsIm1vYmlsZWNoZWNrIiwiY2hlY2siLCJyZWdleCIsInJlZ2V4MiIsImEiLCJ0ZXN0Iiwic3Vic3RyIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidmVuZG9yIiwib3BlcmEiLCJub2RlcyIsInVuaXEiLCJwbHVjayIsImZsYXR0ZW4iLCJlbnRpdGllc0J5TG9jYXRpb24iLCJtYXAiLCJsb2MiLCJmaW5kaW5ncyIsImZsb3ciLCJwcm9wZXJ0eSIsInBhcnRpYWxSaWdodCIsImFueSIsInR5cGUiLCJkaWN0IiwiemlwT2JqZWN0IiwiY29uY2F0Iiwib3ZlcnZpZXdVcmwiLCJzZXRFbnRpdHkiLCJzdG9wRWRpdCIsInNldEVudGl0eUlEIiwiZmluZCIsInNlbGVjdEl0ZW0iLCJpdGVtIiwiJG9uIiwiZXZlbnQiLCJhcmdzIiwidmFsdWUiLCJzZXRFbnRpdGllcyIsImFuaW1hdGlvbnNFbmFibGVkIiwidG9nZ2xlTm9kZSIsInRvZ2dsZUxpbmsiLCJjaGFuZ2VTaXplQnkiLCJzaXplQnkiLCJob21lRGVwZW5kZW5jaWVzIiwib3ZlcnZpZXdDdHJsIiwiY2F0ZWdvcml6ZWRFbnRpdGllcyIsImZvckVhY2giLCJrZXlzIiwiJGZpbHRlciIsInN0YXJ0TG9hZCIsImZpbHRlcmVkRW50aXRpZXMiLCJjb2xsYWJvcmF0aW9ucyIsImZpbHRlcmVkQ29ubmVjdGlvbnMiLCJzb3VyY2VOb2RlIiwic291cmNlIiwidGFyZ2V0Tm9kZSIsInRhcmdldCIsInRvcDUiLCJ0YWtlUmlnaHQiLCJzb3J0QnkiLCJ3ZWxsY29ubmVjdGVkIiwiZSIsImRyYXdOZXR3b3JrIiwiaXNMb2FkaW5nIiwic2FmZUFwcGx5IiwiZm4iLCJwaGFzZSIsIiRyb290IiwiJCRwaGFzZSIsIiRhcHBseSIsInZpZXdPYmoiLCJvZmZzZXRTY2FsZSIsImVudGl0eUFycmF5IiwiY29ubmVjdGlvbkFycmF5Iiwic3ZnIiwiZDMiLCJzZWxlY3QiLCJzZWxlY3RBbGwiLCJyZW1vdmUiLCJib3VuZHMiLCJub2RlIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaGVpZ2h0Iiwid2lkdGgiLCJkZWZhdWx0Tm9kZVNpemUiLCJvZmZzZXRzIiwiSW5kaXZpZHVhbCIsIngiLCJ5IiwiRm9yLVByb2ZpdCIsIk5vbi1Qcm9maXQiLCJHb3Zlcm5tZW50IiwibG93ZXJCb3VuZFJhZGl1cyIsInVwcGVyQm91bmRSYWRpdXMiLCJtYXhFbXBsb3llZXMiLCJtYXgiLCJlbCIsImVtcGxveWVlcyIsIm1heEZvbGxvd2VycyIsImZvbGxvd2VycyIsInNjYWxlIiwic3FydCIsImRvbWFpbiIsInJhbmdlIiwibGlua3MiLCJmb3JjZSIsImxheW91dCIsInNpemUiLCJ2YWx1ZXMiLCJjaGFyZ2UiLCJkIiwibGlua1N0cmVuZ3RoIiwibGlua0Rpc3RhbmNlIiwiZW50ZXIiLCJhcHBlbmQiLCJhdHRyIiwiY2FsbCIsImRyYWciLCJ0ZXh0Iiwibmlja25hbWUiLCJnZXRDb21wdXRlZFRleHRMZW5ndGgiLCJwYXJlbnROb2RlIiwiZ2V0QkJveCIsIm9uIiwiayIsImFscGhhIiwibWluIiwic3BlZWRBbmltYXRlIiwidGlja3MiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyZW5kZXIiLCJpIiwidGljayIsInN0YXJ0IiwibGlua2VkQnlJbmRleCIsImwiLCJfX2RhdGFfXyIsImluZGV4IiwiaG92ZXJUaW1lciIsIm5laWdoYm9yaW5nIiwiYiIsImZvY3VzbmVpZ2hib3JzIiwiY2xhc3NlZCIsIm4iLCJvIiwiZm9jdXMiLCJ1bmZvY3VzIiwiZml4ZWQiLCJyZXN1bWUiLCJob3ZlciIsInNldFRpbWVvdXQiLCJ1bmhvdmVyIiwiY2xlYXJUaW1lb3V0IiwiZm9jdXNMb2NhdGlvbiIsInVuZm9jdXNMb2NhdGlvbiIsImhpZ2hsaWdodExvY2F0aW9uIiwic2hvd0xpY2Vuc2UiLCJzdG9wUHJvcGFnYXRpb24iLCJiYWNrZ3JvdW5kY2xpY2siLCJkYmxjbGljayIsInB4IiwicHkiLCJ0cmFuc2l0aW9uIiwiZHVyYXRpb24iLCJ2YWwiLCJ2aXNpYmxlIiwiaGlkZGVuIiwiUlRQIiwiZGVwZW5kZW5jaWVzIiwicmVzdGljdCIsInJlcXVpcmUiLCJlbGVtZW50IiwiYXR0cnMiLCJuZ01vZGVsIiwidG9Mb3dlckNhc2UiLCIkcGFyc2VycyIsInBhcnNlRmxvYXQiLCJpc09iamVjdCIsIkFycmF5IiwiaXNBcnJheSIsImRlZk9iaiIsImRlZmF1bHRWYWx1ZSIsImxvb3BBbmRJbml0IiwibW9kZWxBcnJheSIsImluaXRNb2RlbEZ1bmN0aW9uIiwibmV3QXJyYXkiLCJhbmFseXRpY3NDdHJsIiwiY29udHJvbEN0cmwiLCIkcm9vdFNjb3BlIiwiJG1vZGFsIiwidm0iLCJjaGFuZ2VWaWV3Iiwic2l6ZUJ5TGlzdCIsInNob3dWaWV3IiwiTmV0d29yayIsIk1hcCIsInZpZXciLCJzaG93QWJvdXQiLCJvcGVuIiwiYW5pbWF0aW9uIiwiY29udHJvbERlcHMiLCJDb25maWciLCIkaHR0cFByb3ZpZGVyIiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiY29tbW9uIiwiJHEiLCJsb2dBcGlFcnJvciIsImVyciIsInJlamVjdCIsInVud3JhcEFuZ3VsYXJIdHRwIiwiYXBpVXJsIiwiZGVmYXVsdEhlYWRlciIsInBvc3QiLCJMb2NhdGlvbiIsImJ1aWxkRm9ybWF0dGVkQWRkcmVzcyIsImNvdW50cnlDb2RlIiwidHJpbSIsImZ1bkNvbm5TZXJ2aWNlIiwiY29ublNlcnZpY2UiLCJmaW5hbmNlU2VydmljZSIsIkVudGl0eSIsImRiTW9kZWwiLCJwb3AiLCJncmFudHNfcmVjZWl2ZWQiLCJncmFudHNfZ2l2ZW4iLCJpbnZlc3RtZW50c19yZWNlaXZlZCIsImludmVzdG1lbnRzX21hZGUiLCJkYXRhX2dpdmVuIiwiZGF0YV9yZWNlaXZlZCIsImVtcGxveW1lbnRzIiwicmV2ZW51ZXMiLCJleHBlbnNlcyIsImRlc2NyaXB0aW9uIiwiaW5mbHVlbmNlIiwidHdpdHRlcl9oYW5kbGUiLCJkZXRhaWxzQ3RybCIsIml0ZW1zU2hvd25EZWZhdWx0IiwicmVsYXRpb25zIiwiaXRlbXNTaG93biIsImNsb25lIiwic2hvd01vcmUiLCJzaG93TGVzcyIsIkwiLCJtYXBDdHJsIiwibGVhZmxldERhdGEiLCJvcHRpb25zIiwiY2VudGVyIiwibGF0IiwibG5nIiwiem9vbSIsInRpbGVMYXllciIsInRpbGVMYXllck9wdGlvbnMiLCJkZXRlY3RSZXRpbmEiLCJyZXVzZVRpbGVzIiwiem9vbUNvbnRyb2wiLCJhdHRyaWJ1dGlvbkNvbnRyb2wiLCJjcmVhdGVQaWVDaGFydCIsInBpZSIsInNvcnQiLCJhcmMiLCJvdXRlclJhZGl1cyIsImlubmVyUmFkaXVzIiwic3Ryb2tlV2lkdGgiLCJ3IiwiaCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwibnMiLCJwcmVmaXgiLCJ2aXMiLCJhcmNzIiwiY291bnQiLCJ0b1N0cmluZyIsIlhNTFNlcmlhbGl6ZXIiLCJzZXJpYWxpemVUb1N0cmluZyIsInhtbCIsImdldE1hcCIsImNsdXN0ZXJJY29uIiwiY2x1c3RlciIsImNoaWxkcmVuIiwiZ2V0QWxsQ2hpbGRNYXJrZXJzIiwidG90YWwiLCJjbHVzdGVyTWFya2VycyIsImNvdW50cyIsImNvdW50QnkiLCJpY29uRGltIiwiaHRtbCIsIkRpdkljb24iLCJjbGFzc05hbWUiLCJpY29uU2l6ZSIsIm91dGVyTG9vcCIsImlubmVyTG9vcCIsIm0iLCJtYXJrZXIiLCJpY29uIiwibWFya2VySWNvbiIsInRpdGxlIiwibWVzc2FnZSIsIm1hcmtlcnMiLCJhZGRMYXllciIsIm9uTG9jYXRpb25FcnJvciIsImxlYWZsZXRFcnJvciIsImludmFsaWRhdGVTaXplIiwiQ29udHJvbCIsIlpvb20iLCJwb3NpdGlvbiIsImFkZFRvIiwiY29udHJvbCIsImxvY2F0ZSIsInNob3dQb3B1cCIsImljb25VcmwiLCJtYXJrZXJDbHVzdGVyR3JvdXAiLCJzcGlkZXJmeU9uTWF4Wm9vbSIsInNob3dDb3ZlcmFnZU9uSG92ZXIiLCJpY29uQ3JlYXRlRnVuY3Rpb24iLCJtYXhDbHVzdGVyUmFkaXVzIiwic3BpZGVyZnlEaXN0YW5jZU11bHRpcGxpZXIiLCJsYXllciIsInNldFZpZXciXSwibWFwcGluZ3MiOiJDQUFBLFNBQVVBLEdBRU4sWUFFQSxJQUFJQyxJQUNBLGVBQ0Esb0JBQ0EsWUFDQSxnQkFDQSxrQkFDQSxvQkFHQUMsR0FBcUIsbUJBRXpCRixHQUFRRyxPQUFPLHVCQUNmSCxFQUFRRyxPQUFPLGtCQUFtQkQsR0FDbENGLEVBQVFH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bi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBtYWluRGVwZW5kZW5jeUxpc3QgPSBbXHJcbiAgICAgICAgXCJ1aS5ib290c3RyYXBcIixcclxuICAgICAgICBcImxlYWZsZXQtZGlyZWN0aXZlXCIsXHJcbiAgICAgICAgXCJuZ0FuaW1hdGVcIixcclxuICAgICAgICBcInRlbXBsYXRlQ2FjaGVcIixcclxuICAgICAgICBcImNpdmljLWdyYXBoLmFwaVwiLFxyXG4gICAgICAgIFwiY2l2aWMtZ3JhcGgudXRpbFwiXHJcbiAgICBdO1xyXG5cclxuICAgIHZhciBhcGlEZXBlbmRlbmN5TGlzdCA9IFtcImNpdmljLWdyYXBoLnV0aWxcIl07XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoXCJjaXZpYy1ncmFwaC51dGlsXCIsIFtdKTtcclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiY2l2aWMtZ3JhcGguYXBpXCIsIGFwaURlcGVuZGVuY3lMaXN0KTtcclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiY2l2aWMtZ3JhcGhcIiwgbWFpbkRlcGVuZGVuY3lMaXN0KTtcclxuXHJcbn0pKGFuZ3VsYXIpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNy8xLzE2LlxyXG4gKi9cclxuXHJcblxyXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIGFuYWx5dGljc0RlcGVuZGVuY2llcyA9IFthbmFseXRpY3NEaXJlY3RpdmVdO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFuYWx5dGljc0RpcmVjdGl2ZSgpe1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvYW5hbHl0aWMvYW5hbHl0aWNzLmh0bWwnLFxyXG4gICAgICAgICAgICByZXN0cmljdCAgIDogJ0UnLFxyXG4gICAgICAgICAgICBzY29wZSAgICAgIDoge30sXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgICA6ICdhbmFseXRpY3NDdHJsJ1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcclxuICAgICAgICAuZGlyZWN0aXZlKCdhbmFseXRpY3MnLCBhbmFseXRpY3NEZXBlbmRlbmNpZXMpO1xyXG5cclxufSkoYW5ndWxhcik7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA3LzEwLzE2LlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgY29udHJvbERlcGVuZGVuY2llcyA9IFtjb250cm9sRGlyZWN0aXZlXTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb250cm9sRGlyZWN0aXZlKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnanMvY29udHJvbC9jb250cm9scy5odG1sJyxcclxuICAgICAgICAgICAgcmVzdHJpY3QgICA6ICdFJyxcclxuICAgICAgICAgICAgc2NvcGUgICAgICA6IHtcclxuICAgICAgICAgICAgICAgIHRvZ2dsZU5ldHdvcmsgOiAnPScsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgICA6ICdjb250cm9sQ3RybCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBcyA6ICdjb250cm9sJyxcclxuICAgICAgICAgICAgYmluZFRvQ29udHJvbGxlciA6IHtcclxuICAgICAgICAgICAgICAgIG1pbkNvbm5lY3Rpb25zIDogXCI9XCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcclxuICAgICAgICAuZGlyZWN0aXZlKCdjb250cm9sJywgY29udHJvbERlcGVuZGVuY2llcyk7XHJcblxyXG59KShhbmd1bGFyKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDYvMjgvMTYuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcblxyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgZnVuY3Rpb24gU2VydmljZShhcGlDYWxsZXIsIHV0aWxzKSB7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIENhdGVnb3J5KG9iaikge1xyXG4gICAgICAgICAgICB2YXIgZ2V0UHJvcGVydHkgPSB1dGlscy5nZXRQcm9wZXJ0eUZyb21PYmoob2JqKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaWQgPSBnZXRQcm9wZXJ0eShcImlkXCIpO1xyXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBnZXRQcm9wZXJ0eShcIm5hbWVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlZCA9IGdldFByb3BlcnR5KFwiZW5hYmxlXCIsIHRydWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0Q2F0ZWdvcnlNb2RlbChvYmopIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDYXRlZ29yeShvYmopO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0QWxsKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXBpQ2FsbGVyLmdldChcIi9jYXRlZ29yaWVzXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgXCJnZXRDYXRlZ29yeU1vZGVsXCI6IGdldENhdGVnb3J5TW9kZWwsXHJcbiAgICAgICAgICAgIFwiZ2V0QWxsXCI6IGdldEFsbFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgU2VydmljZS4kaW5qZWN0ID0gW1wiY2dBcGlDYWxsZXJcIiwgXCJjZ1V0aWxTZXJ2aWNlXCJdO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKFwiY2l2aWMtZ3JhcGguYXBpXCIpXHJcbiAgICAgICAgLmZhY3RvcnkoXCJjYXRlZ29yeVNlcnZpY2VcIiwgU2VydmljZSk7XHJcblxyXG59KShhbmd1bGFyKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDYvMjcvMTYuXHJcbiAqL1xyXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuXHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICB2YXIgdXJsID0gXCIvY29ubmVjdGlvbnNcIjtcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRDb25uZWN0aW9uVHlwZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgXCJGdW5kaW5nXCI6IHRydWUsXHJcbiAgICAgICAgICAgIFwiRGF0YVwiOiB0cnVlLFxyXG4gICAgICAgICAgICBcIkVtcGxveW1lbnRcIjogdHJ1ZSxcclxuICAgICAgICAgICAgXCJDb2xsYWJvcmF0aW9uXCI6IHRydWVcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIFNlcnZpY2UoYXBpQ2FsbGVyLCB1dGlscykge1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBDb25uZWN0aW9uKG9iaikge1xyXG4gICAgICAgICAgICB2YXIgZ2V0UHJvcGVydHkgPSB1dGlscy5nZXRQcm9wZXJ0eUZyb21PYmoob2JqKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaWQgPSBnZXRQcm9wZXJ0eShcImlkXCIpO1xyXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBnZXRQcm9wZXJ0eShcIm5hbWVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuZGV0YWlscyA9IGdldFByb3BlcnR5KFwiZGV0YWlsc1wiKTtcclxuICAgICAgICAgICAgdGhpcy5lbnRpdHkgPSBnZXRQcm9wZXJ0eShcImVudGl0eVwiKTtcclxuICAgICAgICAgICAgdGhpcy5lbnRpdHlfaWQgPSBnZXRQcm9wZXJ0eShcImVudGl0eV9pZFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldENvbm5lY3Rpb25Nb2RlbChvYmopIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb25uZWN0aW9uKG9iaik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRBbGwoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhcGlDYWxsZXIuZ2V0KHVybCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBcImdldEFsbFwiOiBnZXRBbGwsXHJcbiAgICAgICAgICAgIFwiZ2V0Q29ubmVjdGlvblR5cGVzXCI6IGdldENvbm5lY3Rpb25UeXBlcyxcclxuICAgICAgICAgICAgXCJnZXRDb25uZWN0aW9uTW9kZWxcIjogZ2V0Q29ubmVjdGlvbk1vZGVsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBTZXJ2aWNlLiRpbmplY3QgPSBbXCJjZ0FwaUNhbGxlclwiLCBcImNnVXRpbFNlcnZpY2VcIl07XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoXCJjaXZpYy1ncmFwaC5hcGlcIilcclxuICAgICAgICAuZmFjdG9yeShcImNvbm5lY3Rpb25TZXJ2aWNlXCIsIFNlcnZpY2UpO1xyXG5cclxufSkoYW5ndWxhcik7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI3LzE2LlxyXG4gKi9cclxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcblxyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgZnVuY3Rpb24gU2VydmljZSh1dGlscykge1xyXG4gICAgICAgIGZ1bmN0aW9uIEZpbmFuY2Uob2JqKSB7XHJcbiAgICAgICAgICAgIHZhciBnZXRQcm9wZXJ0eSA9IHV0aWxzLmdldFByb3BlcnR5RnJvbU9iaihvYmopO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pZCA9IGdldFByb3BlcnR5KFwiaWRcIik7XHJcbiAgICAgICAgICAgIHRoaXMueWVhciA9IGdldFByb3BlcnR5KFwieWVhclwiKTtcclxuICAgICAgICAgICAgdGhpcy5hbW91bnQgPSBnZXRQcm9wZXJ0eShcImFtb3VudFwiLCAwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldEZpbmFuY2VNb2RlbChvYmopIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGaW5hbmNlKG9iaik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBcImdldEZpbmFuY2VNb2RlbFwiOiBnZXRGaW5hbmNlTW9kZWxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIFNlcnZpY2UuJGluamVjdCA9IFtcImNnVXRpbFNlcnZpY2VcIl07XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoXCJjaXZpYy1ncmFwaC5hcGlcIilcclxuICAgICAgICAuZmFjdG9yeShcImZpbmFuY2VTZXJ2aWNlXCIsIFNlcnZpY2UpO1xyXG5cclxufSkoYW5ndWxhcik7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA2LzI3LzE2LlxyXG4gKi9cclxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcblxyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgZnVuY3Rpb24gU2VydmljZSh1dGlscykge1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBGdW5kaW5nQ29ubmVjdGlvbihvYmopIHtcclxuICAgICAgICAgICAgdmFyIGdldFByb3BlcnR5ID0gdXRpbHMuZ2V0UHJvcGVydHlGcm9tT2JqKG9iaik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmlkID0gZ2V0UHJvcGVydHkoXCJpZFwiKTtcclxuICAgICAgICAgICAgdGhpcy55ZWFyID0gZ2V0UHJvcGVydHkoXCJ5ZWFyXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmFtb3VudCA9IGdldFByb3BlcnR5KFwiYW1vdW50XCIpO1xyXG4gICAgICAgICAgICB0aGlzLmVudGl0eSA9IGdldFByb3BlcnR5KFwiZW50aXR5XCIsIFwiXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0RnVuZGluZ0Nvbm5lY3Rpb25Nb2RlbChvYmopIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGdW5kaW5nQ29ubmVjdGlvbihvYmopO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgXCJnZXRGdW5kaW5nQ29ubmVjdGlvbk1vZGVsXCI6IGdldEZ1bmRpbmdDb25uZWN0aW9uTW9kZWxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIFNlcnZpY2UuJGluamVjdCA9IFtcImNnVXRpbFNlcnZpY2VcIl07XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoXCJjaXZpYy1ncmFwaC5hcGlcIilcclxuICAgICAgICAuZmFjdG9yeShcImZ1bmRpbmdDb25uZWN0aW9uU2VydmljZVwiLCBTZXJ2aWNlKTtcclxuXHJcbn0pKGFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuXHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICBmdW5jdGlvbiBDb250cm9sbGVyKCRzY29wZSwgJGh0dHAsICR0aW1lb3V0LCBfLCBlbnRpdHlTZXJ2aWNlLCBjYXRlZ29yeVNlcnZpY2UsIGxvY2F0aW9uU2VydmljZSwgdXRpbHMpIHtcclxuICAgICAgICAkc2NvcGUuaXNFZGl0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgJHNjb3BlLmVkaXRFbnRpdHkgPSBlbnRpdHlTZXJ2aWNlLmdldEVudGl0eU1vZGVsKCRzY29wZS5lbnRpdHkpO1xyXG4gICAgICAgICRzY29wZS5lbnRpdHlUeXBlcyA9IGVudGl0eVNlcnZpY2UuZ2V0RW50aXR5VHlwZXMoKTtcclxuICAgICAgICAkc2NvcGUuaW5mbHVlbmNlVHlwZXMgPSBlbnRpdHlTZXJ2aWNlLmdldEluZmx1ZW5jZVR5cGVzKCk7XHJcblxyXG4gICAgICAgIHZhciBjYXRlZ29yeUJhY2t1cDtcclxuXHJcbiAgICAgICAgJHNjb3BlLmNhdGVnb3JpZXMgPSBbXTtcclxuXHJcbiAgICAgICAgJHNjb3BlLmFkZHJlc3NTZWFyY2ggPSBmdW5jdGlvbiAoc2VhcmNoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5qc29ucCgnaHR0cHM6Ly9kZXYudmlydHVhbGVhcnRoLm5ldC9SRVNUL3YxL0xvY2F0aW9ucycsIHtcclxuICAgICAgICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBzZWFyY2gsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnQWk1ODU4MXlDLVNyN21jRmJZVHRVa1MzaXhFN2Y2WnVKbmJGSkNWSTRoQXRXMVhvREVlWnlpZFF6MmdMQ0N5RCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2pzb25wJzogJ0pTT05fQ0FMTEJBQ0snLFxyXG4gICAgICAgICAgICAgICAgICAgICdpbmNsdWRlJzogJ2Npc28yJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHV0aWxzLmlzRGVmaW5lZChyZXNwb25zZS5kYXRhLnJlc291cmNlU2V0cykgJiYgcmVzcG9uc2UuZGF0YS5yZXNvdXJjZVNldHMubGVuZ3RoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5yZXNvdXJjZVNldHNbMF0ucmVzb3VyY2VzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS50b2dnbGVDYXRlZ29yeSA9IGZ1bmN0aW9uIChjYXRlZ29yeSkge1xyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLmVkaXRFbnRpdHkuY2F0ZWdvcmllcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5lZGl0RW50aXR5LmNhdGVnb3JpZXMucHVzaChjYXRlZ29yeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjYXRlZ29yeUluZGV4IGluICRzY29wZS5lZGl0RW50aXR5LmNhdGVnb3JpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISRzY29wZS5lZGl0RW50aXR5LmNhdGVnb3JpZXMuaGFzT3duUHJvcGVydHkoY2F0ZWdvcnlJbmRleCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbnRpdHlDYXRlZ29yeSA9ICRzY29wZS5lZGl0RW50aXR5LmNhdGVnb3JpZXNbY2F0ZWdvcnlJbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVudGl0eUNhdGVnb3J5LmlkID09PSBjYXRlZ29yeS5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eUNhdGVnb3J5LmVuYWJsZWQgPSBjYXRlZ29yeS5lbmFibGVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVkaXRFbnRpdHkuY2F0ZWdvcmllcy5wdXNoKGNhdGVnb3J5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5zZXRMb2NhdGlvbiA9IGZ1bmN0aW9uIChsb2NhdGlvbiwgaXNMYXN0KSB7XHJcbiAgICAgICAgICAgICRzY29wZS5hZGRyZXNzU2VhcmNoKGxvY2F0aW9uLmZvcm1hdHRlZEFkZHJlc3MpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoYXBpQ2FsbFJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCF1dGlscy5pc0RlZmluZWQoYXBpQ2FsbFJlc3VsdFswXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXBpQ2FsbFJlc3VsdFswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyA9IHJlc3VsdC5hZGRyZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludCA9IHJlc3VsdC5wb2ludDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTG9jYXRpb24oaXNMYXN0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUGFyc2VzIEFQSSBjYWxsIHJlc3VsdFxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmFkZHJlc3NfbGluZSA9IHV0aWxzLmlzRGVmaW5lZChhZGRyZXNzLmFkZHJlc3NMaW5lKSA/IGFkZHJlc3MuYWRkcmVzc0xpbmUgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5sb2NhbGl0eSA9IHV0aWxzLmlzRGVmaW5lZChhZGRyZXNzLmxvY2FsaXR5KSA/IGFkZHJlc3MubG9jYWxpdHkgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5kaXN0cmljdCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLmlzRGVmaW5lZChhZGRyZXNzLmFkbWluRGlzdHJpY3QpID8gYWRkcmVzcy5hZG1pbkRpc3RyaWN0IDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uY291bnRyeSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLmlzRGVmaW5lZChhZGRyZXNzLmNvdW50cnlSZWdpb24pID8gYWRkcmVzcy5jb3VudHJ5UmVnaW9uIDogbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5jb3VudHJ5X2NvZGUgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5pc0RlZmluZWQoYWRkcmVzcy5jb3VudHJ5UmVnaW9uSXNvMikgPyBhZGRyZXNzLmNvdW50cnlSZWdpb25Jc28yIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uY29vcmRpbmF0ZXMgPSB1dGlscy5pc0RlZmluZWQocG9pbnQuY29vcmRpbmF0ZXMpID8gcG9pbnQuY29vcmRpbmF0ZXMgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnBvc3RhbF9jb2RlID0gdXRpbHMuaXNEZWZpbmVkKGFkZHJlc3MucG9zdGFsQ29kZSkgPyBhZGRyZXNzLnBvc3RhbENvZGUgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLmFkZExvY2F0aW9uID0gZnVuY3Rpb24gKGlzTGFzdCkge1xyXG4gICAgICAgICAgICBpZiAoaXNMYXN0KSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdEVudGl0eS5sb2NhdGlvbnMucHVzaChsb2NhdGlvblNlcnZpY2UuZ2V0TG9jYXRpb25Nb2RlbCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5hZGRLZXlQZXJzb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIEFkZCBibGFuayBmaWVsZCB0byBlZGl0IGlmIHRoZXJlIGFyZSBub25lLlxyXG4gICAgICAgICAgICAvLyBXQVRDSCBPVVQhIFRPRE86IElmIHNvbWVvbmUgZGVsZXRlcyBhbiBvbGQgcGVyc29uLCBkZWxldGUgdGhlaXIgaWQgdG9vLlxyXG4gICAgICAgICAgICAvLyBpLmUuIG1ha2Ugc3VyZSBvbGQvY2xlYXJlZCBmb3JtIGZpZWxkcyBhcmVuJ3QgYmVpbmcgZWRpdGVkIGludG8gbmV3IHBlb3BsZS5cclxuICAgICAgICAgICAgaWYgKCEoXy5zb21lKCRzY29wZS5lZGl0RW50aXR5LmtleV9wZW9wbGUsIHsnbmFtZSc6ICcnLCAnaWQnOiBudWxsfSkpKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdEVudGl0eS5rZXlfcGVvcGxlLnB1c2goeyduYW1lJzogJycsICdpZCc6IG51bGx9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5zZXRGdW5kaW5nQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIChlbnRpdHksIGZ1bmRpbmcpIHtcclxuICAgICAgICAgICAgLy8gQWRkIG90aGVyIGVudGl0eSdzIGlkIHRvIHRoaXMgZmluYW5jZSBjb25uZWN0aW9uLlxyXG4gICAgICAgICAgICBmdW5kaW5nLmVudGl0eV9pZCA9IGVudGl0eS5pZDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuYWRkRnVuZGluZ0Nvbm5lY3Rpb24gPSBmdW5jdGlvbiAoZnVuZGluZykge1xyXG4gICAgICAgICAgICBpZiAoIV8uc29tZShmdW5kaW5nLCB7J2VudGl0eSc6ICcnfSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIE1heWJlIHNldCBhbW91bnQgdG8gMCBpbnN0ZWFkIG9mIG51bGw/XHJcbiAgICAgICAgICAgICAgICBmdW5kaW5nLnB1c2goeydlbnRpdHknOiAnJywgJ2Ftb3VudCc6IG51bGwsICd5ZWFyJzogbnVsbCwgJ2lkJzogbnVsbH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLnNldENvbm5lY3Rpb24gPSBmdW5jdGlvbiAoZW50aXR5LCBjb25uZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb24uZW50aXR5X2lkID0gZW50aXR5LmlkO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5hZGRDb25uZWN0aW9uID0gZnVuY3Rpb24gKGNvbm5lY3Rpb25zKSB7XHJcbiAgICAgICAgICAgIC8vIEFkZCBhbiBlbXB0eSBjb25uZWN0aW9uIHRvIGVkaXQgaWYgbm9uZSBleGlzdC5cclxuICAgICAgICAgICAgaWYgKCFfLnNvbWUoY29ubmVjdGlvbnMsIHsnZW50aXR5JzogJycsICdpZCc6IG51bGx9KSkge1xyXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbnMucHVzaCh7J2VudGl0eSc6ICcnLCAnaWQnOiBudWxsLCAnZGV0YWlscyc6IG51bGx9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5hZGRGaW5hbmNlID0gZnVuY3Rpb24gKHJlY29yZHMpIHtcclxuICAgICAgICAgICAgLy8gQWRkIG5ldyBmaW5hbmNlIGZpZWxkIGlmIGFsbCBjdXJyZW50IGZpZWxkcyBhcmUgdmFsaWQuXHJcbiAgICAgICAgICAgIGlmIChfLmV2ZXJ5KHJlY29yZHMsIGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHIuYW1vdW50ID4gMCAmJiByLnllYXIgPiAxNzUwO1xyXG4gICAgICAgICAgICAgICAgfSkpIHtcclxuICAgICAgICAgICAgICAgIHJlY29yZHMucHVzaCh7J2Ftb3VudCc6IG51bGwsICd5ZWFyJzogbnVsbCwgJ2lkJzogbnVsbH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5pc1NhdmluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaXNTYXZpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdChcImVkaXRFbnRpdHlTdWNjZXNzXCIsIHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIC8vIENhbGwgdG8gaG9tZUN0cmwncyBwYXJlbnQgc3RvcEVkaXQoKSB0byBjaGFuZ2UgdmlldyBiYWNrIGFuZCBhbnkgb3RoZXJcclxuICAgICAgICAgICAgICAgIC8vIGhpZ2gtbGV2ZWwgY2hhbmdlcy5cclxuICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWxFZGl0KCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGVycm9yKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmlzRXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5pc0Vycm9yID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZW50aXR5U2VydmljZVxyXG4gICAgICAgICAgICAgICAgLnNhdmVFbnRpdHkoJHNjb3BlLmVkaXRFbnRpdHkuZ2VuZXJhdGVEQk1vZGVsKCkpXHJcbiAgICAgICAgICAgICAgICAudGhlbihzdWNjZXNzLCBlcnJvcik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLmNhbmNlbEVkaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5pc09wZW4gPSBmYWxzZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuJHdhdGNoKCdlbnRpdHknLCBmdW5jdGlvbiAobmV3VmFsLCBvbGRWYWwpIHtcclxuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuZXF1YWxzKG5ld1ZhbCwgb2xkVmFsKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZWRpdEVudGl0eSA9IGVudGl0eVNlcnZpY2UuZ2V0RW50aXR5TW9kZWwobmV3VmFsKTtcclxuICAgICAgICAgICAgJHNjb3BlLmNhdGVnb3JpZXMgPSBhbmd1bGFyLmNvcHkoY2F0ZWdvcnlCYWNrdXApO1xyXG5cclxuICAgICAgICAgICAgaW5pdENhdGVnb3J5QXJyYXkoKTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5pc0VkaXRpbmcgPSB1dGlscy5pc0RlZmluZWQoJHNjb3BlLmVkaXRFbnRpdHkuaWQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbml0aWFsaXplcyBjYXRlZ29yeSBmaWVsZHMgd2l0aCBlbnRpdHkgdmFsdWVzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogTG9vcHMgdGhyb3VnaCBjYXRlZ29yeSBpbiBjYXRlZ29yaWVzIGFuZCBsb29wcyB0aHJvdWdoIGNhdGVnb3J5IGluIGVudGl0eS4gSWRlbnRpZmllc1xyXG4gICAgICAgICAqIGNhdGVnb3JpZXMgZW5hYmxlZCBpbiB0aGUgZW50aXR5IGFuZCBzZXRzIGxvY2FsIGRpc3BsYXkgZGF0YS4gVGhpcyBpcyBiZWNhdXNlIHdlIGNyZWF0ZWRcclxuICAgICAgICAgKiBhIGJhY2t1cCBvZiBlbnRpdHkgZGF0YSBzbyB0aGF0IHRoZSBhcGkgZGF0YSBpcyBub3QgdGFtcGVyZWQgd2l0aCBkaXJlY3RseS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFRPRE86IHJlcGxhY2Ugd2l0aCBiZXR0ZXIgZGF0YSBzdHJ1Y3R1cmUgZm9yIGNhdGVnb3JpZXMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdENhdGVnb3J5QXJyYXkoKSB7XHJcbiAgICAgICAgICAgIHZhciBjYXRlZ29yeSxcclxuICAgICAgICAgICAgICAgIGNhdGVnb3J5SW5kZXgsXHJcbiAgICAgICAgICAgICAgICBlbnRpdHlDYXRlZ29yeUluZGV4LFxyXG4gICAgICAgICAgICAgICAgZW50aXR5Q2F0ZWdvcnk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNhdGVnb3J5SW5kZXggaW4gJHNjb3BlLmNhdGVnb3JpZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghJHNjb3BlLmNhdGVnb3JpZXMuaGFzT3duUHJvcGVydHkoY2F0ZWdvcnlJbmRleCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGVnb3J5ID0gJHNjb3BlLmNhdGVnb3JpZXNbY2F0ZWdvcnlJbmRleF07XHJcbiAgICAgICAgICAgICAgICBmb3IgKGVudGl0eUNhdGVnb3J5SW5kZXggaW4gJHNjb3BlLmVkaXRFbnRpdHkuY2F0ZWdvcmllcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghJHNjb3BlLmVkaXRFbnRpdHkuY2F0ZWdvcmllcy5oYXNPd25Qcm9wZXJ0eShlbnRpdHlDYXRlZ29yeUluZGV4KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5Q2F0ZWdvcnkgPSAkc2NvcGUuZWRpdEVudGl0eS5jYXRlZ29yaWVzW2VudGl0eUNhdGVnb3J5SW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeS5pZCA9PT0gZW50aXR5Q2F0ZWdvcnkuaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkuZW5hYmxlZCA9IGVudGl0eUNhdGVnb3J5LmVuYWJsZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZXRyaWV2ZSBDYXRlZ29yaWVzIGZyb20gREJcclxuICAgICAgICBjYXRlZ29yeVNlcnZpY2VcclxuICAgICAgICAgICAgLmdldEFsbCgpXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yeUJhY2t1cCA9IGRhdGEuY2F0ZWdvcmllcztcclxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZXMgYmFja3VwIG9mIGRhdGEgdXNpbmcgQW5ndWxhciB0byBwcmV2ZW50IGFwaSBkYXRhIGZyb20gYmVpbmcgdGFtcGVyZWRcclxuICAgICAgICAgICAgICAgIC8vIGRpcmVjdGx5XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2F0ZWdvcmllcyA9IGFuZ3VsYXIuY29weShjYXRlZ29yeUJhY2t1cCk7XHJcbiAgICAgICAgICAgICAgICAvLyAkc2NvcGUuY2F0ZWdvcmllcyA9IGRhdGEuY2F0ZWdvcmllcztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgQ29udHJvbGxlci4kaW5qZWN0ID0gW1xyXG4gICAgICAgIFwiJHNjb3BlXCIsXHJcbiAgICAgICAgXCIkaHR0cFwiLFxyXG4gICAgICAgIFwiJHRpbWVvdXRcIixcclxuICAgICAgICBcIl9cIixcclxuICAgICAgICBcImVudGl0eVNlcnZpY2VcIixcclxuICAgICAgICBcImNhdGVnb3J5U2VydmljZVwiLFxyXG4gICAgICAgIFwibG9jYXRpb25TZXJ2aWNlXCIsXHJcbiAgICAgICAgXCJjZ1V0aWxTZXJ2aWNlXCJcclxuICAgIF07XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoXCJjaXZpYy1ncmFwaFwiKVxyXG4gICAgICAgIC5jb250cm9sbGVyKFwiZWRpdEN0cmxcIiwgQ29udHJvbGxlcik7XHJcblxyXG59KShhbmd1bGFyKTtcclxuIiwiLyoqXHJcbiAqXHJcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDYvMjcvMTYuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBlZGl0RW50aXR5RGVwZW5kZW5jaWVzID0gW2VkaXRFbnRpdHlEaXJlY3RpdmVdO1xyXG5cclxuICAgIGZ1bmN0aW9uIGVkaXRFbnRpdHlEaXJlY3RpdmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdqcy9lZGl0LWVudGl0eS9lZGl0Lmh0bWwnLFxyXG4gICAgICAgICAgICByZXN0cmljdCAgIDogJ0UnLFxyXG4gICAgICAgICAgICBzY29wZSAgICAgIDoge1xyXG4gICAgICAgICAgICAgICAgJ2VudGl0eScgIDogXCI9XCIsXHJcbiAgICAgICAgICAgICAgICAnZW50aXRpZXMnOiBcIj1cIixcclxuICAgICAgICAgICAgICAgICdpc09wZW4nICA6IFwiPVwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiAnZWRpdEN0cmwnXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxyXG4gICAgICAgIC5kaXJlY3RpdmUoJ2VkaXRFbnRpdHknLCBlZGl0RW50aXR5RGVwZW5kZW5jaWVzKTtcclxuXHJcbn0pKGFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIsICQpIHtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgZnVuY3Rpb24gbGlua0Z1bmN0aW9uKHNjb3BlKSB7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNjcm9sbCgpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICBzZWxmLmNzcygnaGVpZ2h0JywgJzU1dmgnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNsaWNrKCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cuaW5uZXJIZWlnaHQgLyAzID4gcGFyc2VJbnQoc2VsZi5jc3MoJ2hlaWdodCcpKSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jc3MoJ2hlaWdodCcsICc1NXZoJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmNzcygnaGVpZ2h0JywgJzMwdmgnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGRldGFpbHNQYW5lbDtcclxuICAgICAgICBpZiAoc2NvcGUubW9iaWxlKSB7XHJcbiAgICAgICAgICAgIGRldGFpbHNQYW5lbCA9ICQoXCIjZGV0YWlscy1wYW5lbFwiKTtcclxuICAgICAgICAgICAgZGV0YWlsc1BhbmVsLmNzcyhcImhlaWdodFwiLCBcIjMwdmhcIik7XHJcbiAgICAgICAgICAgIGRldGFpbHNQYW5lbC5zY3JvbGxUb3AoMCk7XHJcbiAgICAgICAgICAgIGRldGFpbHNQYW5lbC5zY3JvbGwoc2Nyb2xsKTtcclxuICAgICAgICAgICAgZGV0YWlsc1BhbmVsLmNsaWNrKGNsaWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkTW9iaWxlRXZlbnRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgICAgIGxpbms6IGxpbmtGdW5jdGlvblxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcclxuICAgICAgICAuZGlyZWN0aXZlKCdhZGRNb2JpbGVFdmVudHMnLCBbYWRkTW9iaWxlRXZlbnRzXSk7XHJcbn0pKGFuZ3VsYXIsICQpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBmdW5jdGlvbiBtb2RhbEN0cmwoJHNjb3BlLCAkbW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICRzY29wZS5jbG9zZVdpbmRvdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJG1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ21vZGFsQ3RybCcsIFsnJHNjb3BlJywgJyRtb2RhbEluc3RhbmNlJywgbW9kYWxDdHJsXSk7XHJcblxyXG59KShhbmd1bGFyKTsiLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcclxuICAgICAgICAuY29uc3RhbnQoJ18nLCB3aW5kb3cuXylcclxuICAgICAgICAuY29uZmlnKFsnJGxvY2F0aW9uUHJvdmlkZXInLCAnJGNvbXBpbGVQcm92aWRlcicsXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uICgkbG9jYXRpb25Qcm92aWRlciwgJGNvbXBpbGVQcm92aWRlcikge1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgJGNvbXBpbGVQcm92aWRlci5kZWJ1Z0luZm9FbmFibGVkKHRydWUpO1xyXG4gICAgICAgICAgICB9XSlcclxuICAgICAgICAuZmlsdGVyKCd0aG91c2FuZFN1ZmZpeCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpbnB1dCwgZGVjaW1hbHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBleHAsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VmZml4ZXMgPSBbJ2snLCAnTScsICdHJywgJ1QnLCAnUCcsICdFJ107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5pc05hTihpbnB1dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPCAxMDAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGV4cCA9IE1hdGguZmxvb3IoTWF0aC5sb2coaW5wdXQpIC8gTWF0aC5sb2coMTAwMCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiAoaW5wdXQgLyBNYXRoLnBvdygxMDAwLCBleHApKS50b0ZpeGVkKGRlY2ltYWxzKSArIHN1ZmZpeGVzW2V4cCAtIDFdO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG5cclxufSkoYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgaG9tZURlcGVuZGVuY2llcyA9IFtcclxuICAgICAgICAnJHNjb3BlJyxcclxuICAgICAgICAnJHRpbWVvdXQnLFxyXG4gICAgICAgICdfJyxcclxuICAgICAgICAnZW50aXR5U2VydmljZScsXHJcbiAgICAgICAgJ2Nvbm5lY3Rpb25TZXJ2aWNlJyxcclxuICAgICAgICBob21lQ3RybFxyXG4gICAgXTtcclxuXHJcbiAgICBmdW5jdGlvbiBob21lQ3RybCgkc2NvcGUsICR0aW1lb3V0LCBfLCBlbnRpdHlTZXJ2aWNlLCBjb25uZWN0aW9uU2VydmljZSkge1xyXG4gICAgICAgICRzY29wZS5lbnRpdGllcyAgICAgICAgICAgICAgICAgPSBbXTtcclxuICAgICAgICAkc2NvcGUuc2VhcmNoSXRlbXMgICAgICAgICAgICAgID0gbnVsbDtcclxuICAgICAgICAkc2NvcGUuY2F0ZWdvcmllcyAgICAgICAgICAgICAgID0gW107XHJcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRMb2NhdGlvbiAgICAgICAgICA9IG51bGw7XHJcbiAgICAgICAgJHNjb3BlLmNsaWNrZWRMb2NhdGlvbiAgICAgICAgICA9IHt9O1xyXG4gICAgICAgICRzY29wZS5jbGlja2VkTG9jYXRpb24ubG9jYXRpb24gPSBudWxsO1xyXG4gICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5ICAgICAgICAgICAgPSB7fTtcclxuICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgICAgID0gbnVsbDtcclxuICAgICAgICAkc2NvcGUuZWRpdGluZyAgICAgICAgICAgICAgICAgID0gZmFsc2U7XHJcbiAgICAgICAgJHNjb3BlLmFjdGlvbnMgICAgICAgICAgICAgICAgICA9IHsnaW50ZXJhY3RlZCc6IGZhbHNlfTtcclxuICAgICAgICAkc2NvcGUuc2hvd3NlYXJjaE1CICAgICAgICAgICAgID0gZmFsc2U7XHJcbiAgICAgICAgJHNjb3BlLnNob3dBbmFseXRpY3MgICAgICAgICAgICA9IGZhbHNlO1xyXG4gICAgICAgICRzY29wZS5lbnRpdHlUeXBlcyAgICAgICAgICAgICAgPSBlbnRpdHlTZXJ2aWNlLmdldEVudGl0eVR5cGVzKCk7XHJcbiAgICAgICAgJHNjb3BlLmNvbm5lY3Rpb25UeXBlcyAgICAgICAgICA9IGNvbm5lY3Rpb25TZXJ2aWNlLmdldENvbm5lY3Rpb25UeXBlcygpO1xyXG4gICAgICAgICRzY29wZS5zdGF0dXMgICAgICAgICAgICAgICAgICAgPSB7XHJcbiAgICAgICAgICAgIFwiaXNOZXR3b3JrU2hvd25cIjogdHJ1ZSxcclxuICAgICAgICAgICAgXCJsaWNlbnNlXCIgICAgICAgOiB0cnVlLFxyXG4gICAgICAgICAgICBcIm5ldHdvcmtMb2FkaW5nXCI6IHRydWVcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUudG9nZ2xlQW5hbHl0aWNzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0FuYWx5dGljcyA9ICEkc2NvcGUuc2hvd0FuYWx5dGljcztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLm1pbkNvbm5lY3Rpb25zID0gJHNjb3BlLm1pbkNvbm5lY3Rpb25zID0gMjtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIC8vICRzY29wZS4kd2F0Y2goJ21pbkNvbm5lY3Rpb25zJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gICAgICRzY29wZS4kYnJvYWRjYXN0KCd0cmlnZ2VyTmV0d29ya0RyYXcnKTtcclxuICAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgICAgJHNjb3BlLiR3YXRjaCgnbWluQ29ubmVjdGlvbnMnLCB3YXRjaE1pbkNvbm5lY3Rpb24pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiB3YXRjaE1pbkNvbm5lY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCd0cmlnZ2VyTmV0d29ya0RyYXcnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRzY29wZS5jb25uZWN0aW9uQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzZWxmLm1pbkNvbm5lY3Rpb25zKTtcclxuICAgICAgICAgICAgJHNjb3BlLm1pbkNvbm5lY3Rpb25zID0gc2VsZi5taW5Db25uZWN0aW9ucztcclxuICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ3RyaWdnZXJOZXR3b3JrRHJhdycpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5oeWRlUGFydGlhbHMgPSBmdW5jdGlvbiAoZXhjZXB0KSB7XHJcbiAgICAgICAgICAgIGlmIChleGNlcHQgPT09IFwic2VhcmNoXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5lZGl0aW5nICAgICAgICAgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZXR0aW5nc0VuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChleGNlcHQgPT09IFwic2V0dGluZ3NcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmVkaXRpbmcgICAgICA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dzZWFyY2hNQiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV4Y2VwdCA9PT0gXCJlZGl0XCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZXR0aW5nc0VuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93c2VhcmNoTUIgICAgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5lZGl0aW5nICAgICAgICAgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZXR0aW5nc0VuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93c2VhcmNoTUIgICAgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuc2hvd1NlYXJjaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmh5ZGVQYXJ0aWFscyhcInNlYXJjaFwiKTtcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dzZWFyY2hNQiAgID0gISRzY29wZS5zaG93c2VhcmNoTUI7XHJcbiAgICAgICAgICAgIC8vICRzY29wZS4kYnJvYWRjYXN0KCdoaWRlTGljZW5zZScpO1xyXG4gICAgICAgICAgICAkc2NvcGUuc3RhdHVzLmxpY2Vuc2UgPSBmYWxzZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUudG9nZ2xlU2V0dGluZ3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5oeWRlUGFydGlhbHMoXCJzZXR0aW5nc1wiKTtcclxuICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzRW5hYmxlZCA9ICEkc2NvcGUuc2V0dGluZ3NFbmFibGVkO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5zdGFydEVkaXQgPSBmdW5jdGlvbiAoZW50aXR5KSB7XHJcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50RW50aXR5ID0gZW50aXR5O1xyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLm1vYmlsZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmh5ZGVQYXJ0aWFscyhcImVkaXRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJHNjb3BlLmVkaXRpbmcgPSB0cnVlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5zd2l0Y2hWaWV3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyAkc2NvcGUuJGJyb2FkY2FzdCgndmlld0NoYW5nZScsICEkc2NvcGUuc3RhdHVzLmlzTmV0d29ya1Nob3duID8gJ01hcCcgOiAnTmV0d29yaycpO1xyXG4gICAgICAgICAgICAvLyAkc2NvcGUuY2hhbmdlVmlldyghJHNjb3BlLnN0YXR1cy5pc05ldHdvcmtTaG93biA/ICdNYXAnIDogJ05ldHdvcmsnKTtcclxuICAgICAgICAgICAgJHNjb3BlLnN0YXR1cy5pc05ldHdvcmtTaG93biA9ICEkc2NvcGUuc3RhdHVzLmlzTmV0d29ya1Nob3duO1xyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLnN0YXR1cy5pc05ldHdvcmtTaG93bikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ3RyaWdnZXJOZXR3b3JrRHJhdycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgd2luZG93Lm1vYmlsZWNoZWNrICAgICA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNoZWNrICA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgcmVnZXggID0gLyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhdmFudGdvfGJhZGFcXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWlkcHxtbXB8bW9iaWxlLitmaXJlZm94fG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVxcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIGNlfHhkYXx4aWluby9pLFxyXG4gICAgICAgICAgICAgICAgcmVnZXgyID0gLzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2k7XHJcbiAgICAgICAgICAgIChmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlZ2V4LnRlc3QoYSkgfHwgcmVnZXgyLnRlc3QoYS5zdWJzdHIoMCwgNCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2sgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KShuYXZpZ2F0b3IudXNlckFnZW50IHx8IG5hdmlnYXRvci52ZW5kb3IgfHwgd2luZG93Lm9wZXJhKTtcclxuICAgICAgICAgICAgcmV0dXJuIGNoZWNrO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLm1vYmlsZSAgICAgICAgICA9IHdpbmRvdy5tb2JpbGVjaGVjaygpO1xyXG4gICAgICAgICRzY29wZS5zZXR0aW5nc0VuYWJsZWQgPSAhJHNjb3BlLm1vYmlsZTtcclxuXHJcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBlbnRpdHlTZXJ2aWNlXHJcbiAgICAgICAgICAgICAgICAuZ2V0QWxsKClcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVudGl0aWVzID0gZGF0YS5ub2RlcztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb25zICAgPSBfLnVuaXEoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF8ucGx1Y2soXy5mbGF0dGVuKF8ucGx1Y2soJHNjb3BlLmVudGl0aWVzLCAnbG9jYXRpb25zJykpLCAnbG9jYWxpdHknKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbnRpdGllc0J5TG9jYXRpb24gPSBfLm1hcChsb2NhdGlvbnMsIGZ1bmN0aW9uIChsb2MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbmRpbmdzID0gXy5maWx0ZXIoJHNjb3BlLmVudGl0aWVzLCBfLmZsb3coXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLnByb3BlcnR5KCdsb2NhdGlvbnMnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ucGFydGlhbFJpZ2h0KF8uYW55LCB7bG9jYWxpdHk6IGxvY30pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgICAgOiBsb2MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlICAgIDogJ2xvY2F0aW9uJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0aWVzOiBmaW5kaW5ncyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpY3QgICAgOiBfLnppcE9iamVjdChfLnBsdWNrKGZpbmRpbmdzLCAnbmFtZScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ucGx1Y2soZmluZGluZ3MsICdpbmRleCcpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2VhcmNoSXRlbXMgPSBlbnRpdGllc0J5TG9jYXRpb24uY29uY2F0KCRzY29wZS5lbnRpdGllcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmICgkc2NvcGUuZ2V0VVJMSUQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyBTZXQgdGhlIGVudGl0eSB0byB0aGUgSUQgaW4gdGhlIFVSTCBpZiBpdCBleGlzdHMuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICRzY29wZS5zZXRFbnRpdHlJRCgkc2NvcGUuZ2V0VVJMSUQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5vdmVydmlld1VybCA9ICdqcy9vdmVydmlldy9vdmVydmlldy5odG1sJztcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgndHJpZ2dlck5ldHdvcmtEcmF3Jyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9LCAxMDApO1xyXG5cclxuICAgICAgICAkc2NvcGUub3ZlcnZpZXdVcmwgPSBudWxsO1xyXG5cclxuICAgICAgICAkc2NvcGUuc2V0RW50aXR5ICAgPSBmdW5jdGlvbiAoZW50aXR5KSB7XHJcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50TG9jYXRpb24gPSBudWxsO1xyXG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudEVudGl0eSAgID0gZW50aXR5O1xyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLmVkaXRpbmcpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdG9wRWRpdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdlbnRpdHlDaGFuZ2UnKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuc2V0RW50aXR5SUQgPSBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnNldEVudGl0eShfLmZpbmQoJHNjb3BlLmVudGl0aWVzLCB7J2lkJzogaWR9KSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLnNldExvY2F0aW9uID0gZnVuY3Rpb24gKGxvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50TG9jYXRpb24gPSBsb2NhdGlvbjtcclxuICAgICAgICAgICAgaWYgKCRzY29wZS5lZGl0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RvcEVkaXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnaXRlbUNoYW5nZScpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5zZWxlY3RJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2xvY2F0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNldExvY2F0aW9uKGl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlW2l0ZW0gJSAxID09PSAwID8gJ3NldEVudGl0eUlEJyA6ICdzZXRFbnRpdHknXShpdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgnc2VsZWN0SXRlbScsIGl0ZW0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS4kb24oJ3NldEN1cnJlbnRFbnRpdHknLCBmdW5jdGlvbiAoZXZlbnQsIGFyZ3MpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRFbnRpdHkgPSBhcmdzLnZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkc2NvcGUuJG9uKCdzZXRDdXJyZW50TG9jYXRpb24nLCBmdW5jdGlvbiAoZXZlbnQsIGFyZ3MpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRMb2NhdGlvbiA9IGFyZ3MudmFsdWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRzY29wZS5zZXRFbnRpdGllcyA9IGZ1bmN0aW9uIChlbnRpdGllcykge1xyXG4gICAgICAgICAgICAkc2NvcGUuZW50aXRpZXMgPSBlbnRpdGllcztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuc3RvcEVkaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5lZGl0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLiRvbihcImVkaXRFbnRpdHlTdWNjZXNzXCIsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAkc2NvcGUuc2V0RW50aXRpZXMocmVzcG9uc2Uubm9kZXMpO1xyXG4gICAgICAgICAgICAvLyAkc2NvcGUuc2V0RW50aXR5SUQoJHNjb3BlLmN1cnJlbnRFbnRpdHkuaWQpO1xyXG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgndHJpZ2dlck5ldHdvcmtEcmF3Jyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRzY29wZS5hbmltYXRpb25zRW5hYmxlZCA9IHRydWU7XHJcblx0XHQvL1RISVMgSVMgV0hFUkUgVEhFIE1PQklMRSBTVFVGRiBHT0VTXHJcblx0XHQkc2NvcGUudG9nZ2xlTm9kZSA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCd0b2dnbGVOb2RlJywgeyduYW1lJzogdHlwZSwgJ2VuYWJsZWQnOiAkc2NvcGUuZW50aXR5VHlwZXNbdHlwZV1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUudG9nZ2xlTGluayA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCd0b2dnbGVMaW5rJywgeyduYW1lJzogdHlwZSwgJ2VuYWJsZWQnOiAkc2NvcGUuY29ubmVjdGlvblR5cGVzW3R5cGVdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLmNoYW5nZVNpemVCeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ2NoYW5nZVNpemVCeScsICRzY29wZS5zaXplQnkpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2hvbWVDdHJsJywgaG9tZURlcGVuZGVuY2llcyk7XHJcblxyXG59KShhbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGZ1bmN0aW9uIG92ZXJ2aWV3Q3RybCgkc2NvcGUsIF8pIHtcclxuICAgICAgICAkc2NvcGUuY2F0ZWdvcml6ZWRFbnRpdGllcyA9IHt9O1xyXG4gICAgICAgIF8uZm9yRWFjaChfLmtleXMoJHNjb3BlLmVudGl0eVR5cGVzKSwgZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmNhdGVnb3JpemVkRW50aXRpZXNbdHlwZV0gPSBfLmZpbHRlcigkc2NvcGUuZW50aXRpZXMsIHsndHlwZSc6IHR5cGV9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdvdmVydmlld0N0cmwnLCBbJyRzY29wZScsICdfJywgb3ZlcnZpZXdDdHJsXSk7XHJcbn0pKGFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuXHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICBmdW5jdGlvbiBDb250cm9sbGVyKCRzY29wZSwgJGZpbHRlciwgXywgY29ubmVjdGlvblNlcnZpY2UsIHV0aWxzKSB7XHJcbiAgICAgICAgLy8gVE9ETzogTWFrZSBhIGhhc2htYXAgb24gdGhlIGJhY2tlbmQgb2YgaWQgLT4gcG9zaXRpb24sIHRoZW4gdXNlIHNvdXJjZTpcclxuICAgICAgICAvLyBlbnRpdGllc1ttYXBbc291cmNlaWRdXSB0byBnZXQgbm9kZXMuIFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8xNjgyNDMwOFxyXG4gICAgICAgICRzY29wZS5pc0xvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICRzY29wZS5jb25uZWN0aW9ucyA9IHt9O1xyXG4gICAgICAgIHN0YXJ0TG9hZCgpO1xyXG5cclxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9jb2RlcndhbGwuY29tL3Avbmdpc21hL3NhZmUtYXBwbHktaW4tYW5ndWxhci1qc1xyXG4gICAgICAgICRzY29wZS5zYWZlQXBwbHkgPSBmdW5jdGlvbiAoZm4pIHtcclxuICAgICAgICAgICAgdmFyIHBoYXNlID0gdGhpcy4kcm9vdC4kJHBoYXNlO1xyXG4gICAgICAgICAgICBpZiAocGhhc2UgPT09ICckYXBwbHknIHx8IHBoYXNlID09PSAnJGRpZ2VzdCcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChmbiAmJiAodHlwZW9mKGZuKSA9PT0gJ2Z1bmN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBmbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kYXBwbHkoZm4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLiRvbigndHJpZ2dlck5ldHdvcmtEcmF3Jywgc3RhcnRMb2FkKTtcclxuXHJcbiAgICAgICAgJHNjb3BlLiRvbigndmlld0NoYW5nZScsIGZ1bmN0aW9uICh2aWV3T2JqKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZpZXdPYmopO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBtYWtlIG9mZnNldCBzY2FsZSBnbG9iYWwgdmFyaWFibGVcclxuICAgICAgICB2YXIgb2Zmc2V0U2NhbGU7XHJcblxyXG5cclxuICAgICAgICB2YXIgZHJhd05ldHdvcmsgPSBmdW5jdGlvbiAoZW50aXR5QXJyYXksIGNvbm5lY3Rpb25BcnJheSkge1xyXG4gICAgICAgICAgICAkc2NvcGUuaXNMb2FkaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3ZnID0gZDMuc2VsZWN0KCcjbmV0d29yaycpO1xyXG4gICAgICAvLyAgICAgICAuY2xhc3NlZChcIm5ldHdvcmstY29udGFpbmVyXCIsIHRydWUpXHJcbiAgICAgIC8vICAgICAgIC5hdHRyKFwicHJlc2VydmVBc3BlY3RSYXRpb1wiLCBcInhNaW5ZTWluIG1lZXRcIilcclxuICAgICAgLy8gLmF0dHIoXCJ2aWV3Qm94XCIsIFwiMCAwIDYwMCA0MDBcIiApO1xyXG4gICAvL2NsYXNzIHRvIG1ha2UgaXQgcmVzcG9uc2l2ZVxyXG4gICAvLyAuY2xhc3NlZChcInN2Zy1jb250ZW50LXJlc3BvbnNpdmVcIiwgdHJ1ZSk7IFxyXG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgdmFyIGJvdW5kcyA9IHN2Zy5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSBib3VuZHMuaGVpZ2h0O1xyXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBib3VuZHMud2lkdGg7XHJcbiAgICAgICAgICAgIG9mZnNldFNjYWxlID0gNjtcclxuICAgICAgICAgICAgdmFyIGRlZmF1bHROb2RlU2l6ZSA9IDc7XHJcbiAgICAgICAgICAgIHZhciBvZmZzZXRzID0ge1xyXG4gICAgICAgICAgICAgICAgJ0luZGl2aWR1YWwnOiB7ICd4JzogMSwgJ3knOiAxIH0sXHJcbiAgICAgICAgICAgICAgICAnRm9yLVByb2ZpdCc6IHsgJ3gnOiAxLCAneSc6IC0xIH0sXHJcbiAgICAgICAgICAgICAgICAnTm9uLVByb2ZpdCc6IHsgJ3gnOiAtMSwgJ3knOiAxIH0sXHJcbiAgICAgICAgICAgICAgICAnR292ZXJubWVudCc6IHsgJ3gnOiAtMSwgJ3knOiAtMSB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBsb3dlckJvdW5kUmFkaXVzID0gMTA7XHJcbiAgICAgICAgICAgIHZhciB1cHBlckJvdW5kUmFkaXVzID0gNTA7XHJcbiAgICAgICAgICAgIHZhciBtYXhFbXBsb3llZXMgPSBkMy5tYXgoZW50aXR5QXJyYXksIGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGVsLmVtcGxveWVlcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgbWF4Rm9sbG93ZXJzID0gZDMubWF4KGVudGl0eUFycmF5LCBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChlbC5mb2xsb3dlcnMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIHNjYWxlID0ge1xyXG4gICAgICAgICAgICAgICAgJ2VtcGxveWVlcyc6IGQzLnNjYWxlLnNxcnQoKS5kb21haW4oWzEwLCBtYXhFbXBsb3llZXNdKVxyXG4gICAgICAgICAgICAgICAgICAgIC5yYW5nZShbbG93ZXJCb3VuZFJhZGl1cywgdXBwZXJCb3VuZFJhZGl1c10pLFxyXG4gICAgICAgICAgICAgICAgJ2ZvbGxvd2Vycyc6IGQzLnNjYWxlLnNxcnQoKS5kb21haW4oWzEwLCBtYXhGb2xsb3dlcnNdKVxyXG4gICAgICAgICAgICAgICAgICAgIC5yYW5nZShbbG93ZXJCb3VuZFJhZGl1cywgdXBwZXJCb3VuZFJhZGl1c10pXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBsaW5rcyA9IHt9O1xyXG4gICAgICAgICAgICB2YXIgZm9yY2UgPSBkMy5sYXlvdXQuZm9yY2UoKVxyXG4gICAgICAgICAgICAgICAgLnNpemUoW3dpZHRoLCBoZWlnaHRdKVxyXG4gICAgICAgICAgICAgICAgLm5vZGVzKGVudGl0eUFycmF5KVxyXG4gICAgICAgICAgICAgICAgLmxpbmtzKF8uZmxhdHRlbihfLnZhbHVlcyhjb25uZWN0aW9uQXJyYXkpKSlcclxuICAgICAgICAgICAgICAgIC5jaGFyZ2UoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5lbXBsb3llZXMgPyAtMiAqIHNjYWxlLmVtcGxveWVlcyhkLmVtcGxveWVlcykgOiAtMjA7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmxpbmtTdHJlbmd0aCgwKVxyXG4gICAgICAgICAgICAgICAgLmxpbmtEaXN0YW5jZSg1MCk7XHJcblxyXG4gICAgICAgICAgICBfLmZvckVhY2goY29ubmVjdGlvbkFycmF5LCBmdW5jdGlvbiAoY29ubmVjdGlvbnMsIHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGxpbmtzW3R5cGVdID0gc3ZnLnNlbGVjdEFsbCgnLmxpbmsgLicgKyB0eXBlICsgJy1saW5rJylcclxuICAgICAgICAgICAgICAgICAgICAuZGF0YShjb25uZWN0aW9ucylcclxuICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2xpbmUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdXRpbHMuaXNEZWZpbmVkKGQuc291cmNlKSB8fCAhdXRpbHMuaXNEZWZpbmVkKGQudGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZC50eXBlID0gdHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdsaW5rICcgKyB0eXBlICsgJy1saW5rICcgKyBkLnNvdXJjZS50eXBlICsgJy1saW5rICcgKyBkLnRhcmdldC50eXBlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArICctbGluayc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIG5vZGUgPSBzdmcuc2VsZWN0QWxsKCcubm9kZScpXHJcbiAgICAgICAgICAgICAgICAuZGF0YShlbnRpdHlBcnJheSlcclxuICAgICAgICAgICAgICAgIC5lbnRlcigpLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbm9kZSAnICsgZC50eXBlICsgJy1ub2RlJztcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2FsbChmb3JjZS5kcmFnKTtcclxuXHJcbiAgICAgICAgICAgIG5vZGUuYXBwZW5kKCdjaXJjbGUnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3InLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmVtcGxveWVlcyA/IHNjYWxlWydlbXBsb3llZXMnXShkLmVtcGxveWVlcykgOiBkZWZhdWx0Tm9kZVNpemU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIG5vZGUuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQubmlja25hbWUgPyBkLm5pY2tuYW1lIDogZC5uYW1lO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdkeCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKC0wLjA2NSAqIHRoaXMuZ2V0Q29tcHV0ZWRUZXh0TGVuZ3RoKCkgLyAyKSArICdlbSc7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2R5JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoMC4wOCAqIHRoaXMucGFyZW50Tm9kZS5nZXRCQm94KCkuaGVpZ2h0IC8gMiArIDAuNSkgKyAnZW0nO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBmb3JjZS5vbigndGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDbHVzdGVyIGluIGZvdXIgY29ybmVycyBiYXNlZCBvbiBvZmZzZXQuXHJcbiAgICAgICAgICAgICAgICB2YXIgayA9IG9mZnNldFNjYWxlICogZS5hbHBoYTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGUuYWxwaGEpXHJcbiAgICAgICAgICAgICAgICBfLmZvckVhY2goZW50aXR5QXJyYXksIGZ1bmN0aW9uIChlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZW50aXR5LnggJiYgb2Zmc2V0c1tlbnRpdHkudHlwZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LnggKz0gb2Zmc2V0c1tlbnRpdHkudHlwZV0ueCAqIGs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS55ICs9IG9mZnNldHNbZW50aXR5LnR5cGVdLnkgKiBrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkueCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCh1cHBlckJvdW5kUmFkaXVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKHdpZHRoIC0gdXBwZXJCb3VuZFJhZGl1cywgZW50aXR5LngpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LnkgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgodXBwZXJCb3VuZFJhZGl1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihoZWlnaHQgLSB1cHBlckJvdW5kUmFkaXVzLCBlbnRpdHkueSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChsaW5rcywgZnVuY3Rpb24gKGxpbmspIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5zb3VyY2UueDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnNvdXJjZS55O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDInLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQudGFyZ2V0Lng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC50YXJnZXQueTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIG5vZGUuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgZC54ICsgJywnICsgZC55ICsgJyknO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgc3BlZWRBbmltYXRlID0gZnVuY3Rpb24gKHRpY2tzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTcGVlZCB1cCB0aGUgaW5pdGlhbCBhbmltYXRpb24uXHJcbiAgICAgICAgICAgICAgICAvLyBTZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjYxODkxMTBcclxuICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aWNrczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlLnRpY2soKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcmNlLmFscGhhKCkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyBpZiAoISRzY29wZS5tb2JpbGUpIHtcclxuICAgICAgICAgICAgLy8gICAgIHNwZWVkQW5pbWF0ZSg3KTtcclxuICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgLy8gYWRkIGNoZWNrIGZvciBtb2JpbGUgdG8gY2hhbmdlIHNjYWxlXHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUubW9iaWxlKSB7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXRTY2FsZSA9IDI7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coXCJpbiBtb2JpbGVcIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNwZWVkIHVwIGFuaW1hdGlvbiBmb3IgbW9iaWxlIGFuZCBkZXNrdG9wIG5ldHdvcmsgZ3JhcGggcmVuZGVyaW5nXHJcbiAgICAgICAgICAgIHNwZWVkQW5pbWF0ZSg3KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGZvcmNlLnN0YXJ0KCk7XHJcblxyXG4gICAgICAgICAgICAvLyBIYXNoIGxpbmtlZCBuZWlnaGJvcnMgZm9yIGVhc3kgaG92ZXJpbmcgZWZmZWN0cy5cclxuICAgICAgICAgICAgLy8gU2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzg3ODAyNzdcclxuICAgICAgICAgICAgdmFyIGxpbmtlZEJ5SW5kZXggPSB7fTtcclxuICAgICAgICAgICAgXy5mb3JFYWNoKGxpbmtzLCBmdW5jdGlvbiAobCkge1xyXG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGxbMF0sIGZ1bmN0aW9uIChjb25uZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGNvbm5lY3Rpb24uX19kYXRhX18uc291cmNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBjb25uZWN0aW9uLl9fZGF0YV9fLnRhcmdldDtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rZWRCeUluZGV4W3NvdXJjZS5pbmRleCArICcsJyArIHRhcmdldC5pbmRleF0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmtlZEJ5SW5kZXhbdGFyZ2V0LmluZGV4ICsgJywnICsgc291cmNlLmluZGV4XSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgbmVpZ2hib3JpbmcgPSBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpbmtlZEJ5SW5kZXhbYS5pbmRleCArICcsJyArIGIuaW5kZXhdIHx8IGEuaW5kZXggPT09IGIuaW5kZXg7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgZm9jdXNuZWlnaGJvcnMgPSBmdW5jdGlvbiAoZW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBcHBseSAndW5mb2N1c2VkJyBjbGFzcyB0byBhbGwgbm9uLW5laWdoYm9ycy5cclxuICAgICAgICAgICAgICAgIC8vIEFwcGx5ICdmb2N1c2VkJyBjbGFzcyB0byBhbGwgbmVpZ2hib3JzLlxyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogU2VlIGlmIGl0IGNhbiBiZSBkb25lIHdpdGgganVzdCBvbmUgY2xhc3MgYW5kIDpub3QoLmZvY3VzZWQpIENTUyBzZWxlY3RvcnMuXHJcbiAgICAgICAgICAgICAgICBub2RlXHJcbiAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2ZvY3VzZWQnLCBmdW5jdGlvbiAobikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmVpZ2hib3JpbmcoZW50aXR5LCBuKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCd1bmZvY3VzZWQnLCBmdW5jdGlvbiAobikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIW5laWdoYm9yaW5nKGVudGl0eSwgbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGxpbmtzLCBmdW5jdGlvbiAobGluaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ2ZvY3VzZWQnLCBmdW5jdGlvbiAobykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVudGl0eS5pbmRleCA9PT0gby5zb3VyY2UuaW5kZXggfHwgZW50aXR5LmluZGV4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPT09IG8udGFyZ2V0LmluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZnVuY3Rpb24gKG8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhKGVudGl0eS5pbmRleCA9PT0gby5zb3VyY2UuaW5kZXggfHwgZW50aXR5LmluZGV4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA9PT0gby50YXJnZXQuaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIGZvY3VzID0gZnVuY3Rpb24gKGVudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jdXJyZW50RW50aXR5ICE9PSBlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2V0RW50aXR5KGVudGl0eSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XHJcbiAgICAgICAgICAgICAgICBmb2N1c25laWdoYm9ycyhlbnRpdHkpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHVuZm9jdXMgPSBmdW5jdGlvbiAoZW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAvL3ZhciB0cmFuc2l0aW9uZGVsYXkgPSA3NTtcclxuICAgICAgICAgICAgICAgIG5vZGVcclxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgnZm9jdXNlZCcsIGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCd1bmZvY3VzZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBfLmZvckVhY2gobGlua3MsIGZ1bmN0aW9uIChsaW5rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlua1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgnZm9jdXNlZCcsIGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBlbnRpdHkuZml4ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIC8vIFJlc3RhcnQgZDMgYW5pbWF0aW9ucy5cclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3JjZS5yZXN1bWUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vVE9ETzogU2hvdyBnZW5lcmljIGRldGFpbHMgYW5kIG5vdCBpbmRpdmlkdWFsIGVudGl0eSBkZXRhaWxzP1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgaG92ZXJUaW1lcjtcclxuICAgICAgICAgICAgdmFyIGhvdmVyID0gZnVuY3Rpb24gKGVudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgJiYgISRzY29wZS5lZGl0aW5nICYmICEkc2NvcGUuY3VycmVudExvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG92ZXJUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1cyhlbnRpdHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIHVuaG92ZXIgPSBmdW5jdGlvbiAoZW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoISRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSAmJiAhJHNjb3BlLmN1cnJlbnRMb2NhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHVuZm9jdXMoZW50aXR5KTtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoaG92ZXJUaW1lcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIGZvY3VzTG9jYXRpb24gPSBmdW5jdGlvbiAobG9jYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIC8vICBJZiB0aGUgY3VycmVudCBlbnRpdHkgaXMgc2hvd24gYW5kIGl0IGRvZXNuJ3QgbWF0Y2ggdGhlIGNsaWNrZWQgbm9kZSwgdGhlbiBzZXRcclxuICAgICAgICAgICAgICAgIC8vIHRoZSBuZXcgbm9kZSB0byBjbGlja2VkLlxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIG5vZGUuY2xhc3NlZCgnZm9jdXNlZCcsIGZ1bmN0aW9uIChuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4ubmFtZSBpbiBsb2NhdGlvbi5kaWN0O1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZnVuY3Rpb24gKG4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEobi5uYW1lIGluIGxvY2F0aW9uLmRpY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChsaW5rcywgZnVuY3Rpb24gKGxpbmspIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdmb2N1c2VkJywgZnVuY3Rpb24gKG8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoby5zb3VyY2UubmFtZSBpbiBsb2NhdGlvbi5kaWN0ICYmIG8udGFyZ2V0Lm5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIGxvY2F0aW9uLmRpY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCgndW5mb2N1c2VkJywgZnVuY3Rpb24gKG8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhKG8uc291cmNlLm5hbWUgaW4gbG9jYXRpb24uZGljdCkgfHwgIShvLnRhcmdldC5uYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW4gbG9jYXRpb24uZGljdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgdW5mb2N1c0xvY2F0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbm9kZVxyXG4gICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdmb2N1c2VkJywgZmFsc2UpXHJcbiAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoJ3VuZm9jdXNlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChsaW5rcywgZnVuY3Rpb24gKGxpbmspIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdmb2N1c2VkJywgZmFsc2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKCd1bmZvY3VzZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcmNlLnJlc3VtZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIGhpZ2hsaWdodExvY2F0aW9uID0gZnVuY3Rpb24gKGxvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xpY2Vuc2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICB1bmZvY3VzKCRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uICE9PSBsb2NhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHVuZm9jdXNMb2NhdGlvbigkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uID0gbG9jYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgZm9jdXNMb2NhdGlvbihsb2NhdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBGSVggRk9SIExPQ0FUSU9OIE5PVCBISUdITElHSFRJTkcgb24gc2VhcmNoIGVudGVyOlxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uID09PSBsb2NhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uID0gbG9jYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzTG9jYXRpb24obG9jYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZDMuZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBkMy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICRzY29wZS5hY3Rpb25zLmludGVyYWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgY2xpY2sgPSBmdW5jdGlvbiAoZW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xpY2Vuc2UgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodXRpbHMuaXNEZWZpbmVkKCRzY29wZS5jbGlja2VkTG9jYXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHV0aWxzLmlzRGVmaW5lZCgkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmZvY3VzTG9jYXRpb24oJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5lbnRpdHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gIElmIHRoZSBwcmV2aW91cyBub2RlIGlzIGVxdWFsIHRvIHRoZSBuZXcgbm9kZSwgZG8gbm90aGluZy5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID09PSBlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRklYIEZPUiBTRUFSQ0ggTk9UIFdPUktJTkc6IGVudGl0eSB3YXMgbm90IGZvY3VzZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWZ0ZXIgc3dpdGNoaW5nIHRvIHN0YXJ0bG9hZCBmdW5jdGlvbiBmb3IgbmV0d29yayBncmFwaFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1cyhlbnRpdHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gIFVuZm9jdXMgb24gcHJldmlvdXMgbm9kZSBhbmQgZm9jdXMgb24gbmV3IG5vZGUuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZm9jdXMoJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzKGVudGl0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFN0b3AgZXZlbnQgc28gd2UgZG9uJ3QgZGV0ZWN0IGEgY2xpY2sgb24gdGhlIGJhY2tncm91bmQuXHJcbiAgICAgICAgICAgICAgICAvLyBTZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3EvMjI5NDE3OTZcclxuICAgICAgICAgICAgICAgIGlmIChkMy5ldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGQzLmV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbnMuaW50ZXJhY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2FmZUFwcGx5KCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgYmFja2dyb3VuZGNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHV0aWxzLmlzRGVmaW5lZCgkc2NvcGUuY2xpY2tlZExvY2F0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1dGlscy5pc0RlZmluZWQoJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdW5mb2N1cygkc2NvcGUuY2xpY2tlZExvY2F0aW9uLmxvY2F0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRMb2NhdGlvbi5sb2NhdGlvbiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1dGlscy5pc0RlZmluZWQoJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmZvY3VzKCRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jbGlja2VkRW50aXR5LmVudGl0eSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhZmVBcHBseSgpO1xyXG4gICAgICAgICAgICAgICAgLy9UT0RPOiBTaG93IGdlbmVyaWMgZGV0YWlscyBhbmQgbm90IGluZGl2aWR1YWwgZW50aXR5IGRldGFpbHMuXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBkYmxjbGljayA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZW50aXR5LmZpeGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LnggPSB3aWR0aCAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LnkgPSBoZWlnaHQgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5weCA9IHdpZHRoIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBlbnRpdHkucHkgPSBoZWlnaHQgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5maXhlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gZW50aXR5O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB1bmZvY3VzKGVudGl0eSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcclxuICAgICAgICAgICAgfTtcclxuXHRcdFx0XHJcblx0XHRcdHZhciB0b2dnbGVMaW5rID0gZnVuY3Rpb24gKGV2ZW50KXtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhcIllvLCB0aGlzIHdvcmtzIVwiKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0fTtcclxuXHJcbiAgICAgICAgICAgIG5vZGUub24oJ21vdXNlb3ZlcicsIGhvdmVyKTtcclxuICAgICAgICAgICAgbm9kZS5vbignbW91c2VvdXQnLCB1bmhvdmVyKTtcclxuICAgICAgICAgICAgbm9kZS5vbignY2xpY2snLCBjbGljayk7XHJcbiAgICAgICAgICAgIG5vZGUub24oJ2RibGNsaWNrJywgZGJsY2xpY2spO1xyXG4gICAgICAgICAgICBzdmcub24oJ2NsaWNrJywgYmFja2dyb3VuZGNsaWNrKTtcclxuXHJcbiAgICAgICAgICAgIG5vZGVcclxuICAgICAgICAgICAgICAgIC5jbGFzc2VkKCd3ZWxsY29ubmVjdGVkJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5oYXNPd25Qcm9wZXJ0eSgnd2VsbGNvbm5lY3RlZCcpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuJG9uKCdjaGFuZ2VTaXplQnknLCBmdW5jdGlvbiAoZXZlbnQsIHNpemVCeSkge1xyXG4gICAgICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnY2lyY2xlJylcclxuICAgICAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKDI1MClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigncicsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkW3NpemVCeV0gPyBzY2FsZVtzaXplQnldKGRbc2l6ZUJ5XSkgOiBkZWZhdWx0Tm9kZVNpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkc2NvcGUuJG9uKCd0b2dnbGVMaW5rJywgZnVuY3Rpb24gKGV2ZW50LCBsaW5rKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBsaW5rc1tsaW5rLm5hbWVdXHJcbiAgICAgICAgICAgICAgICAvLyAuY2xhc3NlZCh7J3Zpc2libGUnOiBsaW5rLmVuYWJsZWQsICdoaWRkZW4nOiAhbGluay5lbmFibGVkfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIG5leHQgbGluZSB1cGRhdGVzIGEgZGljdGlvbmFyeSB3aXRoIGtleXMgb2YgdGhlIGNvbm5lY3Rpb24gdHlwZXMgYW5kIHZhbHVlcyB0aGF0IGFyZSBUcnVlL0ZhbHNlIGNvcnJlc3BvbmRpbmcgdG8gQ2hlY2svVW5jaGVja1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvbm5lY3Rpb25UeXBlc1tsaW5rLm5hbWVdID0gbGluay5lbmFibGVkO1xyXG4gICAgICAgICAgICAgICAgXy5tYXAoJHNjb3BlLmVudGl0eVR5cGVzLCBmdW5jdGlvbiAodmFsLCBrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnLicgKyBrZXkgKyAnLWxpbmsnKSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Zpc2libGUnOiBmdW5jdGlvbiAobCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbm5lY3Rpb25UeXBlIGVuYWJsZWQsIGNvbm5lY3Rpb24gc291cmNlIGVudGl0eSB0eXBlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXMgZW5hYmxlZCwgY29ubmVjdGlvbiB0YXJnZXQgZW50aXR5IHR5cGUgaXMgZW5hYmxlZC5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5jb25uZWN0aW9uVHlwZXNbbC50eXBlXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICgkc2NvcGUuZW50aXR5VHlwZXNbbC5zb3VyY2UudHlwZV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAkc2NvcGUuZW50aXR5VHlwZXNbbC50YXJnZXQudHlwZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoaWRkZW4nOiBmdW5jdGlvbiAobCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGFueSBvZiBDb25uZWN0aW9uVHlwZSwgc291cmNlIGVudGl0eSB0eXBlLCBvciB0YXJnZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbnRpdHkgdHlwZSBhcmUgZGlzYWJsZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEkc2NvcGUuY29ubmVjdGlvblR5cGVzW2wudHlwZV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoISRzY29wZS5lbnRpdHlUeXBlc1tsLnNvdXJjZS50eXBlXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICEkc2NvcGUuZW50aXR5VHlwZXNbbC50YXJnZXQudHlwZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkc2NvcGUuJG9uKCd0b2dnbGVOb2RlJywgZnVuY3Rpb24gKGV2ZW50LCB0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIG5leHQgbGluZSB1cGRhdGVzIGEgZGljdGlvbmFyeSB3aXRoIGtleXMgb2YgdGhlIGVudGl0aWVzIGFuZCB2YWx1ZXMgdGhhdCBhcmUgVHJ1ZS9GYWxzZSBjb3JyZXNwb25kaW5nIHRvIENoZWNrL1VuY2hlY2tcclxuICAgICAgICAgICAgICAgICRzY29wZS5lbnRpdHlUeXBlc1t0eXBlLm5hbWVdID0gdHlwZS5lbmFibGVkOyBcclxuICAgICAgICAgICAgICAgIHN2Z1xyXG4gICAgICAgICAgICAgICAgICAgIC5zZWxlY3RBbGwoJy4nICsgdHlwZS5uYW1lICsgJy1ub2RlJylcclxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZCh7ICd2aXNpYmxlJzogdHlwZS5lbmFibGVkLCAnaGlkZGVuJzogIXR5cGUuZW5hYmxlZCB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBzdmdcclxuICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCcuJyArIHR5cGUubmFtZSArICctbGluaycpXHJcbiAgICAgICAgICAgICAgICAgICAgLmNsYXNzZWQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAndmlzaWJsZSc6IGZ1bmN0aW9uIChsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb25uZWN0aW9uVHlwZSBlbmFibGVkLCBjb25uZWN0aW9uIHNvdXJjZSBlbnRpdHkgdHlwZSBpc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW5hYmxlZCwgY29ubmVjdGlvbiB0YXJnZXQgZW50aXR5IHR5cGUgaXMgZW5hYmxlZC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuY29ubmVjdGlvblR5cGVzW2wudHlwZV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAoJHNjb3BlLmVudGl0eVR5cGVzW2wuc291cmNlLnR5cGVdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgJHNjb3BlLmVudGl0eVR5cGVzW2wudGFyZ2V0LnR5cGVdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2hpZGRlbic6IGZ1bmN0aW9uIChsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBhbnkgb2YgQ29ubmVjdGlvblR5cGUsIHNvdXJjZSBlbnRpdHkgdHlwZSwgb3IgdGFyZ2V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbnRpdHkgdHlwZSBhcmUgZGlzYWJsZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gISRzY29wZS5jb25uZWN0aW9uVHlwZXNbbC50eXBlXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICghJHNjb3BlLmVudGl0eVR5cGVzW2wuc291cmNlLnR5cGVdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgISRzY29wZS5lbnRpdHlUeXBlc1tsLnRhcmdldC50eXBlXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLiRvbignc2VsZWN0SXRlbScsIGZ1bmN0aW9uIChldmVudCwgaXRlbSkge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiU2VsZWN0IEl0ZW1cIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbG9jYXRpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0TG9jYXRpb24oJHNjb3BlLmN1cnJlbnRMb2NhdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGljaygkc2NvcGUuY3VycmVudEVudGl0eSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHN0YXJ0TG9hZCgpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyZWRFbnRpdGllcyA9ICRmaWx0ZXIoJ2ZpbHRlcicpKCRzY29wZS5lbnRpdGllcyxcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRpdHkuY29sbGFib3JhdGlvbnMubGVuZ3RoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PSAkc2NvcGUubWluQ29ubmVjdGlvbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJlZENvbm5lY3Rpb25zID0ge307XHJcbiAgICAgICAgICAgICAgICBfLmZvckVhY2goXy5rZXlzKGRhdGEuY29ubmVjdGlvbnMpLCBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICRzY29wZS5jb25uZWN0aW9uc1t0eXBlXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkQ29ubmVjdGlvbnNbdHlwZV0gPSBbXTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGRhdGEuY29ubmVjdGlvbnMsIGZ1bmN0aW9uIChjb25uZWN0aW9ucywgdHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaChjb25uZWN0aW9ucywgZnVuY3Rpb24gKGNvbm5lY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZU5vZGUgPSBfLmZpbmQoZmlsdGVyZWRFbnRpdGllcywgeyAnaWQnOiBjb25uZWN0aW9uLnNvdXJjZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldE5vZGUgPSBfLmZpbmQoZmlsdGVyZWRFbnRpdGllcywgeyAnaWQnOiBjb25uZWN0aW9uLnRhcmdldCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoIHV0aWxzLmlzRGVmaW5lZChzb3VyY2VOb2RlKSAmJiB1dGlscy5pc0RlZmluZWQodGFyZ2V0Tm9kZSkgKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZENvbm5lY3Rpb25zW3R5cGVdLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ICdzb3VyY2UnOiBzb3VyY2VOb2RlLCAndGFyZ2V0JzogdGFyZ2V0Tm9kZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJHNjb3BlLmNvbm5lY3Rpb25zW3R5cGVdLnB1c2goeydzb3VyY2UnOiBzb3VyY2VOb2RlLCAndGFyZ2V0JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGFyZ2V0Tm9kZX0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHNob3cgbGFiZWxzIG9uIHRvcCA1IG1vc3QgY29ubmVjdGVkIGVudGl0aWVzIGluaXRpYWxseS5cclxuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChfLmtleXMoJHNjb3BlLmVudGl0eVR5cGVzKSwgZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSB0b3AgNSBtb3N0LWNvbm5lY3RlZCBlbnRpdGllcy5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9wNSA9IF8udGFrZVJpZ2h0KF8uc29ydEJ5KF8uZmlsdGVyKCRzY29wZS5lbnRpdGllcywgeyAndHlwZSc6IHR5cGUgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb2xsYWJvcmF0aW9ucy5sZW5ndGgnKSwgNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy5mb3JFYWNoKHRvcDUsIGZ1bmN0aW9uIChlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LndlbGxjb25uZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRFbnRpdGllcyA9IF8uc29ydEJ5KGZpbHRlcmVkRW50aXRpZXMsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChlLndlbGxjb25uZWN0ZWQpID8gMSA6IDA7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBkcmF3TmV0d29yayhmaWx0ZXJlZEVudGl0aWVzLCBmaWx0ZXJlZENvbm5lY3Rpb25zKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29ubmVjdGlvblNlcnZpY2VcclxuICAgICAgICAgICAgICAgIC5nZXRBbGwoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oc3VjY2Vzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIENvbnRyb2xsZXIuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIiRmaWx0ZXJcIiwgXCJfXCIsIFwiY29ubmVjdGlvblNlcnZpY2VcIiwgXCJjZ1V0aWxTZXJ2aWNlXCJdO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ25ldHdvcmtDdHJsJywgQ29udHJvbGxlcik7XHJcblxyXG59KShhbmd1bGFyLCBSVFApO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNy8xMS8xNi5cclxuICovXHJcblxyXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IFtcclxuICAgICAgICBkaXJlY3RpdmVcclxuICAgIF07XHJcblxyXG4gICAgZnVuY3Rpb24gZGlyZWN0aXZlKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIFwicmVzdHJpY3RcIjogXCJFXCIsXHJcbiAgICAgICAgICAgIFwidGVtcGxhdGVVcmxcIjogXCJqcy9uZXR3b3JrL25ldHdvcmsuaHRtbFwiLFxyXG4gICAgICAgICAgICBcImNvbnRyb2xsZXJcIjogXCJuZXR3b3JrQ3RybFwiXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZShcImNpdmljLWdyYXBoXCIpXHJcbiAgICAgICAgLmRpcmVjdGl2ZShcIm5ldHdvcmtcIiwgZGVwZW5kZW5jaWVzKTtcclxuXHJcbn0pKGFuZ3VsYXIpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNi8yNi8xNi5cclxuICovXHJcbihmdW5jdGlvbihhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcclxuICAgICAgICAuZGlyZWN0aXZlKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0aWN0OiAnRScsXHJcbiAgICAgICAgICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCAndHlwZScgaW4gYXR0cnMgJiYgYXR0cnMudHlwZS50b0xvd2VyQ2FzZSgpID09PSAncmFuZ2UnICkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5nTW9kZWwuJHBhcnNlcnMucHVzaChwYXJzZUZsb2F0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxufSkoYW5ndWxhcik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDcvMTQvMTYuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBkZXBlbmRlbmNpZXMgPSBbXTtcclxuXHJcbiAgICBmdW5jdGlvbiBkaXJlY3RpdmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgXCJyZXN0cmljdFwiOiBcIkVcIixcclxuICAgICAgICAgICAgXCJ0ZW1wbGF0ZVVybFwiOiBcIi9tYXAvbWFwLmh0bWxcIixcclxuICAgICAgICAgICAgXCJjb250cm9sbGVyXCI6IFwibWFwQ3RybFwiXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgICAgICBhbmd1bGFyLm1vZHVsZShcImNpdmljLWdyYXBoXCIpXHJcbiAgICAgICAgICAgIC5kaXJlY3RpdmUoXCJtYXBcIiwgZGVwZW5kZW5jaWVzKTtcclxuXHJcbn0pKGFuZ3VsYXIpOyIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG5cclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIGZ1bmN0aW9uIGlzRGVmaW5lZChvKSB7XHJcbiAgICAgICAgcmV0dXJuICEodHlwZW9mIG8gPT09IFwidW5kZWZpbmVkXCIgfHwgbyA9PT0gbnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNPYmplY3Qobykge1xyXG4gICAgICAgIHJldHVybiBpc0RlZmluZWQobykgJiYgIUFycmF5LmlzQXJyYXkobykgJiYgKHR5cGVvZiBvID09PSBcIm9iamVjdFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRQcm9wZXJ0eUZyb21PYmoob2JqKSB7XHJcbiAgICAgICAgdmFyIGRlZk9iaiA9IGlzRGVmaW5lZChvYmopID8gb2JqIDoge307XHJcblxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAocHJvcGVydHksIGRlZmF1bHRWYWx1ZSkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBpc0RlZmluZWQoZGVmYXVsdFZhbHVlKSA/IGRlZmF1bHRWYWx1ZSA6IG51bGw7XHJcbiAgICAgICAgICAgIHJldHVybiBpc0RlZmluZWQoZGVmT2JqW3Byb3BlcnR5XSlcclxuICAgICAgICAgICAgICAgID8gZGVmT2JqW3Byb3BlcnR5XVxyXG4gICAgICAgICAgICAgICAgOiB2YWx1ZTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxvb3BBbmRJbml0KG1vZGVsQXJyYXksIGluaXRNb2RlbEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgdmFyIG5ld0FycmF5ID0gQXJyYXkuaXNBcnJheShtb2RlbEFycmF5KVxyXG4gICAgICAgICAgICA/IG1vZGVsQXJyYXkuZmlsdGVyKGlzT2JqZWN0KS5tYXAoaW5pdE1vZGVsRnVuY3Rpb24pXHJcbiAgICAgICAgICAgIDogW107XHJcblxyXG4gICAgICAgIHJldHVybiBuZXdBcnJheS5jb25jYXQoW2luaXRNb2RlbEZ1bmN0aW9uKCldKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBTZXJ2aWNlKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIFwiaXNEZWZpbmVkXCI6IGlzRGVmaW5lZCxcclxuICAgICAgICAgICAgXCJpc09iamVjdFwiOiBpc09iamVjdCxcclxuXHJcbiAgICAgICAgICAgIFwiZ2V0UHJvcGVydHlGcm9tT2JqXCI6IGdldFByb3BlcnR5RnJvbU9iaixcclxuICAgICAgICAgICAgXCJsb29wQW5kSW5pdFwiOiBsb29wQW5kSW5pdFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoXCJjaXZpYy1ncmFwaC51dGlsXCIpXHJcbiAgICAgICAgLmZhY3RvcnkoXCJjZ1V0aWxTZXJ2aWNlXCIsIFNlcnZpY2UpO1xyXG5cclxufSkoYW5ndWxhcik7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJyaWFuYXZlY2NoaW9uZSBvbiA3LzEvMTYuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFuYWx5dGljc0N0cmwoJHNjb3BlKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2FuYWx5dGljc0N0cmwnLCBbJyRzY29wZScsIGFuYWx5dGljc0N0cmxdKTtcclxufSkoYW5ndWxhcik7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDcvMTAvMTYuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBjb250cm9sRGVwcyA9IFtcclxuICAgICAgICAnZW50aXR5U2VydmljZScsXHJcbiAgICAgICAgJ2Nvbm5lY3Rpb25TZXJ2aWNlJyxcclxuICAgICAgICAnJHJvb3RTY29wZScsXHJcbiAgICAgICAgJ18nLFxyXG4gICAgICAgICckbW9kYWwnLFxyXG4gICAgICAgIGNvbnRyb2xDdHJsXHJcbiAgICBdO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnRyb2xDdHJsKGVudGl0eVNlcnZpY2UsIGNvbm5lY3Rpb25TZXJ2aWNlLCAkcm9vdFNjb3BlLCBfLCAkbW9kYWwpIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIHZtLmVudGl0eVR5cGVzID0gZW50aXR5U2VydmljZS5nZXRFbnRpdHlUeXBlcygpO1xyXG4gICAgICAgIHZtLmNvbm5lY3Rpb25UeXBlcyA9IGNvbm5lY3Rpb25TZXJ2aWNlLmdldENvbm5lY3Rpb25UeXBlcygpO1xyXG4gICAgICAgIHZtLnNpemVCeUxpc3QgPSBbXHJcbiAgICAgICAgICAgIHsnbmFtZSc6ICdFbXBsb3llZXMnLCAndmFsdWUnOiAnZW1wbG95ZWVzJ30sXHJcbiAgICAgICAgICAgIHsnbmFtZSc6ICdUd2l0dGVyIEZvbGxvd2VycycsICd2YWx1ZSc6ICdmb2xsb3dlcnMnfVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgdm0uc2l6ZUJ5ID0gJ2VtcGxveWVlcyc7XHJcbiAgICAgICAgdm0uc2hvd1ZpZXcgPSB7XHJcbiAgICAgICAgICAgICdOZXR3b3JrJzogdHJ1ZSxcclxuICAgICAgICAgICAgJ01hcCc6IGZhbHNlXHJcbiAgICAgICAgfTtcclxuICAgICAgICB2bS5zd2l0Y2hWaWV3ID0gc3dpdGNoVmlldztcclxuICAgICAgICB2bS5jaGFuZ2VWaWV3ID0gZnVuY3Rpb24gKHZpZXcpIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiaW5zaWRlIGNvbnRyb2xDdHJsIGNoYW5nZXZpZXdcIik7XHJcblxyXG4gICAgICAgICAgICBfLmZvckVhY2goXy5rZXlzKHZtLnNob3dWaWV3KSwgZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHZtLnNob3dWaWV3W25hbWVdID0gdmlldyA9PT0gbmFtZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgndmlld0NoYW5nZScsIHZtLnNob3dWaWV3KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZtLnNob3dBYm91dCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0Y29uc29sZS5sb2coXCJJbnNpZGUgdGhlIGNvbnRyb2xDdHJsIHNob3dBYm91dFwiKTtcclxuICAgICAgICAgICAgJG1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29udHJvbC9hYm91dC5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtb2RhbEN0cmwnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdm0udG9nZ2xlTm9kZSA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwiSW5zaWRlIHRoZSBjb250cm9sQ3RybCB0b2dnbGVOb2RlXCIpO1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3RvZ2dsZU5vZGUnLCB7J25hbWUnOiB0eXBlLCAnZW5hYmxlZCc6IHZtLmVudGl0eVR5cGVzW3R5cGVdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdm0udG9nZ2xlTGluayA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwiSW5zaWRlIHRoZSBjb250cm9sQ3RybCB0b2dnbGVMaW5rXCIpO1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3RvZ2dsZUxpbmsnLCB7J25hbWUnOiB0eXBlLCAnZW5hYmxlZCc6IHZtLmNvbm5lY3Rpb25UeXBlc1t0eXBlXVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZtLmNoYW5nZVNpemVCeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdjaGFuZ2VTaXplQnknLCB2bS5zaXplQnkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgZnVuY3Rpb24gc3dpdGNoVmlldygpIHtcclxuXHRcdFx0Y29uc29sZS5sb2coXCJpbnNpZGUgY29udHJvbEN0cmwgc3dpdGNoIHZpZXdcIik7XHJcbiAgICAgICAgICAgIHZtLmNoYW5nZVZpZXcoIXZtLnRvZ2dsZU5ldHdvcmsgPyAnTWFwJyA6ICdOZXR3b3JrJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2bS5jaGFuZ2VTaXplQnkoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NpdmljLWdyYXBoJylcclxuICAgICAgICAuY29udHJvbGxlcignY29udHJvbEN0cmwnLCBjb250cm9sRGVwcyk7XHJcblxyXG59KShhbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcblxyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgZnVuY3Rpb24gQ29uZmlnKCRodHRwUHJvdmlkZXIpIHtcclxuICAgICAgICAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uW1wiWC1SZXF1ZXN0ZWQtV2l0aFwiXSA9IFwiWE1MSHR0cFJlcXVlc3RcIjtcclxuICAgIH1cclxuXHJcbiAgICBDb25maWcuJGluamVjdCA9IFtcIiRodHRwUHJvdmlkZXJcIl07XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoXCJjaXZpYy1ncmFwaC5hcGlcIikuY29uZmlnKENvbmZpZyk7XHJcblxyXG59KShhbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcblxyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgdmFyIGFwaVVybCA9IFwiaHR0cHM6Ly9hcGkuY2l2aWNncmFwaC5pby9hcGlcIjtcclxuICAgIC8vdmFyIGFwaVVybCA9IFwiL2FwaVwiO1xyXG5cclxuICAgIHZhciBkZWZhdWx0SGVhZGVyID0ge1xyXG4gICAgICAgIC8vIFwiRXZlbnQtTmFtZVwiOiBcIlRlc3QtRXZlbnRcIlxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBTZXJ2aWNlKCRodHRwLCAkcSkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGxvZ0FwaUVycm9yKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiUmVjaWV2ZWQgYW4gZXJyb3IgZnJvbSBBUEkgd2l0aCB0aGlzIG1lc3NhZ2U6ICVPXCIsIGVyci5kYXRhKTtcclxuICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChlcnIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdW53cmFwQW5ndWxhckh0dHAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXQodXJsLCBwYXJhbXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwXHJcbiAgICAgICAgICAgICAgICAuZ2V0KGFwaVVybCArIHVybCwgeyBcInBhcmFtc1wiOiBwYXJhbXMsIFwiaGVhZGVyc1wiOiBkZWZhdWx0SGVhZGVyIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbih1bndyYXBBbmd1bGFySHR0cCwgbG9nQXBpRXJyb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcG9zdCh1cmwsIGRhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwXHJcbiAgICAgICAgICAgICAgICAucG9zdChhcGlVcmwgKyB1cmwsIGRhdGEsIHsgXCJoZWFkZXJzXCI6IGRlZmF1bHRIZWFkZXIgfSlcclxuICAgICAgICAgICAgICAgIC50aGVuKHVud3JhcEFuZ3VsYXJIdHRwLCBsb2dBcGlFcnJvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBcImdldFwiOiBnZXQsXHJcbiAgICAgICAgICAgIFwicG9zdFwiOiBwb3N0XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBTZXJ2aWNlLiRpbmplY3QgPSBbXCIkaHR0cFwiLCBcIiRxXCJdO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiY2l2aWMtZ3JhcGguYXBpXCIpLmZhY3RvcnkoXCJjZ0FwaUNhbGxlclwiLCBTZXJ2aWNlKTtcclxuXHJcbn0pKGFuZ3VsYXIpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBicmlhbmF2ZWNjaGlvbmUgb24gNi8yNy8xNi5cclxuICovXHJcbihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG5cclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIGZ1bmN0aW9uIFNlcnZpY2UodXRpbHMpIHtcclxuICAgICAgICBmdW5jdGlvbiBMb2NhdGlvbihvYmopIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgdmFyIGdldFByb3BlcnR5ID0gdXRpbHMuZ2V0UHJvcGVydHlGcm9tT2JqKG9iaik7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBidWlsZEZvcm1hdHRlZEFkZHJlc3MoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVmT2JqID0gdXRpbHMuaXNEZWZpbmVkKG9iaikgPyBvYmogOiB7fTtcclxuICAgICAgICAgICAgICAgIHZhciBhZGRyZXNzTGluZSA9ICh1dGlscy5pc0RlZmluZWQoZGVmT2JqLmFkZHJlc3NfbGluZSkgPyBkZWZPYmouYWRkcmVzc19saW5lICsgJyAnIDogJycpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxvY2FsaXR5ID0gKHV0aWxzLmlzRGVmaW5lZChkZWZPYmoubG9jYWxpdHkpID8gZGVmT2JqLmxvY2FsaXR5ICsgJywgJyA6ICcnKTtcclxuICAgICAgICAgICAgICAgIHZhciBjb3VudHJ5Q29kZSA9ICh1dGlscy5pc0RlZmluZWQoZGVmT2JqLmNvdW50cnlfY29kZSkgPyBkZWZPYmouY291bnRyeV9jb2RlICsgJyAnIDogJycpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvc3RhbENvZGUgPSAodXRpbHMuaXNEZWZpbmVkKGRlZk9iai5wb3N0YWxfY29kZSkgPyBkZWZPYmoucG9zdGFsX2NvZGUgOiAnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChhZGRyZXNzTGluZSArIGxvY2FsaXR5ICsgY291bnRyeUNvZGUgKyBwb3N0YWxDb2RlKS50cmltKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNlbGYuaWQgPSBnZXRQcm9wZXJ0eShcImlkXCIpO1xyXG4gICAgICAgICAgICBzZWxmLmFkZHJlc3NfbGluZSA9IGdldFByb3BlcnR5KFwiYWRkcmVzc19saW5lXCIpO1xyXG4gICAgICAgICAgICBzZWxmLmxvY2FsaXR5ID0gZ2V0UHJvcGVydHkoXCJsb2NhbGl0eVwiKTtcclxuICAgICAgICAgICAgc2VsZi5kaXN0cmljdCA9IGdldFByb3BlcnR5KFwiZGlzdHJpY3RcIik7XHJcbiAgICAgICAgICAgIHNlbGYucG9zdGFsX2NvZGUgPSBnZXRQcm9wZXJ0eShcInBvc3RhbF9jb2RlXCIpO1xyXG4gICAgICAgICAgICBzZWxmLmNvdW50cnkgPSBnZXRQcm9wZXJ0eShcImNvdW50cnlcIik7XHJcbiAgICAgICAgICAgIHNlbGYuY291bnRyeV9jb2RlID0gZ2V0UHJvcGVydHkoXCJjb3VudHJ5X2NvZGVcIik7XHJcbiAgICAgICAgICAgIHNlbGYuY29vcmRpbmF0ZXMgPSBnZXRQcm9wZXJ0eShcImNvb3JkaW5hdGVzXCIpO1xyXG5cclxuICAgICAgICAgICAgLy8gVE9ETzogQ29udmVydCB0aGlzIHRvIGEgbWV0aG9kIHRoYXQgYnVpbGRzIGJhc2VkIG9mZiBvZiB0aGUgY3VycmVudCBvYmplY3QncyBwcm9wZXJ0aWVzLlxyXG4gICAgICAgICAgICAvLyBVbmxlc3MgdGhpcyBpcyBuZWVkZWQgZm9yIHRoZSBBUEkgc3BlY2lmaWNhbGx5LCB0aGVuIGhhdmUgdGhpcyBidWlsdCBpbiBhIHNpbWlsYXIgZnVuY3Rpb24gYXMgdGhlIG9uZSBpblxyXG4gICAgICAgICAgICAvLyBFbnRpdHlNb2RlbCBmb3IgYnVpbGRpbmcgQVBJIHNwZWNpZmljIG9iamVjdHNcclxuICAgICAgICAgICAgc2VsZi5mb3JtYXR0ZWRBZGRyZXNzID0gYnVpbGRGb3JtYXR0ZWRBZGRyZXNzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRMb2NhdGlvbk1vZGVsKG9iaikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IExvY2F0aW9uKG9iaik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBcImdldExvY2F0aW9uTW9kZWxcIjogZ2V0TG9jYXRpb25Nb2RlbFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgU2VydmljZS4kaW5qZWN0ID0gW1wiY2dVdGlsU2VydmljZVwiXTtcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnY2l2aWMtZ3JhcGguYXBpJylcclxuICAgICAgICAuZmFjdG9yeSgnbG9jYXRpb25TZXJ2aWNlJywgU2VydmljZSk7XHJcblxyXG59KShhbmd1bGFyKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYnJpYW5hdmVjY2hpb25lIG9uIDYvMjcvMTYuXHJcbiAqL1xyXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuXHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRFbnRpdHlUeXBlcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBcIkdvdmVybm1lbnRcIjogdHJ1ZSxcclxuICAgICAgICAgICAgXCJGb3ItUHJvZml0XCI6IHRydWUsXHJcbiAgICAgICAgICAgIFwiTm9uLVByb2ZpdFwiOiB0cnVlLFxyXG4gICAgICAgICAgICBcIkluZGl2aWR1YWxcIjogdHJ1ZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0SW5mbHVlbmNlVHlwZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcIkxvY2FsXCIsIFwiTmF0aW9uYWxcIiwgXCJHbG9iYWxcIl07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gU2VydmljZShhcGlDYWxsZXIsIGZ1bkNvbm5TZXJ2aWNlLCBjb25uU2VydmljZSwgZmluYW5jZVNlcnZpY2UsIGxvY2F0aW9uU2VydmljZSwgY2F0ZWdvcnlTZXJ2aWNlLCB1dGlscykge1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBFbnRpdHkob2JqKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIGRlZk9iaiA9IHV0aWxzLmlzRGVmaW5lZChvYmopID8gb2JqIDoge307XHJcbiAgICAgICAgICAgIHZhciBnZXRQcm9wZXJ0eSA9IHV0aWxzLmdldFByb3BlcnR5RnJvbU9iaihvYmopO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVEQk1vZGVsKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRiTW9kZWwgPSBuZXcgRW50aXR5KHNlbGYpO1xyXG4gICAgICAgICAgICAgICAgZGJNb2RlbC5sb2NhdGlvbnMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmxvY2F0aW9ucy5wb3AoKTtcclxuICAgICAgICAgICAgICAgIGRiTW9kZWwuZ3JhbnRzX3JlY2VpdmVkLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgZGJNb2RlbC5ncmFudHNfcmVjZWl2ZWQucG9wKCk7XHJcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmdyYW50c19naXZlbi5wb3AoKTtcclxuICAgICAgICAgICAgICAgIGRiTW9kZWwuZ3JhbnRzX2dpdmVuLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgZGJNb2RlbC5pbnZlc3RtZW50c19yZWNlaXZlZC5wb3AoKTtcclxuICAgICAgICAgICAgICAgIGRiTW9kZWwuaW52ZXN0bWVudHNfcmVjZWl2ZWQucG9wKCk7XHJcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmludmVzdG1lbnRzX21hZGUucG9wKCk7XHJcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmludmVzdG1lbnRzX21hZGUucG9wKCk7XHJcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmRhdGFfZ2l2ZW4ucG9wKCk7XHJcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmRhdGFfZ2l2ZW4ucG9wKCk7XHJcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmRhdGFfcmVjZWl2ZWQucG9wKCk7XHJcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmRhdGFfcmVjZWl2ZWQucG9wKCk7XHJcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmNvbGxhYm9yYXRpb25zLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgZGJNb2RlbC5jb2xsYWJvcmF0aW9ucy5wb3AoKTtcclxuICAgICAgICAgICAgICAgIGRiTW9kZWwua2V5X3Blb3BsZS5wb3AoKTtcclxuICAgICAgICAgICAgICAgIGRiTW9kZWwua2V5X3Blb3BsZS5wb3AoKTtcclxuICAgICAgICAgICAgICAgIGRiTW9kZWwuZW1wbG95bWVudHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmVtcGxveW1lbnRzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgZGJNb2RlbC5yZXZlbnVlcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgIGRiTW9kZWwucmV2ZW51ZXMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICBkYk1vZGVsLmV4cGVuc2VzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgZGJNb2RlbC5leHBlbnNlcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgIGRiTW9kZWwuY2F0ZWdvcmllcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgIGRiTW9kZWwuY2F0ZWdvcmllcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgIGRiTW9kZWwuZGVzY3JpcHRpb24gPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGJNb2RlbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2VsZi5pZCA9IGdldFByb3BlcnR5KFwiaWRcIik7XHJcbiAgICAgICAgICAgIHNlbGYubmFtZSA9IGdldFByb3BlcnR5KFwibmFtZVwiKTtcclxuICAgICAgICAgICAgc2VsZi5pbmZsdWVuY2UgPSBnZXRQcm9wZXJ0eShcImluZmx1ZW5jZVwiKTtcclxuICAgICAgICAgICAgc2VsZi50eXBlID0gZ2V0UHJvcGVydHkoXCJ0eXBlXCIpO1xyXG4gICAgICAgICAgICBzZWxmLm5pY2tuYW1lID0gZ2V0UHJvcGVydHkoXCJuaWNrbmFtZVwiKTtcclxuICAgICAgICAgICAgc2VsZi51cmwgPSBnZXRQcm9wZXJ0eShcInVybFwiKTtcclxuICAgICAgICAgICAgc2VsZi50d2l0dGVyX2hhbmRsZSA9IGdldFByb3BlcnR5KFwidHdpdHRlcl9oYW5kbGVcIik7XHJcbiAgICAgICAgICAgIHNlbGYuZW1wbG95ZWVzID0gZ2V0UHJvcGVydHkoXCJlbXBsb3llZXNcIik7XHJcblxyXG4gICAgICAgICAgICBzZWxmLmxvY2F0aW9ucyA9IHV0aWxzLmxvb3BBbmRJbml0KGRlZk9iai5sb2NhdGlvbnMsIGxvY2F0aW9uU2VydmljZS5nZXRMb2NhdGlvbk1vZGVsKTtcclxuICAgICAgICAgICAgc2VsZi5ncmFudHNfcmVjZWl2ZWQgPSB1dGlscy5sb29wQW5kSW5pdChkZWZPYmouZ3JhbnRzX3JlY2VpdmVkLCBmdW5Db25uU2VydmljZS5nZXRGdW5kaW5nQ29ubmVjdGlvbk1vZGVsKTtcclxuICAgICAgICAgICAgc2VsZi5pbnZlc3RtZW50c19yZWNlaXZlZCA9IHV0aWxzLmxvb3BBbmRJbml0KGRlZk9iai5pbnZlc3RtZW50c19yZWNlaXZlZCwgZnVuQ29ublNlcnZpY2UuZ2V0RnVuZGluZ0Nvbm5lY3Rpb25Nb2RlbCk7XHJcbiAgICAgICAgICAgIHNlbGYuZ3JhbnRzX2dpdmVuID0gdXRpbHMubG9vcEFuZEluaXQoZGVmT2JqLmdyYW50c19naXZlbiwgZnVuQ29ublNlcnZpY2UuZ2V0RnVuZGluZ0Nvbm5lY3Rpb25Nb2RlbCk7XHJcbiAgICAgICAgICAgIHNlbGYuaW52ZXN0bWVudHNfbWFkZSA9IHV0aWxzLmxvb3BBbmRJbml0KGRlZk9iai5pbnZlc3RtZW50c19tYWRlLCBmdW5Db25uU2VydmljZS5nZXRGdW5kaW5nQ29ubmVjdGlvbk1vZGVsKTtcclxuICAgICAgICAgICAgc2VsZi5kYXRhX2dpdmVuID0gdXRpbHMubG9vcEFuZEluaXQoZGVmT2JqLmRhdGFfZ2l2ZW4sIGNvbm5TZXJ2aWNlLmdldENvbm5lY3Rpb25Nb2RlbCk7XHJcbiAgICAgICAgICAgIHNlbGYuZGF0YV9yZWNlaXZlZCA9IHV0aWxzLmxvb3BBbmRJbml0KGRlZk9iai5kYXRhX3JlY2VpdmVkLCBjb25uU2VydmljZS5nZXRDb25uZWN0aW9uTW9kZWwpO1xyXG4gICAgICAgICAgICBzZWxmLmNvbGxhYm9yYXRpb25zID0gdXRpbHMubG9vcEFuZEluaXQoZGVmT2JqLmNvbGxhYm9yYXRpb25zLCBjb25uU2VydmljZS5nZXRDb25uZWN0aW9uTW9kZWwpO1xyXG4gICAgICAgICAgICBzZWxmLmtleV9wZW9wbGUgPSB1dGlscy5sb29wQW5kSW5pdChkZWZPYmoua2V5X3Blb3BsZSwgY29ublNlcnZpY2UuZ2V0Q29ubmVjdGlvbk1vZGVsKTtcclxuICAgICAgICAgICAgc2VsZi5lbXBsb3ltZW50cyA9IHV0aWxzLmxvb3BBbmRJbml0KGRlZk9iai5lbXBsb3ltZW50cywgY29ublNlcnZpY2UuZ2V0Q29ubmVjdGlvbk1vZGVsKTtcclxuICAgICAgICAgICAgc2VsZi5yZXZlbnVlcyA9IHV0aWxzLmxvb3BBbmRJbml0KGRlZk9iai5yZXZlbnVlcywgZmluYW5jZVNlcnZpY2UuZ2V0RmluYW5jZU1vZGVsKTtcclxuICAgICAgICAgICAgc2VsZi5leHBlbnNlcyA9IHV0aWxzLmxvb3BBbmRJbml0KGRlZk9iai5leHBlbnNlcywgZmluYW5jZVNlcnZpY2UuZ2V0RmluYW5jZU1vZGVsKTtcclxuICAgICAgICAgICAgc2VsZi5jYXRlZ29yaWVzID0gdXRpbHMubG9vcEFuZEluaXQoZGVmT2JqLmNhdGVnb3JpZXMsIGNhdGVnb3J5U2VydmljZS5nZXRDYXRlZ29yeU1vZGVsKTtcclxuXHJcbiAgICAgICAgICAgIHNlbGYuZ2VuZXJhdGVEQk1vZGVsID0gZ2VuZXJhdGVEQk1vZGVsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0RW50aXR5TW9kZWwob2JqKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRW50aXR5KG9iaik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRBbGwoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhcGlDYWxsZXIuZ2V0KCcvZW50aXRpZXMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNhdmVFbnRpdHkoZW50aXR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhcGlDYWxsZXIucG9zdChcIi9zYXZlXCIsIHsgXCJlbnRpdHlcIjogZW50aXR5IH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgXCJnZXRFbnRpdHlNb2RlbFwiOiBnZXRFbnRpdHlNb2RlbCxcclxuICAgICAgICAgICAgXCJnZXRFbnRpdHlUeXBlc1wiOiBnZXRFbnRpdHlUeXBlcyxcclxuICAgICAgICAgICAgXCJnZXRJbmZsdWVuY2VUeXBlc1wiOiBnZXRJbmZsdWVuY2VUeXBlcyxcclxuICAgICAgICAgICAgXCJnZXRBbGxcIjogZ2V0QWxsLFxyXG4gICAgICAgICAgICBcInNhdmVFbnRpdHlcIjogc2F2ZUVudGl0eVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgU2VydmljZS4kaW5qZWN0ID0gW1xyXG4gICAgICAgIFwiY2dBcGlDYWxsZXJcIixcclxuICAgICAgICBcImZ1bmRpbmdDb25uZWN0aW9uU2VydmljZVwiLFxyXG4gICAgICAgIFwiY29ubmVjdGlvblNlcnZpY2VcIixcclxuICAgICAgICBcImZpbmFuY2VTZXJ2aWNlXCIsXHJcbiAgICAgICAgXCJsb2NhdGlvblNlcnZpY2VcIixcclxuICAgICAgICBcImNhdGVnb3J5U2VydmljZVwiLFxyXG4gICAgICAgIFwiY2dVdGlsU2VydmljZVwiXHJcbiAgICBdO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKFwiY2l2aWMtZ3JhcGguYXBpXCIpXHJcbiAgICAgICAgLmZhY3RvcnkoXCJlbnRpdHlTZXJ2aWNlXCIsIFNlcnZpY2UpO1xyXG5cclxufSkoYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBmdW5jdGlvbiBkZXRhaWxzQ3RybCgkc2NvcGUsIF8pIHtcclxuICAgICAgICAkc2NvcGUuaXRlbXNTaG93bkRlZmF1bHQgPSB7XHJcbiAgICAgICAgICAgICdrZXlfcGVvcGxlJzogMyxcclxuICAgICAgICAgICAgJ2dyYW50c19naXZlbic6IDMsXHJcbiAgICAgICAgICAgICdncmFudHNfcmVjZWl2ZWQnOiAzLFxyXG4gICAgICAgICAgICAnaW52ZXN0bWVudHNfbWFkZSc6IDMsXHJcbiAgICAgICAgICAgICdpbnZlc3RtZW50c19yZWNlaXZlZCc6IDMsXHJcbiAgICAgICAgICAgICdjb2xsYWJvcmF0aW9ucyc6IDMsXHJcbiAgICAgICAgICAgICdlbXBsb3ltZW50cyc6IDMsXHJcbiAgICAgICAgICAgICdyZWxhdGlvbnMnOiAzLFxyXG4gICAgICAgICAgICAnZGF0YV9naXZlbic6IDMsXHJcbiAgICAgICAgICAgICdkYXRhX3JlY2VpdmVkJzogMyxcclxuICAgICAgICAgICAgJ3JldmVudWVzJzogMyxcclxuICAgICAgICAgICAgJ2V4cGVuc2VzJzogM1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5pdGVtc1Nob3duID0gXy5jbG9uZSgkc2NvcGUuaXRlbXNTaG93bkRlZmF1bHQpO1xyXG5cclxuICAgICAgICAkc2NvcGUuJG9uKCdlbnRpdHlDaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFJlc2V0IGl0ZW1zIHNob3duIGluIGRldGFpbHMgbGlzdC5cclxuICAgICAgICAgICAgJHNjb3BlLml0ZW1zU2hvd24gPSBfLmNsb25lKCRzY29wZS5pdGVtc1Nob3duRGVmYXVsdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJHNjb3BlLnNob3dNb3JlID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLml0ZW1zU2hvd25bdHlwZV0gPSAkc2NvcGUuY3VycmVudEVudGl0eVt0eXBlXS5sZW5ndGg7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuc2hvd0xlc3MgPSBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgICAgICAkc2NvcGUuaXRlbXNTaG93blt0eXBlXSA9ICRzY29wZS5pdGVtc1Nob3duRGVmYXVsdFt0eXBlXTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdjaXZpYy1ncmFwaCcpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2RldGFpbHNDdHJsJywgWyckc2NvcGUnLCBcIl9cIiwgZGV0YWlsc0N0cmxdKTtcclxufSkoYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbiAoYW5ndWxhciwgZDMsIEwpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgZGVwZW5kZW5jaWVzID0gW1xyXG4gICAgICAgICckc2NvcGUnLFxyXG4gICAgICAgICckdGltZW91dCcsXHJcbiAgICAgICAgJ2xlYWZsZXREYXRhJyxcclxuICAgICAgICAnXycsXHJcbiAgICAgICAgJyRmaWx0ZXInLFxyXG4gICAgICAgIG1hcEN0cmxcclxuICAgIF07XHJcblxyXG4gICAgZnVuY3Rpb24gbWFwQ3RybCgkc2NvcGUsICR0aW1lb3V0LCBsZWFmbGV0RGF0YSwgXywgJGZpbHRlcikge1xyXG5cclxuICAgICAgICAkc2NvcGUub3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgY2VudGVyICA6IHtcclxuICAgICAgICAgICAgICAgIGxhdCA6IDIwLjAwLFxyXG4gICAgICAgICAgICAgICAgbG5nIDogLTQwLjAwLFxyXG4gICAgICAgICAgICAgICAgem9vbTogM1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkZWZhdWx0czoge1xyXG4gICAgICAgICAgICAgICAgdGlsZUxheWVyICAgICAgICAgOiAnaHR0cHM6Ly9hcGkudGlsZXMubWFwYm94LmNvbS92NC9tYXBib3gubGlnaHQve3p9L3t4fS97eX0ucG5nP2FjY2Vzc190b2tlbj1way5leUoxSWpvaVpHRjJhV1JzY201MElpd2lZU0k2SWpBME0yUmtOek16WldKbU56RXpOR1l6TVRkaFlURXhZekF5Wm1VNFpURTFJbjAuVE5ZbEZ0YTJWSXRya240TDBaOUJKUScsXHJcbiAgICAgICAgICAgICAgICB0aWxlTGF5ZXJPcHRpb25zICA6IHtcclxuICAgICAgICAgICAgICAgICAgICBkZXRlY3RSZXRpbmE6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcmV1c2VUaWxlcyAgOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHpvb21Db250cm9sICAgICAgIDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGlvbkNvbnRyb2w6IGZhbHNlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9jb2RlcndhbGwuY29tL3Avbmdpc21hL3NhZmUtYXBwbHktaW4tYW5ndWxhci1qc1xyXG4gICAgICAgICRzY29wZS5zYWZlQXBwbHkgPSBmdW5jdGlvbiAoZm4pIHtcclxuICAgICAgICAgICAgdmFyIHBoYXNlID0gdGhpcy4kcm9vdC4kJHBoYXNlO1xyXG4gICAgICAgICAgICBpZiAocGhhc2UgPT09ICckYXBwbHknIHx8IHBoYXNlID09PSAnJGRpZ2VzdCcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChmbiAmJiAodHlwZW9mKGZuKSA9PT0gJ2Z1bmN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBmbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kYXBwbHkoZm4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY3JlYXRlUGllQ2hhcnQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgICA9IG9wdGlvbnMuZGF0YTtcclxuICAgICAgICAgICAgICAgIHZhciBwaWUgICAgPSBkMy5sYXlvdXQucGllKCkuc29ydChudWxsKS52YWx1ZShmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJjICAgID0gZDMuc3ZnLmFyYygpLm91dGVyUmFkaXVzKG9wdGlvbnMucikuaW5uZXJSYWRpdXMob3B0aW9ucy5yIC0gMTApO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IG9wdGlvbnMuciArIG9wdGlvbnMuc3Ryb2tlV2lkdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgdyAgICAgID0gY2VudGVyICogMjtcclxuICAgICAgICAgICAgICAgIHZhciBoICAgICAgPSB3O1xyXG4gICAgICAgICAgICAgICAgdmFyIHN2ZyAgICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhkMy5ucy5wcmVmaXguc3ZnLCAnc3ZnJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmlzICAgID0gZDMuc2VsZWN0KHN2ZylcclxuICAgICAgICAgICAgICAgICAgICAuZGF0YShkYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdwaWVjaGFydCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgdylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgaCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGFyY3MgPSB2aXMuc2VsZWN0QWxsKCcuYXJjJylcclxuICAgICAgICAgICAgICAgICAgICAuZGF0YShwaWUoZGF0YSkpXHJcbiAgICAgICAgICAgICAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnYXJjJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgY2VudGVyICsgJywnICsgY2VudGVyICsgJyknKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgbWFwID0gTC5tYXBib3gubWFwKCdtYXAnLCAnZXhhbXBsZXMubWFwLTlpanVrMjR5Jywge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIG1pblpvb206IDEsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgbWF4Wm9vbTogMlxyXG4gICAgICAgICAgICAgICAgLy8gfSkuc2V0VmlldyhbNDAsIC03NC41MF0sIDkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGFyY3MuYXBwZW5kKCdwYXRoJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZCcsIGFyYylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5kYXRhLnR5cGUgKyAnLWFyYyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYXJjcy5hcHBlbmQoXCJzdmc6dGV4dFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5jb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIC00ICogb3B0aW9ucy5jb3VudC50b1N0cmluZygpLmxlbmd0aClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImR5XCIsIDUpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImFyY1RleHRcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5YTUxTZXJpYWxpemVyID8gKG5ldyB3aW5kb3cuWE1MU2VyaWFsaXplcigpKS5zZXJpYWxpemVUb1N0cmluZyhzdmcpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBzdmcueG1sID8gc3ZnLnhtbCA6ICcnO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbiAobWFwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyZWRFbnRpdGllcyA9ICRzY29wZS5lbnRpdGllcztcclxuXHJcbiAgICAgICAgICAgICAgICBtYXAuaW52YWxpZGF0ZVNpemUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBuZXcgTC5Db250cm9sLlpvb20oe3Bvc2l0aW9uOiAndG9wcmlnaHQnfSkuYWRkVG8obWFwKTtcclxuICAgICAgICAgICAgICAgIEwuY29udHJvbC5sb2NhdGUoXHJcbiAgICAgICAgICAgICAgICAgICAge3Bvc2l0aW9uOiAndG9wcmlnaHQnLCBzaG93UG9wdXA6IGZhbHNlLCBpY29uOiAnZmEgZmEtbG9jYXRpb24tYXJyb3cnfVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRUbyhtYXApO1xyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNsdXN0ZXJJY29uKGNsdXN0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gICAgICAgPSBjbHVzdGVyLmdldEFsbENoaWxkTWFya2VycygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b3RhbCAgICAgICAgICA9IGNoaWxkcmVuLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2x1c3Rlck1hcmtlcnMgPSBfLnBsdWNrKGNoaWxkcmVuLCAnb3B0aW9ucycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudHMgICAgICAgICA9IF8ubWFwKF8uY291bnRCeShjbHVzdGVyTWFya2VycywgJ3R5cGUnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoY291bnQsIHR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsndHlwZSc6IHR5cGUsICd2YWx1ZSc6IGNvdW50fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgciAgICAgICAgICAgICAgPSAyODtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3Ryb2tlV2lkdGggICAgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpY29uRGltICAgICAgICA9IChyICsgc3Ryb2tlV2lkdGgpICogMjtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaHRtbCAgICAgICAgICAgPSBjcmVhdGVQaWVDaGFydChcclxuICAgICAgICAgICAgICAgICAgICAgICAge2RhdGE6IGNvdW50cywgcjogciwgc3Ryb2tlV2lkdGg6IHN0cm9rZVdpZHRoLCBjb3VudDogdG90YWx9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEwuRGl2SWNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwgICAgIDogaHRtbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnbWFya2VyLWNsdXN0ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZSA6IG5ldyBMLnBvaW50KGljb25EaW0sIGljb25EaW0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFya2VySWNvbiAgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ05vbi1Qcm9maXQnOiBMLmljb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uVXJsIDogJ2ltZy9tYXJrZXItbm9ucHJvZi5zdmcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzYwLCA2MF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICAnRm9yLVByb2ZpdCc6IEwuaWNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25VcmwgOiAnaW1nL21hcmtlci1wcm9mLnN2ZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbNjAsIDYwXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICdJbmRpdmlkdWFsJzogTC5pY29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVybCA6ICdpbWcvbWFya2VyLWluZC5zdmcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzYwLCA2MF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICAnR292ZXJubWVudCc6IEwuaWNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25VcmwgOiAnaW1nL21hcmtlci1nb3Yuc3ZnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFs2MCwgNjBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG1hcmtlcnMgPSBMLm1hcmtlckNsdXN0ZXJHcm91cCh7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNwaWRlcmZ5T25NYXhab29tOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHNob3dDb3ZlcmFnZU9uSG92ZXI6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb25DcmVhdGVGdW5jdGlvbjogY2x1c3Rlckljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4Q2x1c3RlclJhZGl1czogMzAsXHJcbiAgICAgICAgICAgICAgICAgICAgc3BpZGVyZnlEaXN0YW5jZU11bHRpcGxpZXI6IDEuM1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG91dGVyTG9vcChlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBpbm5lckxvb3AobG9jKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghXy5ldmVyeShsb2MuY29vcmRpbmF0ZXMpKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2MuY29vcmRpbmF0ZXNbMF0udG9GaXhlZCg1KSA9PT0gJzQwLjc4MjAwJyAmJiBsb2MuY29vcmRpbmF0ZXNbMV0udG9GaXhlZCg1KSA9PT0gJy03My44MzE3MCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYy5jb29yZGluYXRlc1swXSA9IDQwLjc3MDY1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jLmNvb3JkaW5hdGVzWzFdID0gLTczLjk3NDA2O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtID0gTC5tYXJrZXIobG9jLmNvb3JkaW5hdGVzLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBtYXJrZXJJY29uW2VudGl0eS50eXBlXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0aXRsZSc6IGVudGl0eS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VudGl0eV9pZCc6IGVudGl0eS5pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtZXNzYWdlJzogZW50aXR5Lm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHlwZSc6IGVudGl0eS50eXBlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJzLmFkZExheWVyKG0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgXy5mb3JFYWNoKGVudGl0eS5sb2NhdGlvbnMsIGlubmVyTG9vcCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJPcmlnaW5hbDogJU9cIiwgJHNjb3BlLmVudGl0aWVzKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmlsdGVyZWQ6ICVPXCIsIGZpbHRlcmVkRW50aXRpZXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChmaWx0ZXJlZEVudGl0aWVzLCBvdXRlckxvb3ApO1xyXG4gICAgICAgICAgICAgICAgbWFwLmFkZExheWVyKG1hcmtlcnMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9uTG9jYXRpb25FcnJvcihsZWFmbGV0RXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGxlYWZsZXRFcnJvci5tZXNzYWdlICsgXCIgICVPXCIsIGxlYWZsZXRFcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbWFwLm9uKCdsb2NhdGlvbmVycm9yJywgb25Mb2NhdGlvbkVycm9yKTtcclxuICAgICAgICAgICAgICAgIC8vIG1hcC5sb2NhdGUoe3NldFZpZXc6IHRydWUsIG1heFpvb206IDExfSk7XHJcbiAgICAgICAgICAgICAgICBtYXJrZXJzLm9uKCdjbGljaycsIGZ1bmN0aW9uIChtYXJrZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2V0RW50aXR5SUQobWFya2VyLmxheWVyLm9wdGlvbnMuZW50aXR5X2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xpY2tlZEVudGl0eS5lbnRpdHkgPSAkc2NvcGUuY3VycmVudEVudGl0eTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkICAgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuc2V0dGluZ3NFbmFibGVkICYmICRzY29wZS5tb2JpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvZ2dsZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIG1hcC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsaWNrZWRFbnRpdHkuZW50aXR5ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWN0aW9ucy5pbnRlcmFjdGVkICAgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRvbignc2VsZWN0SXRlbScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSAkc2NvcGUuY3VycmVudEVudGl0eS5sb2NhdGlvbnMubGVuZ3RoID4gMCA/IF8ucGx1Y2soXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jdXJyZW50RW50aXR5LmxvY2F0aW9ucywgJ2Nvb3JkaW5hdGVzJykgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb29yZGluYXRlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5zZXRWaWV3KGNvb3JkaW5hdGVzWzBdLCAxMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hY3Rpb25zLmludGVyYWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zYWZlQXBwbHkoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnY2l2aWMtZ3JhcGgnKVxyXG5cclxuICAgICAgICAuY29udHJvbGxlcignbWFwQ3RybCcsIGRlcGVuZGVuY2llcyk7XHJcbn0pKGFuZ3VsYXIsIGQzLCBMKTtcclxuIl19
